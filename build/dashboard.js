var app=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var e,n=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(e,n){e.exports=function(){
/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */
var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function o(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,c)}u((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u(t,e){return t(e={exports:{}},e.exports),e.exports}var s=function(t){return t&&t.Math==Math&&t},l=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof a&&a)||Function("return this")(),f=function(t){try{return!!t()}catch(t){return!0}},d=!f((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),p={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,v={f:h&&!p.call({1:2},1)?function(t){var e=h(this,t);return!!e&&e.enumerable}:p},m=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},y={}.toString,w=function(t){return y.call(t).slice(8,-1)},g="".split,b=f((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==w(t)?g.call(t,""):Object(t)}:Object,_=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},k=function(t){return b(_(t))},S=function(t){return"object"==typeof t?null!==t:"function"==typeof t},O=function(t,e){if(!S(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!S(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},T={}.hasOwnProperty,E=function(t,e){return T.call(t,e)},A=l.document,x=S(A)&&S(A.createElement),j=function(t){return x?A.createElement(t):{}},I=!d&&!f((function(){return 7!=Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a})),P=Object.getOwnPropertyDescriptor,C={f:d?P:function(t,e){if(t=k(t),e=O(e,!0),I)try{return P(t,e)}catch(t){}if(E(t,e))return m(!v.f.call(t,e),t[e])}},U=function(t){if(!S(t))throw TypeError(String(t)+" is not an object");return t},D=Object.defineProperty,L={f:d?D:function(t,e,n){if(U(t),e=O(e,!0),U(n),I)try{return D(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},F=d?function(t,e,n){return L.f(t,e,m(1,n))}:function(t,e,n){return t[e]=n,t},R=function(t,e){try{F(l,t,e)}catch(n){l[t]=e}return e},$=l["__core-js_shared__"]||R("__core-js_shared__",{}),M=Function.toString;"function"!=typeof $.inspectSource&&($.inspectSource=function(t){return M.call(t)});var z,N,W,q=$.inspectSource,B=l.WeakMap,J="function"==typeof B&&/native code/.test(q(B)),H=u((function(t){(t.exports=function(t,e){return $[t]||($[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),G=0,Y=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+Y).toString(36)},X=H("keys"),K=function(t){return X[t]||(X[t]=V(t))},Q={},Z=l.WeakMap;if(J){var tt=new Z,et=tt.get,nt=tt.has,rt=tt.set;z=function(t,e){return rt.call(tt,t,e),e},N=function(t){return et.call(tt,t)||{}},W=function(t){return nt.call(tt,t)}}else{var ot=K("state");Q[ot]=!0,z=function(t,e){return F(t,ot,e),e},N=function(t){return E(t,ot)?t[ot]:{}},W=function(t){return E(t,ot)}}var it,at={set:z,get:N,has:W,enforce:function(t){return W(t)?N(t):z(t,{})},getterFor:function(t){return function(e){var n;if(!S(e)||(n=N(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ct=u((function(t){var e=at.get,n=at.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var a=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||E(o,"name")||F(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==l?(a?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=o:F(t,e,o)):c?t[e]=o:R(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||q(this)}))})),ut=l,st=function(t){return"function"==typeof t?t:void 0},lt=function(t,e){return arguments.length<2?st(ut[t])||st(l[t]):ut[t]&&ut[t][e]||l[t]&&l[t][e]},ft=Math.ceil,dt=Math.floor,pt=function(t){return isNaN(t=+t)?0:(t>0?dt:ft)(t)},ht=Math.min,vt=function(t){return t>0?ht(pt(t),9007199254740991):0},mt=Math.max,yt=Math.min,wt=function(t){return function(e,n,r){var o,i=k(e),a=vt(i.length),c=function(t,e){var n=pt(t);return n<0?mt(n+e,0):yt(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},gt={includes:wt(!0),indexOf:wt(!1)},bt=gt.indexOf,_t=function(t,e){var n,r=k(t),o=0,i=[];for(n in r)!E(Q,n)&&E(r,n)&&i.push(n);for(;e.length>o;)E(r,n=e[o++])&&(~bt(i,n)||i.push(n));return i},kt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],St=kt.concat("length","prototype"),Ot={f:Object.getOwnPropertyNames||function(t){return _t(t,St)}},Tt={f:Object.getOwnPropertySymbols},Et=lt("Reflect","ownKeys")||function(t){var e=Ot.f(U(t)),n=Tt.f;return n?e.concat(n(t)):e},At=function(t,e){for(var n=Et(e),r=L.f,o=C.f,i=0;i<n.length;i++){var a=n[i];E(t,a)||r(t,a,o(e,a))}},xt=/#|\.prototype\./,jt=function(t,e){var n=Pt[It(t)];return n==Ut||n!=Ct&&("function"==typeof e?f(e):!!e)},It=jt.normalize=function(t){return String(t).replace(xt,".").toLowerCase()},Pt=jt.data={},Ct=jt.NATIVE="N",Ut=jt.POLYFILL="P",Dt=jt,Lt=C.f,Ft=function(t,e){var n,r,o,i,a,c=t.target,u=t.global,s=t.stat;if(n=u?l:s?l[c]||R(c,{}):(l[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Lt(n,r))&&a.value:n[r],!Dt(u?r:c+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;At(i,o)}(t.sham||o&&o.sham)&&F(i,"sham",!0),ct(n,r,i,t)}},Rt=!!Object.getOwnPropertySymbols&&!f((function(){return!String(Symbol())})),$t=Rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Mt=H("wks"),zt=l.Symbol,Nt=$t?zt:zt&&zt.withoutSetter||V,Wt=function(t){return E(Mt,t)||(Rt&&E(zt,t)?Mt[t]=zt[t]:Mt[t]=Nt("Symbol."+t)),Mt[t]},qt=Wt("match"),Bt=function(t){if(function(t){var e;return S(t)&&(void 0!==(e=t[qt])?!!e:"RegExp"==w(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Jt=Wt("match"),Ht=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Jt]=!1,"/./"[t](e)}catch(t){}}return!1},Gt=C.f,Yt="".startsWith,Vt=Math.min,Xt=Ht("startsWith"),Kt=!(Xt||(it=Gt(String.prototype,"startsWith"),!it||it.writable));Ft({target:"String",proto:!0,forced:!Kt&&!Xt},{startsWith:function(t){var e=String(_(this));Bt(t);var n=vt(Vt(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Yt?Yt.call(e,r,n):e.slice(n,n+r.length)===r}});var Qt,Zt,te,ee=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ne=function(t,e,n){if(ee(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},re=Function.call,oe=function(t,e,n){return ne(re,l[t].prototype[e],n)},ie=(oe("String","startsWith"),function(t){return function(e,n){var r,o,i=String(_(e)),a=pt(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):r:t?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}}),ae={codeAt:ie(!1),charAt:ie(!0)},ce=function(t){return Object(_(t))},ue=!f((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),se=K("IE_PROTO"),le=Object.prototype,fe=ue?Object.getPrototypeOf:function(t){return t=ce(t),E(t,se)?t[se]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?le:null},de=Wt("iterator"),pe=!1;[].keys&&("next"in(te=[].keys())?(Zt=fe(fe(te)))!==Object.prototype&&(Qt=Zt):pe=!0),null==Qt&&(Qt={}),E(Qt,de)||F(Qt,de,(function(){return this}));var he,ve={IteratorPrototype:Qt,BUGGY_SAFARI_ITERATORS:pe},me=Object.keys||function(t){return _t(t,kt)},ye=d?Object.defineProperties:function(t,e){U(t);for(var n,r=me(e),o=r.length,i=0;o>i;)L.f(t,n=r[i++],e[n]);return t},we=lt("document","documentElement"),ge=K("IE_PROTO"),be=function(){},_e=function(t){return"<script>"+t+"<\/script>"},ke=function(){try{he=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ke=he?function(t){t.write(_e("")),t.close();var e=t.parentWindow.Object;return t=null,e}(he):((e=j("iframe")).style.display="none",we.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(_e("document.F=Object")),t.close(),t.F);for(var n=kt.length;n--;)delete ke.prototype[kt[n]];return ke()};Q[ge]=!0;var Se=Object.create||function(t,e){var n;return null!==t?(be.prototype=U(t),n=new be,be.prototype=null,n[ge]=t):n=ke(),void 0===e?n:ye(n,e)},Oe=L.f,Te=Wt("toStringTag"),Ee=function(t,e,n){t&&!E(t=n?t:t.prototype,Te)&&Oe(t,Te,{configurable:!0,value:e})},Ae={},xe=ve.IteratorPrototype,je=function(){return this},Ie=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return U(n),function(t){if(!S(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Pe=ve.IteratorPrototype,Ce=ve.BUGGY_SAFARI_ITERATORS,Ue=Wt("iterator"),De=function(){return this},Le=ae.charAt,Fe=at.set,Re=at.getterFor("String Iterator");!function(t,e,n,r,o,i,a){!function(t,e,n){var r="String Iterator";t.prototype=Se(xe,{next:m(1,n)}),Ee(t,r,!1),Ae[r]=je}(n,0,(function(){var t,e=Re(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Le(n,r),e.index+=t.length,{value:t,done:!1})}));var c,u=function(t){if(t===o&&f)return f;if(!Ce&&t in s)return s[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},s=t.prototype,l=s[Ue]||s["@@iterator"]||o,f=!Ce&&l||u(o);l&&(c=fe(l.call(new t)),Pe!==Object.prototype&&c.next&&(fe(c)!==Pe&&(Ie?Ie(c,Pe):"function"!=typeof c[Ue]&&F(c,Ue,De)),Ee(c,"String Iterator",!0))),s[Ue]!==f&&F(s,Ue,f),Ae[e]=f}(String,"String",(function(t){Fe(this,{type:"String Iterator",string:String(t),index:0})}));var $e=function(t,e,n,r){try{return r?e(U(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&U(o.call(t)),e}},Me=Wt("iterator"),ze=Array.prototype,Ne=function(t){return void 0!==t&&(Ae.Array===t||ze[Me]===t)},We=function(t,e,n){var r=O(e);r in t?L.f(t,r,m(0,n)):t[r]=n},qe={};qe[Wt("toStringTag")]="z";var Be="[object z]"===String(qe),Je=Wt("toStringTag"),He="Arguments"==w(function(){return arguments}()),Ge=Be?w:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Je))?n:He?w(e):"Object"==(r=w(e))&&"function"==typeof e.callee?"Arguments":r},Ye=Wt("iterator"),Ve=function(t){if(null!=t)return t[Ye]||t["@@iterator"]||Ae[Ge(t)]},Xe=Wt("iterator"),Ke=!1;try{var Qe=0,Ze={next:function(){return{done:!!Qe++}},return:function(){Ke=!0}};Ze[Xe]=function(){return this},Array.from(Ze,(function(){throw 2}))}catch(e){}var tn=!function(t,e){if(!Ke)return!1;var n=!1;try{var r={};r[Xe]=function(){return{next:function(){return{done:n=!0}}}},function(t){Array.from(t)}(r)}catch(t){}return n}();Ft({target:"Array",stat:!0,forced:tn},{from:function(t){var e,n,r,o,i,a,c=ce(t),u="function"==typeof this?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,f=void 0!==l,d=Ve(c),p=0;if(f&&(l=ne(l,s>2?arguments[2]:void 0,2)),null==d||u==Array&&Ne(d))for(n=new u(e=vt(c.length));e>p;p++)a=f?l(c[p],p):c[p],We(n,p,a);else for(i=(o=d.call(c)).next,n=new u;!(r=i.call(o)).done;p++)a=f?$e(o,l,[r.value,p],!0):r.value,We(n,p,a);return n.length=p,n}}),ut.Array.from;var en,nn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,rn=L.f,on=l.Int8Array,an=on&&on.prototype,cn=l.Uint8ClampedArray,un=cn&&cn.prototype,sn=on&&fe(on),ln=an&&fe(an),fn=Object.prototype,dn=fn.isPrototypeOf,pn=Wt("toStringTag"),hn=V("TYPED_ARRAY_TAG"),vn=nn&&!!Ie&&"Opera"!==Ge(l.opera),mn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(en in mn)l[en]||(vn=!1);if((!vn||"function"!=typeof sn||sn===Function.prototype)&&(sn=function(){throw TypeError("Incorrect invocation")},vn))for(en in mn)l[en]&&Ie(l[en],sn);if((!vn||!ln||ln===fn)&&(ln=sn.prototype,vn))for(en in mn)l[en]&&Ie(l[en].prototype,ln);if(vn&&fe(un)!==ln&&Ie(un,ln),d&&!E(ln,pn))for(en in rn(ln,pn,{get:function(){return S(this)?this[hn]:void 0}}),mn)l[en]&&F(l[en],hn,en);var yn=Wt("species"),wn=function(t){if(function(t){return S(t)&&E(mn,Ge(t))}(t))return t;throw TypeError("Target is not a typed array")},gn=function(t){if(Ie){if(dn.call(sn,t))return t}else for(var e in mn)if(E(mn,en)){var n=l[e];if(n&&(t===n||dn.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},bn=[].slice;!function(t,e,n){if(d){if(n)for(var r in mn){var o=l[r];o&&E(o.prototype,t)&&delete o.prototype[t]}ln[t]&&!n||ct(ln,t,n?e:vn&&an[t]||e)}}("slice",(function(t,e){for(var n=bn.call(wn(this),t,e),r=function(t,e){var n,r=U(t).constructor;return void 0===r||null==(n=U(r)[yn])?e:ee(n)}(this,this.constructor),o=0,i=n.length,a=new(gn(r))(i);i>o;)a[o]=n[o++];return a}),f((function(){new Int8Array(1).slice()})));var _n=Wt("unscopables"),kn=Array.prototype;null==kn[_n]&&L.f(kn,_n,{configurable:!0,value:Se(null)});var Sn=Object.defineProperty,On={},Tn=function(t){throw t},En=gt.includes,An=function(t,e){if(E(On,t))return On[t];e||(e={});var n=[][t],r=!!E(e,"ACCESSORS")&&e.ACCESSORS,o=E(e,0)?e[0]:Tn,i=E(e,1)?e[1]:void 0;return On[t]=!!n&&!f((function(){if(r&&!d)return!0;var t={length:-1};r?Sn(t,1,{enumerable:!0,get:Tn}):t[1]=1,n.call(t,o,i)}))}("indexOf",{ACCESSORS:!0,1:0});function xn(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}Ft({target:"Array",proto:!0,forced:!An},{includes:function(t){return En(this,t,arguments.length>1?arguments[1]:void 0)}}),kn[_n].includes=!0,oe("Array","includes"),Ft({target:"String",proto:!0,forced:!Ht("includes")},{includes:function(t){return!!~String(_(this)).indexOf(Bt(t),arguments.length>1?arguments[1]:void 0)}}),oe("String","includes");var jn=setTimeout;function In(t){return Boolean(t&&void 0!==t.length)}function Pn(){}function Cn(t){if(!(this instanceof Cn))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],$n(t,this)}function Un(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Cn._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void Ln(e.promise,t)}Dn(e.promise,r)}else(1===t._state?Dn:Ln)(e.promise,t._value)}))):t._deferreds.push(e)}function Dn(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof Cn)return t._state=3,t._value=e,void Fn(t);if("function"==typeof n)return void $n((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,Fn(t)}catch(e){Ln(t,e)}var r,o}function Ln(t,e){t._state=2,t._value=e,Fn(t)}function Fn(t){2===t._state&&0===t._deferreds.length&&Cn._immediateFn((function(){t._handled||Cn._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Un(t,t._deferreds[e]);t._deferreds=null}function Rn(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function $n(t,e){var n=!1;try{t((function(t){n||(n=!0,Dn(e,t))}),(function(t){n||(n=!0,Ln(e,t))}))}catch(t){if(n)return;n=!0,Ln(e,t)}}Cn.prototype.catch=function(t){return this.then(null,t)},Cn.prototype.then=function(t,e){var n=new this.constructor(Pn);return Un(this,new Rn(t,e,n)),n},Cn.prototype.finally=xn,Cn.all=function(t){return new Cn((function(e,n){if(!In(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(e){i(t,e)}),n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},Cn.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Cn?t:new Cn((function(e){e(t)}))},Cn.reject=function(t){return new Cn((function(e,n){n(t)}))},Cn.race=function(t){return new Cn((function(e,n){if(!In(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)Cn.resolve(t[r]).then(e,n)}))},Cn._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){jn(t,0)},Cn._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Mn=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in Mn?Mn.Promise.prototype.finally||(Mn.Promise.prototype.finally=xn):Mn.Promise=Cn,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1==r.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(t.TextEncoder&&t.TextDecoder)return!1;var r=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,o=Math.max(32,n+(n>>1)+7),i=new Uint8Array(o>>3<<3);e<n;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<n){var c=t.charCodeAt(e);56320==(64512&c)&&(++e,a=((1023&a)<<10)+(1023&c)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>i.length&&(o+=8,o=(o*=1+e/t.length*2)>>3<<3,(c=new Uint8Array(o)).set(i),i=c),0==(4294967168&a))i[r++]=a;else{if(0==(4294965248&a))i[r++]=a>>6&31|192;else if(0==(4294901760&a))i[r++]=a>>12&15|224,i[r++]=a>>6&63|128;else{if(0!=(4292870144&a))continue;i[r++]=a>>18&7|240,i[r++]=a>>12&63|128,i[r++]=a>>6&63|128}i[r++]=63&a|128}}return i.slice?i.slice(0,r):i.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");t.buffer instanceof ArrayBuffer&&(t=t.buffer),t=new Uint8Array(t),e=0;for(var n=[],r=[];;){var o=e<t.length;if(!o||65536&e){if(r.push(String.fromCharCode.apply(null,n)),!o)return r.join("");n=[],t=t.subarray(e),e=0}if(0===(o=t[e++]))n.push(0);else if(0==(128&o))n.push(o);else if(192==(224&o)){var i=63&t[e++];n.push((31&o)<<6|i)}else if(224==(240&o)){i=63&t[e++];var a=63&t[e++];n.push((31&o)<<12|i<<6|a)}else 240==(248&o)&&(65535<(o=(7&o)<<18|(i=63&t[e++])<<12|(a=63&t[e++])<<6|63&t[e++])&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o))}},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:a);var zn=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var r=t.locked.get(e);void 0===r?void 0===n?t.locked.set(e,[]):t.locked.set(e,[n]):void 0!==n&&(r.unshift(n),t.locked.set(e,r))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,r){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var r=n.pop();t.locked.set(e,n),void 0!==r&&setTimeout(r,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));c(zn);var Nn=c(u((function(t,e){var n=a&&a.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,c)}u((r=r.apply(t,e||[])).next())}))},r=a&&a.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function o(t){return new Promise((function(e){return setTimeout(e,t)}))}function i(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+i(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,c,u,s,l,f;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+i(4),c=Date.now()+a,u="browser-tabs-lock-key-"+e,s=window.localStorage,r.label=1;case 1:return Date.now()<c?[4,o(30)]:[3,8];case 2:return r.sent(),null!==s.getItem(u)?[3,5]:(l=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),s.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:l,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(f=s.getItem(u))&&(f=JSON.parse(f)).id===this.id&&f.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+i(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var o=this;return r(this,(function(i){return setTimeout((function(){return n(o,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return[4,zn.default().lock(e)];case 1:return r.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(o=n.getItem(t))?(zn.default().unlock(e),[2]):((o=JSON.parse(o)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(o)),zn.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(zn.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,o=Date.now(),i=!1;function a(){if(i||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(c),i=!0),!r){r=!0;var e=50-(Date.now()-o);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",a),t.addToWaiting(a);var c=setTimeout(a,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,o,i;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,o="browser-tabs-lock-key-"+e,null===(i=n.getItem(o))?[2]:(i=JSON.parse(i)).id!==this.id?[3,2]:[4,zn.default().lock(i.iat)];case 1:r.sent(),this.acquiredIatSet.delete(i.iat),n.removeItem(o),zn.default().unlock(i.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,i=0;i<r.length;i++){var a=r[i];if(a.includes("browser-tabs-lock-key")){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<e||void 0!==c.timeRefreshed&&c.timeRefreshed<e)&&(n.removeItem(a),o=!0)}}o&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c})));function Wn(t,e){return e=e||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],a=[],c={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return a},get:function(t){return c[t.toLowerCase()]},has:function(t){return t.toLowerCase()in c}}}};for(var s in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){i.push(e=e.toLowerCase()),a.push([e,n]),c[e]=c[e]?c[e]+","+n:n})),n(u())},o.onerror=r,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(s,e.headers[s]);o.send(e.body||null)}))}var qn={},Bn=function(t){return t.filter((function(e,n){return t.indexOf(e)===n}))},Jn={error:"timeout",error_description:"Timeout"},Hn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean).join();return Bn(n.replace(/\s/g,",").split(",")).join(" ").trim()},Gn=function(t,e,n){return void 0===n&&(n=60),new Promise((function(r,o){var i=window.document.createElement("iframe");i.setAttribute("width","0"),i.setAttribute("height","0"),i.style.display="none";var a=setTimeout((function(){o(Jn),window.document.body.removeChild(i)}),1e3*n),c=function(t){t.origin==e&&t.data&&"authorization_response"===t.data.type&&(t.source.close(),t.data.response.error?o(t.data.response):r(t.data.response),clearTimeout(a),window.removeEventListener("message",c,!1),setTimeout((function(){return window.document.body.removeChild(i)}),2e3))};window.addEventListener("message",c,!1),window.document.body.appendChild(i),i.setAttribute("src",t)}))},Yn=function(t,e){var r,o,i,a=e.popup;if(a?a.location.href=t:(r=t,o=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2,a=window.open(r,"auth0:authorize:popup","left="+o+",top="+i+",width=400,height=600,resizable,scrollbars=yes,status=1")),!a)throw new Error("Could not open popup");return new Promise((function(t,r){var o=setTimeout((function(){r(n(n({},Jn),{popup:a}))}),1e3*(e.timeoutInSeconds||60));window.addEventListener("message",(function(e){if(e.data&&"authorization_response"===e.data.type){if(clearTimeout(o),a.close(),e.data.response.error)return r(e.data.response);t(e.data.response)}}))}))},Vn=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(rr().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},Xn=function(t){return btoa(t)},Kn=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},Qn=function(t){return o(void 0,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e=or().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},Zn=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},tr=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[\+\/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},er=function(t,e){return o(void 0,void 0,void 0,(function(){var n,o,a,c,u,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,Wn(t,e)];case 1:return[4,(n=i.sent()).json()];case 2:if(o=i.sent(),a=o.error,c=o.error_description,u=r(o,["error","error_description"]),!n.ok)throw s=c||"HTTP error. Unable to fetch "+t,(l=new Error(s)).error=a||"request_error",l.error_description=s,l;return[2,u]}}))}))},nr=function(t){return o(void 0,void 0,void 0,(function(){var e=t.baseUrl,o=r(t,["baseUrl"]);return i(this,(function(t){switch(t.label){case 0:return[4,er(e+"/oauth/token",{method:"POST",body:JSON.stringify(n({grant_type:"authorization_code",redirect_uri:window.location.origin},o)),headers:{"Content-type":"application/json"}})];case 1:return[2,t.sent()]}}))}))},rr=function(){return window.crypto||window.msCrypto},or=function(){var t=rr();return t.subtle||t.webkitSubtle},ir=function(t){return t.audience+"::"+t.scope},ar=function(){function t(){this.cache={}}return t.prototype.save=function(t){var e=this,n=ir(t);this.cache[n]=t;var r,o,i,a=(r=t.expires_in,o=t.decodedToken.claims.exp,i=(new Date(1e3*o).getTime()-(new Date).getTime())/1e3,1e3*Math.min(r,i)*.8);setTimeout((function(){delete e.cache[n]}),a)},t.prototype.get=function(t){return this.cache[ir(t)]},t}(),cr=u((function(t,e){var n=a&&a.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function o(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return r("Expires",t.expires?t.expires.toUTCString():"")+r("Domain",t.domain)+r("Path",t.path)+r("Secure",t.secure)+r("SameSite",t.sameSite)}(n)}function i(t){for(var e={},n=t?t.split("; "):[],r=/(%[\dA-F]{2})+/gi,o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{e[i[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(t){}}return e}function c(){return i(document.cookie)}function u(t,e,r){document.cookie=o(t,e,n({path:"/"},r))}e.__esModule=!0,e.encode=o,e.parse=i,e.getAll=c,e.get=function(t){return c()[t]},e.set=u,e.remove=function(t,e){u(t,"",n(n({},e),{expires:-1}))}}));c(cr),cr.encode,cr.parse;var ur=cr.getAll,sr=cr.get,lr=cr.set,fr=cr.remove,dr=function(t){var e=sr(t);if(void 0!==e)return JSON.parse(e)},pr=function(t,e,n){lr(t,JSON.stringify(e),{expires:n.daysUntilExpire})},hr=function(t){fr(t)},vr=function(t){return"a0.spajs.txs."+t},mr=function(){function t(){var t=this;this.transactions={},Object.keys(ur()||{}).filter((function(t){return t.startsWith("a0.spajs.txs.")})).forEach((function(e){var n=e.replace("a0.spajs.txs.","");t.transactions[n]=dr(e)}))}return t.prototype.create=function(t,e){this.transactions[t]=e,pr(vr(t),e,{daysUntilExpire:1})},t.prototype.get=function(t){return this.transactions[t]},t.prototype.remove=function(t){delete this.transactions[t],hr(vr(t))},t}(),yr=function(t){return"number"==typeof t},wr=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],gr=function(t){function n(e,r,o,i){void 0===i&&(i=null);var a=t.call(this,r)||this;return a.error=e,a.error_description=r,a.state=o,a.appState=i,Object.setPrototypeOf(a,n.prototype),a}return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,t),n}(Error),br=new Nn,_r=function(){function t(t){this.options=t,this.DEFAULT_SCOPE="openid profile email",this.cache=new ar,this.transactionManager=new mr,this.domainUrl="https://"+this.options.domain,this.tokenIssuer=this.options.issuer?"https://"+this.options.issuer+"/":this.domainUrl+"/"}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify({name:"auth0-spa-js",version:"1.6.5"})));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,o,i,a){var c=this.options,u=(c.domain,c.leeway,r(c,["domain","leeway"]));return n(n(n({},u),t),{scope:Hn(this.DEFAULT_SCOPE,this.options.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:o,redirect_uri:a||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+Kn(t))},t.prototype._verifyIdToken=function(t,e){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],r=e[1],o=e[2];if(3!==e.length||!n||!r||!o)throw new Error("ID token could not be decoded");var i=JSON.parse(Zn(r)),a={__raw:t},c={};return Object.keys(i).forEach((function(t){a[t]=i[t],wr.includes(t)||(c[t]=i[t])})),{encoded:{header:n,payload:r,signature:o},header:JSON.parse(Zn(n)),claims:a,user:c}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!yr(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!yr(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!yr(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date,o=new Date(0),i=new Date(0),a=new Date(0);if(a.setUTCSeconds((parseInt(e.claims.auth_time)+t.max_age)/1e3+n),o.setUTCSeconds(e.claims.exp+n),i.setUTCSeconds(e.claims.nbf-n),r>o)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+o+")");if(yr(e.claims.nbf)&&r<i)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+i);if(yr(e.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var e,n,o,a,c,u,s,l,f,d,p;return i(this,(function(i){switch(i.label){case 0:return e=t.redirect_uri,n=t.appState,o=r(t,["redirect_uri","appState"]),a=Xn(Vn()),c=Vn(),u=Vn(),[4,Qn(u)];case 1:return s=i.sent(),l=tr(s),f=t.fragment?"#"+t.fragment:"",d=this._getParams(o,a,c,l,e),p=this._authorizeUrl(d),this.transactionManager.create(a,{nonce:c,code_verifier:u,appState:n,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri}),[2,p+f]}}))}))},t.prototype.loginWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=qn),o(this,void 0,void 0,(function(){var o,a,c,u,s,l,f,d,p,h,v,m;return i(this,(function(i){switch(i.label){case 0:return o=r(t,[]),a=Xn(Vn()),c=Vn(),u=Vn(),[4,Qn(u)];case 1:return s=i.sent(),l=tr(s),f=this._getParams(o,a,c,l,this.options.redirect_uri||window.location.origin),d=this._authorizeUrl(n(n({},f),{response_mode:"web_message"})),[4,Yn(d,n(n({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds}))];case 2:if(p=i.sent(),a!==p.state)throw new Error("Invalid state");return[4,nr({baseUrl:this.domainUrl,audience:t.audience||this.options.audience,client_id:this.options.client_id,code_verifier:u,code:p.code,redirect_uri:f.redirect_uri})];case 3:return h=i.sent(),v=this._verifyIdToken(h.id_token,c),m=n(n({},h),{decodedToken:v,scope:f.scope,audience:f.audience||"default"}),this.cache.save(m),pr("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={audience:this.options.audience||"default",scope:this.options.scope||this.DEFAULT_SCOPE}),o(this,void 0,void 0,(function(){var e;return i(this,(function(n){return t.scope=Hn(this.DEFAULT_SCOPE,t.scope),[2,(e=this.cache.get(t))&&e.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={audience:this.options.audience||"default",scope:this.options.scope||this.DEFAULT_SCOPE}),o(this,void 0,void 0,(function(){var e;return i(this,(function(n){return t.scope=Hn(this.DEFAULT_SCOPE,t.scope),[2,(e=this.cache.get(t))&&e.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(t)];case 1:return e=n.sent(),window.location.assign(e),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),o(this,void 0,void 0,(function(){var e,r,o,a,c,u,s,l,f,d,p;return i(this,(function(i){switch(i.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(r=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),r={};return e.forEach((function(t){var e=t.split("="),n=e[0],o=e[1];r[n]=decodeURIComponent(o)})),n(n({},r),{expires_in:parseInt(r.expires_in)})}(e.join("")),o=r.state,a=r.code,c=r.error,u=r.error_description,!(s=this.transactionManager.get(o)))throw new Error("Invalid state");if(c)throw this.transactionManager.remove(o),new gr(c,u,o,s.appState);return this.transactionManager.remove(o),l={baseUrl:this.domainUrl,audience:this.options.audience,client_id:this.options.client_id,code_verifier:s.code_verifier,code:a},void 0!==s.redirect_uri&&(l.redirect_uri=s.redirect_uri),[4,nr(l)];case 1:return f=i.sent(),d=this._verifyIdToken(f.id_token,s.nonce),p=n(n({},f),{decodedToken:d,audience:s.audience,scope:s.scope}),this.cache.save(p),pr("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:s.appState}]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={audience:this.options.audience,scope:this.options.scope||this.DEFAULT_SCOPE,ignoreCache:!1}),o(this,void 0,void 0,(function(){var e,o,a,c,u,s,l,f,d,p,h,v,m,y,w,g,b,_;return i(this,(function(i){switch(i.label){case 0:t.scope=Hn(this.DEFAULT_SCOPE,t.scope),i.label=1;case 1:return i.trys.push([1,6,7,9]),e=t.audience,o=t.scope,a=t.ignoreCache,c=t.timeoutInSeconds,u=r(t,["audience","scope","ignoreCache","timeoutInSeconds"]),!a&&(s=this.cache.get({scope:o,audience:e||"default"}))?[2,s.access_token]:[4,br.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return i.sent(),l=Xn(Vn()),f=Vn(),d=Vn(),[4,Qn(d)];case 3:return p=i.sent(),h=tr(p),v=n({audience:e,scope:o},u),m=this._getParams(v,l,f,h,this.options.redirect_uri||window.location.origin),y=this._authorizeUrl(n(n({},m),{prompt:"none",response_mode:"web_message"})),[4,Gn(y,this.domainUrl,c||this.options.authorizeTimeoutInSeconds)];case 4:if(w=i.sent(),l!==w.state)throw new Error("Invalid state");return[4,nr({baseUrl:this.domainUrl,audience:t.audience||this.options.audience,client_id:this.options.client_id,code_verifier:d,code:w.code,redirect_uri:m.redirect_uri})];case 5:return g=i.sent(),b=this._verifyIdToken(g.id_token,f),_=n(n({},g),{decodedToken:b,scope:m.scope,audience:m.audience||"default"}),this.cache.save(_),pr("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,g.access_token];case 6:throw i.sent();case 7:return[4,br.releaseLock("auth0.lock.getTokenSilently")];case 8:return i.sent(),[7];case 9:return[2]}}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={audience:this.options.audience,scope:this.options.scope||this.DEFAULT_SCOPE}),void 0===e&&(e=qn),o(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return t.scope=Hn(this.DEFAULT_SCOPE,this.options.scope,t.scope),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[2,this.cache.get({scope:t.scope,audience:t.audience||"default"}).access_token]}}))}))},t.prototype.isAuthenticated=function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.logout=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=t.localOnly,o=r(t,["federated","localOnly"]);if(n&&e)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(hr("auth0.is.authenticated"),!n){var i=e?"&federated":"",a=this._url("/v2/logout?"+Kn(o));window.location.assign(""+a+i)}},t}();return function(t){return o(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:if(function(){if(!rr())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===or())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),e=new _r(t),!dr("auth0.is.authenticated"))return[2,e];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.getTokenSilently({audience:t.audience,scope:t.scope,ignoreCache:!0})];case 2:return r.sent(),[3,4];case 3:if("login_required"!==(n=r.sent()).error)throw n;return[3,4];case 4:return[2,e]}}))}))}}()})),r=(e=n)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o={domain:"sigmadelta-io.eu.auth0.com",clientId:"if8aYXVlRCFJz7tfQNTtmkVOoOTBighx",audience:"http://localhost:3000"};let i=null;const a=async t=>{await i.loginWithRedirect({redirect_uri:t||window.location.origin})},c=()=>{i.logout({returnTo:window.location.origin})};function u(){}function s(t){return t()}function l(){return Object.create(null)}function f(t){t.forEach(s)}function d(t){return"function"==typeof t}function p(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function g(){return w(" ")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e,n){t.classList[n?"add":"remove"](e)}let O;function T(t){O=t}function E(){if(!O)throw new Error("Function called outside component initialization");return O}const A=[],x=[],j=[],I=[],P=Promise.resolve();let C=!1;function U(t){j.push(t)}let D=!1;const L=new Set;function F(){if(!D){D=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];T(e),R(e.$$)}for(A.length=0;x.length;)x.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];L.has(e)||(L.add(e),e())}j.length=0}while(A.length);for(;I.length;)I.pop()();C=!1,D=!1,L.clear()}}function R(t){if(null!==t.fragment){t.update(),f(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const $=new Set;let M;function z(t,e){t&&t.i&&($.delete(t),t.i(e))}function N(t,e){const n=e.token={};function r(t,r,o,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;void 0!==o&&(a=a.slice(),a[o]=i);const c=t&&(e.current=t)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(M={r:0,c:[],p:M},function(t,e,n,r){if(t&&t.o){if($.has(t))return;$.add(t),M.c.push(()=>{$.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}(t,1,1,()=>{e.blocks[n]=null}),M.r||f(M.c),M=M.p)}):e.block.d(1),c.c(),z(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&F()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=E();if(t.then(t=>{T(n),r(e.then,1,e.value,t),T(null)},t=>{T(n),r(e.catch,2,e.error,t),T(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function W(t,e){-1===t.$$.dirty[0]&&(A.push(t),C||(C=!0,P.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,r,o,i,a=[-1]){const c=O;T(t);const p=e.props||{},h=t.$$={fragment:null,ctx:null,props:i,update:u,not_equal:o,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:l(),dirty:a};let v=!1;if(h.ctx=n?n(t,p,(e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&o(h.ctx[e],h.ctx[e]=i)&&(h.bound[e]&&h.bound[e](i),v&&W(t,e)),n}):[],h.update(),v=!0,f(h.before_update),h.fragment=!!r&&r(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(m)}else h.fragment&&h.fragment.c();e.intro&&z(t.$$.fragment),function(t,e,n){const{fragment:r,on_mount:o,on_destroy:i,after_update:a}=t.$$;r&&r.m(e,n),U(()=>{const e=o.map(s).filter(d);i?i.push(...e):f(e),t.$$.on_mount=[]}),a.forEach(U)}(t,e.target,e.anchor),F()}T(c)}class B{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(f(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=u}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function J(t){let e,n,r;return{c(){e=y("p"),e.textContent="No token received yet",n=g(),r=y("p"),r.textContent="No users fetched yet"},m(t,o){v(t,e,o),v(t,n,o),v(t,r,o)},p:u,d(t){t&&m(e),t&&m(n),t&&m(r)}}}function H(t){let e,n,r,o,i,a,c={ctx:t,current:null,token:null,pending:V,then:Y,catch:G,value:2,error:3};return N(a=t[1],c),{c(){e=y("p"),n=w("Token is "),r=w(t[0]),o=g(),i=w(""),c.block.c()},m(t,a){v(t,e,a),h(e,n),h(e,r),v(t,o,a),v(t,i,a),c.block.m(t,c.anchor=a),c.mount=()=>i.parentNode,c.anchor=i},p(e,n){if(t=e,1&n&&k(r,t[0]),c.ctx=t,2&n&&a!==(a=t[1])&&N(a,c));else{const e=t.slice();e[2]=c.resolved,c.block.p(e,n)}},d(t){t&&m(e),t&&m(o),t&&m(i),c.block.d(t),c.token=null,c=null}}}function G(t){let e,n,r,o,i=t[3]+"";return{c(){e=y("p"),e.textContent="An error occurred fetching User Settings!",n=g(),r=y("p"),o=w(i)},m(t,i){v(t,e,i),v(t,n,i),v(t,r,i),h(r,o)},p(t,e){2&e&&i!==(i=t[3]+"")&&k(o,i)},d(t){t&&m(e),t&&m(n),t&&m(r)}}}function Y(t){let e,n,r=t[2]+"";return{c(){e=y("p"),n=w(r)},m(t,r){v(t,e,r),h(e,n)},p(t,e){2&e&&r!==(r=t[2]+"")&&k(n,r)},d(t){t&&m(e)}}}function V(t){let e;return{c(){e=y("p"),e.textContent="Loading User settings"},m(t,n){v(t,e,n)},p:u,d(t){t&&m(e)}}}function X(t){let e;function n(t,e){return t[0]?H:J}let r=n(t),o=r(t);return{c(){e=y("main"),o.c()},m(t,n){v(t,e,n),o.m(e,null)},p(t,[i]){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},i:u,o:u,d(t){t&&m(e),o.d()}}}function K(t,e,n){let r,{token:o}=e;return t.$set=t=>{"token"in t&&n(0,o=t.token)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=o?async function(t){const e=await fetch("http://localhost:3000/users",{headers:{Authorization:"Bearer "+t}});return await e.text()}(o):void 0)},[o,r]}class Q extends B{constructor(t){super(),q(this,t,K,X,p,{token:0})}}function Z(t){let e,n,r,o,i,a,s;return{c(){e=y("div"),n=y("button"),n.innerHTML='<span class="icon is-small"><svg class="credentials svelte-6z5v9t"><use href="../images/fontawesome-solid-sprite.svg#sign-in"></use></svg></span> \n    <span>\n      Sign In\n    </span>',r=g(),o=y("button"),o.innerHTML='<span class="icon is-small"><svg class="credentials svelte-6z5v9t"><use href="../images/fontawesome-solid-sprite.svg#sign-out"></use></svg></span> \n    <span>\n      Sign Out\n    </span>',i=g(),a=y("button"),a.innerHTML='<span class="icon is-small"><svg class="credentials svelte-6z5v9t"><use href="../images/fontawesome-solid-sprite.svg#sign-in-alt"></use></svg></span> \n    <span>\n      Sign Up\n    </span>',_(n,"id","sign-in"),_(n,"class","button is-link fill-secondary svelte-6z5v9t"),S(n,"is-hidden",t[0]),_(o,"id","sign-out"),_(o,"class","button is-link fill-secondary svelte-6z5v9t"),S(o,"is-hidden",!t[0]),_(a,"class","button is-link is-outlined fill-primary svelte-6z5v9t"),S(a,"is-hidden",t[0]),_(e,"class","buttons")},m(u,l,d){v(u,e,l),h(e,n),h(e,r),h(e,o),h(e,i),h(e,a),d&&f(s),s=[b(n,"click",t[2]),b(o,"click",c),b(a,"click",t[3])]},p(t,[e]){1&e&&S(n,"is-hidden",t[0]),1&e&&S(o,"is-hidden",!t[0]),1&e&&S(a,"is-hidden",t[0])},i:u,o:u,d(t){t&&m(e),f(s)}}}function tt(t,e,n){let r=!1;const o=(t=>{const e=(Array.isArray(t)?t:[t]).map(t=>t.replace(/^\/+/,""));return`${window.location.protocol}//${window.location.host}/${e.join("/")}`})("dashboard.html");var c;c=async()=>{n(0,r=await i.isAuthenticated())},E().$$.on_mount.push(c);return[r,o,async()=>await a(o),async()=>await a(o)]}class et extends B{constructor(t){super(),q(this,t,tt,Z,p,{})}}return(async()=>{await(async()=>{if(i=await r({domain:o.domain,client_id:o.clientId,audience:o.audience}),await i.isAuthenticated())return;const t=new URLSearchParams(window.location.search);t.has("error")&&console.log("AUTH FAILED: "+t.get("error_description")),t.has("code")&&t.has("state")&&(await i.handleRedirectCallback(),window.history.replaceState({},document.title,`//${window.location.host}${window.location.pathname}`),console.log("AUTH PASSED!"))})();const t=await i.getTokenSilently();new et({target:document.getElementById("signin-container"),props:{}}),new Q({target:document.body,props:{token:t}})})()}();
//# sourceMappingURL=dashboard.js.map
