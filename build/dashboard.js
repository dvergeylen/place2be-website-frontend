var app=function(){"use strict";var e={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(e,t,...n){return`${e}//${t}/${(Array.isArray(n)?n:[n]).map(e=>e.replace(/^\/+|\/+$/,"")).join("/")}`}function n(e,t){const n=e.split(";").map(e=>e.split("=")).find(([e])=>e.trim()===t);return n?n[1]:void 0}function s(e){const t=n(document.cookie,"csrf_token");return fetch(e,{method:"GET",credentials:"include",headers:{Accept:"application/json",...t&&{"x-csrf-token":t}}})}function i(e,t,s){const i=n(document.cookie,"csrf_token");return fetch(e,{method:s||"POST",credentials:"include",headers:{Accept:"application/json",...i&&{"x-csrf-token":i}},body:t})}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(){}const o=e=>e;function r(e,t){for(const n in t)e[n]=t[n];return e}function c(e){return e()}function u(){return Object.create(null)}function d(e){e.forEach(c)}function m(e){return"function"==typeof e}function p(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function f(e,...t){if(null==e)return l;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function v(e,t,n){e.$$.on_destroy.push(f(t,n))}const g="undefined"!=typeof window;let h=g?()=>window.performance.now():()=>Date.now(),b=g?e=>requestAnimationFrame(e):l;const y=new Set;function w(e){y.forEach(t=>{t.c(e)||(y.delete(t),t.f())}),0!==y.size&&b(w)}function $(e){let t;return 0===y.size&&b(w),{promise:new Promise(n=>{y.add(t={c:e,f:n})}),abort(){y.delete(t)}}}function _(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function T(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function M(){return L(" ")}function N(){return L("")}function H(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function P(e){return function(t){return t.preventDefault(),e.call(this,t)}}function S(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function A(e,t){t=""+t,e.data!==t&&(e.data=t)}function I(e,t){e.value=null==t?"":t}function U(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function O(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function D(e,t,n){e.classList[n?"add":"remove"](t)}function E(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const q=new Set;let z,G=0;function R(e,t,n,s,i,a,l,o=0){const r=16.666/s;let c="{\n";for(let e=0;e<=1;e+=r){const s=t+(n-t)*a(e);c+=100*e+`%{${l(s,1-s)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${o}`,m=e.ownerDocument;q.add(m);const p=m.__svelte_stylesheet||(m.__svelte_stylesheet=m.head.appendChild(C("style")).sheet),f=m.__svelte_rules||(m.__svelte_rules={});f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?v+", ":""}${d} ${s}ms linear ${i}ms 1 both`,G+=1,d}function B(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-s.length;i&&(e.style.animation=s.join(", "),G-=i,G||b(()=>{G||(q.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),q.clear())}))}function F(e){z=e}function Y(){if(!z)throw new Error("Function called outside component initialization");return z}function J(e){Y().$$.on_destroy.push(e)}function V(){const e=Y();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const i=E(t,n);s.slice().forEach(t=>{t.call(e,i)})}}}function X(e,t){Y().$$.context.set(e,t)}function W(e){return Y().$$.context.get(e)}function Z(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const K=[],Q=[],ee=[],te=[],ne=Promise.resolve();let se=!1;function ie(e){ee.push(e)}let ae=!1;const le=new Set;function oe(){if(!ae){ae=!0;do{for(let e=0;e<K.length;e+=1){const t=K[e];F(t),re(t.$$)}for(K.length=0;Q.length;)Q.pop()();for(let e=0;e<ee.length;e+=1){const t=ee[e];le.has(t)||(le.add(t),t())}ee.length=0}while(K.length);for(;te.length;)te.pop()();se=!1,ae=!1,le.clear()}}function re(e){if(null!==e.fragment){e.update(),d(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ie)}}let ce;function ue(){return ce||(ce=Promise.resolve(),ce.then(()=>{ce=null})),ce}function de(e,t,n){e.dispatchEvent(E(`${t?"intro":"outro"}${n}`))}const me=new Set;let pe;function fe(){pe={r:0,c:[],p:pe}}function ve(){pe.r||d(pe.c),pe=pe.p}function ge(e,t){e&&e.i&&(me.delete(e),e.i(t))}function he(e,t,n,s){if(e&&e.o){if(me.has(e))return;me.add(e),pe.c.push(()=>{me.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}const be={duration:0};function ye(e,t,n){let s,i=t(e,n),a=!0;const r=pe;function c(){const{delay:t=0,duration:n=300,easing:c=o,tick:u=l,css:m}=i||be;m&&(s=R(e,1,0,n,t,c,m));const p=h()+t,f=p+n;ie(()=>de(e,!1,"start")),$(t=>{if(a){if(t>=f)return u(0,1),de(e,!1,"end"),--r.r||d(r.c),!1;if(t>=p){const e=c((t-p)/n);u(1-e,e)}}return a})}return r.r+=1,m(i)?ue().then(()=>{i=i(),c()}):c(),{end(t){t&&i.tick&&i.tick(1,0),a&&(s&&B(e,s),a=!1)}}}function we(e,t,n,s){let i=t(e,n),a=s?0:1,r=null,c=null,u=null;function p(){u&&B(e,u)}function f(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(t){const{delay:n=0,duration:s=300,easing:m=o,tick:v=l,css:g}=i||be,b={start:h()+n,b:t};t||(b.group=pe,pe.r+=1),r?c=b:(g&&(p(),u=R(e,a,t,s,n,m,g)),t&&v(0,1),r=f(b,s),ie(()=>de(e,t,"start")),$(t=>{if(c&&t>c.start&&(r=f(c,s),c=null,de(e,r.b,"start"),g&&(p(),u=R(e,a,r.b,r.duration,0,m,i.css))),r)if(t>=r.end)v(a=r.b,1-a),de(e,r.b,"end"),c||(r.b?p():--r.group.r||d(r.group.c)),r=null;else if(t>=r.start){const e=t-r.start;a=r.a+r.d*m(e/r.duration),v(a,1-a)}return!(!r&&!c)}))}return{run(e){m(i)?ue().then(()=>{i=i(),v(e)}):v(e)},end(){p(),r=c=null}}}function $e(e,t){const n=t.token={};function s(e,s,i,a){if(t.token!==n)return;t.resolved=a;let l=t.ctx;void 0!==i&&(l=l.slice(),l[i]=a);const o=e&&(t.current=e)(l);let r=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==s&&e&&(fe(),he(e,1,1,()=>{t.blocks[n]=null}),ve())}):t.block.d(1),o.c(),ge(o,1),o.m(t.mount(),t.anchor),r=!0),t.block=o,t.blocks&&(t.blocks[s]=o),r&&oe()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=Y();if(e.then(e=>{F(n),s(t.then,1,t.value,e),F(null)},e=>{F(n),s(t.catch,2,t.error,e),F(null)}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}var i}function _e(e,t){e.d(1),t.delete(e.key)}function ke(e,t){he(e,1,1,()=>{t.delete(e.key)})}function xe(e,t,n,s,i,a,l,o,r,c,u,d){let m=e.length,p=a.length,f=m;const v={};for(;f--;)v[e[f].key]=f;const g=[],h=new Map,b=new Map;for(f=p;f--;){const e=d(i,a,f),o=n(e);let r=l.get(o);r?s&&r.p(e,t):(r=c(o,e),r.c()),h.set(o,g[f]=r),o in v&&b.set(o,Math.abs(f-v[o]))}const y=new Set,w=new Set;function $(e){ge(e,1),e.m(o,u),l.set(e.key,e),u=e.first,p--}for(;m&&p;){const t=g[p-1],n=e[m-1],s=t.key,i=n.key;t===n?(u=t.first,m--,p--):h.has(i)?!l.has(s)||y.has(s)?$(t):w.has(i)?m--:b.get(s)>b.get(i)?(w.add(s),$(t)):(y.add(i),m--):(r(n,l),m--)}for(;m--;){const t=e[m];h.has(t.key)||r(t,l)}for(;p;)$(g[p-1]);return g}function Te(e){e&&e.c()}function Ce(e,t,n){const{fragment:s,on_mount:i,on_destroy:a,after_update:l}=e.$$;s&&s.m(t,n),ie(()=>{const t=i.map(c).filter(m);a?a.push(...t):d(t),e.$$.on_mount=[]}),l.forEach(ie)}function je(e,t){const n=e.$$;null!==n.fragment&&(d(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Le(e,t){-1===e.$$.dirty[0]&&(K.push(e),se||(se=!0,ne.then(oe)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(e,t,n,s,i,a,o=[-1]){const r=z;F(e);const c=t.props||{},m=e.$$={fragment:null,ctx:null,props:a,update:l,not_equal:i,bound:u(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(r?r.$$.context:[]),callbacks:u(),dirty:o};let p=!1;if(m.ctx=n?n(e,c,(t,n,...s)=>{const a=s.length?s[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=a)&&(m.bound[t]&&m.bound[t](a),p&&Le(e,t)),n}):[],m.update(),p=!0,d(m.before_update),m.fragment=!!s&&s(m.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);m.fragment&&m.fragment.l(e),e.forEach(x)}else m.fragment&&m.fragment.c();t.intro&&ge(e.$$.fragment),Ce(e,t.target,t.anchor),oe()}F(r)}class Ne{$destroy(){je(this,1),this.$destroy=l}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function He(e,t,n){const s=e.slice();return s[7]=t[n],s}function Pe(e){let t,n,s=e[10].message+"";return{c(){t=C("p"),n=L(s),S(t,"class","error")},m(e,s){k(e,t,s),_(t,n)},p(e,t){1&t&&s!==(s=e[10].message+"")&&A(n,s)},d(e){e&&x(t)}}}function Se(e){let t,n,s,i,a,l,o,r=e[6],c=[];for(let t=0;t<r.length;t+=1)c[t]=Ae(He(e,r,t));return{c(){t=C("article"),n=C("p"),n.textContent="Your Games :",s=M(),i=C("label"),i.innerHTML='<span class="panel-icon"><svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#rocket"></use></svg></span> \n        <span>\n          New Game\n        </span>',a=M();for(let e=0;e<c.length;e+=1)c[e].c();S(n,"class","panel-heading"),S(i,"class","panel-block fill-primary"),S(t,"class","panel is-primary")},m(r,u){k(r,t,u),_(t,n),_(t,s),_(t,i),_(t,a);for(let e=0;e<c.length;e+=1)c[e].m(t,null);l||(o=H(i,"click",P(e[3])),l=!0)},p(e,n){if(7&n){let s;for(r=e[6],s=0;s<r.length;s+=1){const i=He(e,r,s);c[s]?c[s].p(i,n):(c[s]=Ae(i),c[s].c(),c[s].m(t,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=r.length}},d(e){e&&x(t),T(c,e),l=!1,o()}}}function Ae(e){let t,n,s,i,a,l,o,r=e[7].attributes.name+"";function c(...t){return e[4](e[7],...t)}return{c(){t=C("label"),n=C("span"),n.innerHTML='<svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>',s=M(),i=L(r),a=M(),S(n,"class","panel-icon"),D(n,"fill-primary",e[1]===e[7].links.self),S(t,"class","panel-block")},m(e,r){k(e,t,r),_(t,n),_(t,s),_(t,i),_(t,a),l||(o=H(t,"click",P(c)),l=!0)},p(t,s){e=t,3&s&&D(n,"fill-primary",e[1]===e[7].links.self),1&s&&r!==(r=e[7].attributes.name+"")&&A(i,r)},d(e){e&&x(t),l=!1,o()}}}function Ie(e){let t;return{c(){t=C("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game List</p>',S(t,"class","has-vcentered-content")},m(e,n){k(e,t,n)},p:l,d(e){e&&x(t)}}}function Ue(e){let t,n,s={ctx:e,current:null,token:null,pending:Ie,then:Se,catch:Pe,value:6,error:10};return $e(n=e[0],s),{c(){t=C("div"),s.block.c(),S(t,"class","content")},m(e,n){k(e,t,n),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null},p(t,[i]){if(e=t,s.ctx=e,1&i&&n!==(n=e[0])&&$e(n,s));else{const t=e.slice();t[6]=s.resolved,s.block.p(t,i)}},i:l,o:l,d(e){e&&x(t),s.block.d(),s.token=null,s=null}}}function Oe(e,t,n){let{gameList:s}=t,{gameUrl:i}=t;const a=V();function l(e){a("message",{gameUrl:e})}return e.$set=e=>{"gameList"in e&&n(0,s=e.gameList),"gameUrl"in e&&n(1,i=e.gameUrl)},[s,i,l,async()=>l("new"),e=>l(e.links.self)]}class De extends Ne{constructor(e){super(),Me(this,e,Oe,Ue,p,{gameList:0,gameUrl:1})}}function Ee(e,t,n){const s=e.slice();return s[10]=t[n][0],s[11]=t[n][1],s}function qe(e){let t,n=Object.entries(e[0]),s=[];for(let t=0;t<n.length;t+=1)s[t]=ze(Ee(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(1&i){let a;for(n=Object.entries(e[0]),a=0;a<n.length;a+=1){const l=Ee(e,n,a);s[a]?s[a].p(l,i):(s[a]=ze(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function ze(e){let t,n,s,i,a=e[10]+"",l=e[11]+"";return{c(){t=C("li"),n=L(a),s=L(" : "),i=L(l)},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){1&t&&a!==(a=e[10]+"")&&A(n,a),1&t&&l!==(l=e[11]+"")&&A(i,l)},d(e){e&&x(t)}}}function Ge(e){let t,n,s,i,a,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,j,L,N,A,I,U,O=e[0]&&qe(e);return{c(){t=C("div"),n=C("h1"),n.textContent="Create new Game :",s=M(),i=C("p"),i.innerHTML='A Game contains all Actions\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg>,\n    Achievements\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>,\n    Resources\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#sparkles"></use></svg>\n    and Assets\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#package"></use></svg>\n    your players can interact with.',a=M(),o=C("hr"),r=M(),c=C("form"),u=C("div"),m=C("button"),p=M(),f=C("h1"),f.textContent="Unable to Create new Game :",v=M(),g=C("ul"),O&&O.c(),h=M(),b=C("div"),b.innerHTML='<label class="label">\n        Game Name\n        <span class="mandatory svelte-1kmxomm">*</span></label> \n      <div class="control"><input name="game[name]" class="input reasonable-width" type="text"></div>',y=M(),w=C("div"),w.innerHTML='<label class="label">\n        Description\n        <span class="note">(optional)</span></label> \n      <div class="control"><input name="game[description]" class="input" type="text"></div> \n      <p class="help">Game and description won&#39;t be visible to your players.</p>',$=M(),T=C("div"),j=C("div"),j.innerHTML='<button class="button is-link">Create</button>',L=M(),N=C("div"),A=C("button"),A.textContent="Cancel",S(n,"class","title is-4"),S(m,"class","delete"),S(f,"class","title is-5"),S(u,"class","notification is-danger"),D(u,"is-hidden",!e[0]),S(b,"class","field"),S(w,"class","field"),S(j,"class","control"),S(A,"class","button is-link is-light"),S(N,"class","control"),S(T,"class","field is-grouped"),S(c,"id","new-game-form"),S(t,"id","new-game"),S(t,"class","svelte-1kmxomm")},m(l,d){k(l,t,d),_(t,n),_(t,s),_(t,i),_(t,a),_(t,o),_(t,r),_(t,c),_(c,u),_(u,m),_(u,p),_(u,f),_(u,v),_(u,g),O&&O.m(g,null),_(c,h),_(c,b),_(c,y),_(c,w),_(c,$),_(c,T),_(T,j),_(T,L),_(T,N),_(N,A),I||(U=[H(m,"click",P(e[4])),H(A,"click",P(e[5])),H(c,"submit",P(e[1]))],I=!0)},p(e,[t]){e[0]?O?O.p(e,t):(O=qe(e),O.c(),O.m(g,null)):O&&(O.d(1),O=null),1&t&&D(u,"is-hidden",!e[0])},i:l,o:l,d(e){e&&x(t),O&&O.d(),I=!1,d(U)}}}function Re(e,n,s){const a=V(),l=W("apiProtocol"),o=W("apiHost"),r=W("userId");let c=null;function u(){a("message",{gameUrl:void 0})}function d(){s(0,c=null)}return[c,async function(){const e=t(l,o,"users",r,"games"),n=new FormData(document.getElementById("new-game-form")),u=await i(e,n);if(u.ok){const e=await u.json();a("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await u.text();s(0,c=JSON.parse(e))}},u,d,()=>d(),()=>u()]}class Be extends Ne{constructor(e){super(),Me(this,e,Re,Ge,p,{})}}function Fe(e,{delay:t=0,duration:n=400,easing:s=o}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:e=>"opacity: "+e*i}}const Ye=[];function Je(e,t=l){let n;const s=[];function i(t){if(p(e,t)&&(e=t,n)){const t=!Ye.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),Ye.push(n,e)}if(t){for(let e=0;e<Ye.length;e+=2)Ye[e][0](Ye[e+1]);Ye.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,o=l){const r=[a,o];return s.push(r),1===s.length&&(n=t(i)||l),a(e),()=>{const e=s.indexOf(r);-1!==e&&s.splice(e,1),0===s.length&&(n(),n=null)}}}}const Ve=Je(null),Xe=Je("saved"),We=function(e,t,n){const s=!Array.isArray(e),i=s?[e]:e,a=t.length<2;return{subscribe:Je(n,e=>{let n=!1;const o=[];let r=0,c=l;const u=()=>{if(r)return;c();const n=t(s?o[0]:o,e);a?e(n):c=m(n)?n:l},p=i.map((e,t)=>f(e,e=>{o[t]=e,r&=~(1<<t),n&&u()},()=>{r|=1<<t}));return n=!0,u(),function(){d(p),c()}}).subscribe}}(Xe,()=>new Date);function Ze(e){let t,n,s,i,a,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,j,L,N,A;return{c(){t=C("div"),n=C("ul"),s=C("li"),i=C("a"),i.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#compass"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Overview</span>',a=M(),o=C("li"),r=C("a"),r.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Actions</span>',c=M(),u=C("li"),m=C("a"),m.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Achievements</span>',p=M(),f=C("li"),v=C("a"),v.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#sparkles"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Resources</span>',g=M(),h=C("li"),b=C("a"),b.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#bar_chart"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Stats</span>',y=M(),w=C("li"),$=C("a"),$.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#woman_technologist"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Integration</span>',T=M(),j=C("li"),L=C("a"),L.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#gear"></use></svg> \n        <span class="left-spaced svelte-ywoo4f">Settings</span>',S(i,"href","javascript:void(0)"),D(s,"is-active","overview"===e[0]),S(r,"href","javascript:void(0)"),D(o,"is-active","actions"===e[0]),S(m,"href","javascript:void(0)"),D(u,"is-active","achievements"===e[0]),S(v,"href","javascript:void(0)"),D(f,"is-active","resources"===e[0]),S(b,"href","javascript:void(0)"),D(h,"is-active","stats"===e[0]),S($,"href","javascript:void(0)"),D(w,"is-active","dev"===e[0]),S(L,"href","javascript:void(0)"),D(j,"is-active","settings"===e[0]),S(t,"id","game-tabs-container"),S(t,"class","tabs svelte-ywoo4f")},m(l,d){k(l,t,d),_(t,n),_(n,s),_(s,i),_(n,a),_(n,o),_(o,r),_(n,c),_(n,u),_(u,m),_(n,p),_(n,f),_(f,v),_(n,g),_(n,h),_(h,b),_(n,y),_(n,w),_(w,$),_(n,T),_(n,j),_(j,L),N||(A=[H(i,"click",P(e[2])),H(r,"click",P(e[3])),H(m,"click",P(e[4])),H(v,"click",P(e[5])),H(b,"click",P(e[6])),H($,"click",P(e[7])),H(L,"click",P(e[8]))],N=!0)},p(e,[t]){1&t&&D(s,"is-active","overview"===e[0]),1&t&&D(o,"is-active","actions"===e[0]),1&t&&D(u,"is-active","achievements"===e[0]),1&t&&D(f,"is-active","resources"===e[0]),1&t&&D(h,"is-active","stats"===e[0]),1&t&&D(w,"is-active","dev"===e[0]),1&t&&D(j,"is-active","settings"===e[0])},i:l,o:l,d(e){e&&x(t),N=!1,d(A)}}}function Ke(e,t,n){let{selectedTab:s="overview"}=t;const i=V();function a(e){i("message",{selectedTab:e})}return e.$set=e=>{"selectedTab"in e&&n(0,s=e.selectedTab)},[s,a,()=>a("overview"),()=>a("actions"),()=>a("achievements"),()=>a("resources"),()=>a("stats"),()=>a("dev"),()=>a("settings")]}class Qe extends Ne{constructor(e){super(),Me(this,e,Ke,Ze,p,{selectedTab:0})}}function et(e){let t,n,s,i,a,o,r,c,u=e[0].toLocaleDateString()+"",d=e[1].data.attributes.archived?"No":"Yes";return{c(){t=C("ul"),n=C("li"),s=L("Created : "),i=L(u),a=M(),o=C("li"),r=L("Active: "),c=L(d)},m(e,l){k(e,t,l),_(t,n),_(n,s),_(n,i),_(t,a),_(t,o),_(o,r),_(o,c)},p(e,[t]){1&t&&u!==(u=e[0].toLocaleDateString()+"")&&A(i,u),2&t&&d!==(d=e[1].data.attributes.archived?"No":"Yes")&&A(c,d)},i:l,o:l,d(e){e&&x(t)}}}function tt(e,t,n){let s,i;return v(e,Ve,e=>n(1,s=e)),e.$$.update=()=>{2&e.$$.dirty&&n(0,i=new Date(s.data.attributes.created_at))},[i,s]}class nt extends Ne{constructor(e){super(),Me(this,e,tt,et,p,{})}}function st(e,t,n){const s=e.slice();return s[9]=t[n],s}function it(e,t,n){const s=e.slice();return s[5]=t[n].namespaces,s[6]=t[n].value,s}function at(e,t,n){const s=e.slice();return s[1]=t[n].key,s[2]=t[n].tuples,s}function lt(e){let t,n=e[5],s=[];for(let t=0;t<n.length;t+=1)s[t]=rt(st(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(1&i){let a;for(n=e[5],a=0;a<n.length;a+=1){const l=st(e,n,a);s[a]?s[a].p(l,i):(s[a]=rt(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function ot(e){let t,n,s,i=e[5].length>1&&ct(e);return{c(){t=C("p"),t.innerHTML='<span class="tag is-link">\n                default\n              </span>',n=M(),i&&i.c(),s=N(),S(t,"class","svelte-65nr6g")},m(e,a){k(e,t,a),k(e,n,a),i&&i.m(e,a),k(e,s,a)},p(e,t){e[5].length>1?i?i.p(e,t):(i=ct(e),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(e){e&&x(t),e&&x(n),i&&i.d(e),e&&x(s)}}}function rt(e){let t,n,s,i,a=e[9]+"";return{c(){t=C("p"),n=C("span"),s=L(a),i=M(),S(n,"class","tag is-link"),S(t,"class","svelte-65nr6g")},m(e,a){k(e,t,a),_(t,n),_(n,s),_(t,i)},p(e,t){1&t&&a!==(a=e[9]+"")&&A(s,a)},d(e){e&&x(t)}}}function ct(e){let t,n,s,i,a,l,o=e[5].length-1+"",r=e[5].length-1==1?"other":"others";return{c(){t=C("p"),n=C("span"),s=L("+ "),i=L(o),a=M(),l=L(r),S(n,"class","tag is-link"),S(t,"class","svelte-65nr6g")},m(e,o){k(e,t,o),_(t,n),_(n,s),_(n,i),_(n,a),_(n,l)},p(e,t){1&t&&o!==(o=e[5].length-1+"")&&A(i,o),1&t&&r!==(r=e[5].length-1==1?"other":"others")&&A(l,r)},d(e){e&&x(t)}}}function ut(e){let t,n,s,i,a,l,o=e[6]+"";function r(e,t){return(null==s||1&t)&&(s=!!e[5].includes("default")),s?ot:lt}let c=r(e,-1),u=c(e);return{c(){t=C("div"),n=C("div"),u.c(),i=M(),a=C("div"),l=L(o),S(n,"class","column is-4 right namespace-container svelte-65nr6g"),S(a,"class","column asset-value is-family-monospace svelte-65nr6g"),S(t,"class","columns is-vcentered svelte-65nr6g")},m(e,s){k(e,t,s),_(t,n),u.m(n,null),_(t,i),_(t,a),_(a,l)},p(e,t){c===(c=r(e,t))&&u?u.p(e,t):(u.d(1),u=c(e),u&&(u.c(),u.m(n,null))),1&t&&o!==(o=e[6]+"")&&A(l,o)},d(e){e&&x(t),u.d()}}}function dt(e){let t,n,s,i,a,l,o,r,c,u,d=e[1]+"",m=e[2],p=[];for(let t=0;t<m.length;t+=1)p[t]=ut(it(e,m,t));return{c(){t=C("div"),n=C("div"),s=C("div"),s.innerHTML="<strong>key :</strong>",i=M(),a=C("div"),l=L(d),o=M(),r=C("div"),r.innerHTML='<div class="column is-4 right svelte-65nr6g"><strong>values :</strong></div>',c=M();for(let e=0;e<p.length;e+=1)p[e].c();u=M(),S(s,"class","column is-4 right svelte-65nr6g"),S(a,"class","column asset-value is-family-monospace svelte-65nr6g"),S(n,"class","columns is-vcentered svelte-65nr6g"),S(r,"class","columns svelte-65nr6g"),S(t,"class","asset-wrapper svelte-65nr6g")},m(e,d){k(e,t,d),_(t,n),_(n,s),_(n,i),_(n,a),_(a,l),_(t,o),_(t,r),_(t,c);for(let e=0;e<p.length;e+=1)p[e].m(t,null);_(t,u)},p(e,n){if(1&n&&d!==(d=e[1]+"")&&A(l,d),1&n){let s;for(m=e[2],s=0;s<m.length;s+=1){const i=it(e,m,s);p[s]?p[s].p(i,n):(p[s]=ut(i),p[s].c(),p[s].m(t,u))}for(;s<p.length;s+=1)p[s].d(1);p.length=m.length}},d(e){e&&x(t),T(p,e)}}}function mt(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=dt(at(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,[i]){if(1&i){let a;for(n=e[0],a=0;a<n.length;a+=1){const l=at(e,n,a);s[a]?s[a].p(l,i):(s[a]=dt(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},i:l,o:l,d(e){T(s,e),e&&x(t)}}}function pt(e,t,n){let{assets:s}=t;return e.$set=e=>{"assets"in e&&n(0,s=e.assets)},[s]}class ft extends Ne{constructor(e){super(),Me(this,e,pt,mt,p,{assets:0})}}function vt(e,t,n){const s=e.slice();return s[19]=t[n],s}function gt(e,t,n){const s=e.slice();return s[15]=t[n].namespaces,s[16]=t[n].value,s[17]=t,s[18]=n,s}function ht(e,t,n){const s=e.slice();return s[11]=t[n].key,s[12]=t[n].tuples,s[13]=t,s[14]=n,s}function bt(e){let t,n;function s(e,n){return(null==t||1&n)&&(t=!!e[15].includes("default")),t?wt:yt}let i=s(e,-1),a=i(e);return{c(){a.c(),n=N()},m(e,t){a.m(e,t),k(e,n,t)},p(e,t){i===(i=s(e,t))&&a?a.p(e,t):(a.d(1),a=i(e),a&&(a.c(),a.m(n.parentNode,n)))},d(e){a.d(e),e&&x(n)}}}function yt(e){let t,n,s;return{c(){t=C("button"),S(t,"class","delete is-small")},m(i,a){k(i,t,a),n||(s=H(t,"click",P((function(){m(e[5](e[14],e[19]))&&e[5](e[14],e[19]).apply(this,arguments)}))),n=!0)},p(t,n){e=t},d(e){e&&x(t),n=!1,s()}}}function wt(e){let t,n,s;return{c(){t=C("button"),S(t,"class","delete is-small")},m(i,a){k(i,t,a),n||(s=H(t,"click",P((function(){m(e[4](e[14],e[19]))&&e[4](e[14],e[19]).apply(this,arguments)}))),n=!0)},p(t,n){e=t},d(e){e&&x(t),n=!1,s()}}}function $t(e){let t,n,s,i,a,l,o,r,c,u=e[19]+"",d="default"!==e[19]&&bt(e);return{c(){t=C("p"),n=C("span"),s=L(u),i=M(),a=C("input"),r=M(),d&&d.c(),c=M(),S(a,"class","input"),S(a,"type","hidden"),S(a,"name",l=e[1]+"[assets]["+e[14]+"][tuples]["+e[18]+"][namespaces][]"),a.value=o=e[19],S(n,"class","tag is-link"),S(t,"class","svelte-2ki0mi")},m(e,l){k(e,t,l),_(t,n),_(n,s),_(n,i),_(n,a),_(n,r),d&&d.m(n,null),_(t,c)},p(e,t){1&t&&u!==(u=e[19]+"")&&A(s,u),2&t&&l!==(l=e[1]+"[assets]["+e[14]+"][tuples]["+e[18]+"][namespaces][]")&&S(a,"name",l),1&t&&o!==(o=e[19])&&(a.value=o),"default"!==e[19]?d?d.p(e,t):(d=bt(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},d(e){e&&x(t),d&&d.d()}}}function _t(e){let t,n,s,i,a,l,o,r,c=e[15],u=[];for(let t=0;t<c.length;t+=1)u[t]=$t(vt(e,c,t));function d(){e[8].call(a,e[17],e[18])}return{c(){t=C("div"),n=C("div");for(let e=0;e<u.length;e+=1)u[e].c();s=M(),i=C("div"),a=C("textarea"),S(n,"class","column is-4 right-label namespace-container svelte-2ki0mi"),S(a,"class","input is-family-monospace"),S(a,"name",l=e[1]+"[assets]["+e[14]+"][tuples]["+e[18]+"][value]"),S(a,"placeholder","asset value"),S(i,"class","column asset-value is-family-monospace svelte-2ki0mi"),S(t,"class","columns is-vcentered svelte-2ki0mi")},m(l,c){k(l,t,c),_(t,n);for(let e=0;e<u.length;e+=1)u[e].m(n,null);_(t,s),_(t,i),_(i,a),I(a,e[16]),o||(r=H(a,"input",d),o=!0)},p(t,s){if(e=t,51&s){let t;for(c=e[15],t=0;t<c.length;t+=1){const i=vt(e,c,t);u[t]?u[t].p(i,s):(u[t]=$t(i),u[t].c(),u[t].m(n,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=c.length}2&s&&l!==(l=e[1]+"[assets]["+e[14]+"][tuples]["+e[18]+"][value]")&&S(a,"name",l),1&s&&I(a,e[16])},d(e){e&&x(t),T(u,e),o=!1,r()}}}function kt(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b;function y(...t){return e[6](e[14],...t)}function w(){e[7].call(m,e[13],e[14])}let $=e[12],L=[];for(let t=0;t<$.length;t+=1)L[t]=_t(gt(e,$,t));return{c(){t=C("div"),n=C("div"),s=C("div"),i=j("svg"),a=j("use"),l=M(),o=C("div"),r=C("div"),r.innerHTML="<strong>key :</strong>",c=M(),u=C("div"),m=C("input"),f=M(),v=C("div"),v.innerHTML='<div class="column is-4 right-label svelte-2ki0mi"><strong>values :</strong></div>',g=M();for(let e=0;e<L.length;e+=1)L[e].c();S(a,"href","../images/fontawesome-sprite.svg#regular-times-circle"),S(i,"class","fa fill-destroy"),S(s,"class","column right svelte-2ki0mi"),S(n,"class","columns svelte-2ki0mi"),S(r,"class","column is-4 right-label svelte-2ki0mi"),S(m,"class","input is-family-monospace"),S(m,"type","text"),S(m,"name",p=e[1]+"[assets]["+e[14]+"][key]"),S(m,"placeholder","asset key"),S(u,"class","column asset-value svelte-2ki0mi"),S(o,"class","columns is-vcentered svelte-2ki0mi"),S(v,"class","columns svelte-2ki0mi"),S(t,"class","asset-wrapper svelte-2ki0mi")},m(d,p){k(d,t,p),_(t,n),_(n,s),_(s,i),_(i,a),_(t,l),_(t,o),_(o,r),_(o,c),_(o,u),_(u,m),I(m,e[11]),_(t,f),_(t,v),_(t,g);for(let e=0;e<L.length;e+=1)L[e].m(t,null);h||(b=[H(i,"click",y),H(m,"input",w)],h=!0)},p(n,s){if(e=n,2&s&&p!==(p=e[1]+"[assets]["+e[14]+"][key]")&&S(m,"name",p),1&s&&m.value!==e[11]&&I(m,e[11]),51&s){let n;for($=e[12],n=0;n<$.length;n+=1){const i=gt(e,$,n);L[n]?L[n].p(i,s):(L[n]=_t(i),L[n].c(),L[n].m(t,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=$.length}},d(e){e&&x(t),T(L,e),h=!1,d(b)}}}function xt(e){let t,n,s,i,a,o,r,c,u,d=e[0],m=[];for(let t=0;t<d.length;t+=1)m[t]=kt(ht(e,d,t));return{c(){t=C("input"),s=M();for(let e=0;e<m.length;e+=1)m[e].c();i=M(),a=C("div"),o=C("div"),r=C("button"),r.textContent="+ New Asset",S(t,"class","input"),S(t,"type","hidden"),S(t,"name",n=e[1]+"[assets][0][key]"),t.value="",S(r,"class","button is-primary is-outlined is-small"),S(o,"class","column right-label svelte-2ki0mi"),S(a,"class","columns")},m(n,l){k(n,t,l),k(n,s,l);for(let e=0;e<m.length;e+=1)m[e].m(n,l);k(n,i,l),k(n,a,l),_(a,o),_(o,r),c||(u=H(r,"click",P(e[9])),c=!0)},p(e,[s]){if(2&s&&n!==(n=e[1]+"[assets][0][key]")&&S(t,"name",n),55&s){let t;for(d=e[0],t=0;t<d.length;t+=1){const n=ht(e,d,t);m[t]?m[t].p(n,s):(m[t]=kt(n),m[t].c(),m[t].m(i.parentNode,i))}for(;t<m.length;t+=1)m[t].d(1);m.length=d.length}},i:l,o:l,d(e){e&&x(t),e&&x(s),T(m,e),e&&x(i),e&&x(a),c=!1,u()}}}function Tt(e,t,n){let s;v(e,Ve,e=>n(10,s=e));let{assets:i}=t,{formPrefix:a}=t;function l(e){n(0,i=i.filter((t,n)=>n!==e))}function o(){n(0,i=[...i,{key:"",tuples:[{namespaces:s.data.attributes.namespaces,value:""}]}])}return e.$set=e=>{"assets"in e&&n(0,i=e.assets),"formPrefix"in e&&n(1,a=e.formPrefix)},[i,a,l,o,function(e,t){n(0,i=i.map((n,s)=>s!==e?n:{key:n.key,tuples:n.tuples.map(e=>({namespaces:e.namespaces.filter(e=>e!==t),value:e.value}))})),n(0,i=i.map((n,s)=>s!==e?n:{key:n.key,tuples:[...n.tuples,{namespaces:[t],value:""}]}))},function(e,t){n(0,i=i.map((n,s)=>s!==e?n:{key:n.key,tuples:n.tuples.filter(e=>!e.namespaces.includes(t))})),n(0,i[0].tuples[0].namespaces=[...i[0].tuples[0].namespaces,t],i)},e=>l(e),function(e,t){e[t].key=this.value,n(0,i)},function(e,t){e[t].value=this.value,n(0,i)},()=>o()]}class Ct extends Ne{constructor(e){super(),Me(this,e,Tt,xt,p,{assets:0,formPrefix:1})}}function jt(e,t,n){const s=e.slice();return s[24]=t[n][0],s[25]=t[n][1],s}function Lt(e){let t,n,s;return{c(){t=C("div"),t.innerHTML='<div class="column is-12 saved-collection"><svg class="fa saved"><use href="../images/fontawesome-sprite.svg#solid-check-circle"></use></svg>\n          Updated !\n        </div>',S(t,"class","columns")},m(e,n){k(e,t,n),s=!0},i(e){s||(n&&n.end(1),s=!0)},o(e){n=ye(t,Fe,{delay:2e3,duration:200}),s=!1},d(e){e&&x(t),e&&n&&n.end()}}}function Mt(e){let t,n,s,i,a=e[0].attributes.assets.length+"";return{c(){t=C("span"),n=L("("),s=L(a),i=L(")"),S(t,"class","quantity")},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){1&t&&a!==(a=e[0].attributes.assets.length+"")&&A(s,a)},d(e){e&&x(t)}}}function Nt(e){let t,n,s,i;const a=[Pt,Ht],l=[];function o(e,t){return e[0].attributes.assets.length?0:1}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),s=N()},m(e,n){l[t].m(e,n),k(e,s,n),i=!0},p(e,i){let r=t;t=o(e),t===r?l[t].p(e,i):(fe(),he(l[r],1,1,()=>{l[r]=null}),ve(),n=l[t],n||(n=l[t]=a[t](e),n.c()),ge(n,1),n.m(s.parentNode,s))},i(e){i||(ge(n),i=!0)},o(e){he(n),i=!1},d(e){l[t].d(e),e&&x(s)}}}function Ht(e){let t;return{c(){t=C("p"),t.textContent="No assets yet",S(t,"class","no-conditions")},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function Pt(e){let t,n;return t=new ft({props:{assets:e[0].attributes.assets}}),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.assets=e[0].attributes.assets),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function St(e){let t,n=Object.entries(e[1]),s=[];for(let t=0;t<n.length;t+=1)s[t]=At(jt(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(2&i){let a;for(n=Object.entries(e[1]),a=0;a<n.length;a+=1){const l=jt(e,n,a);s[a]?s[a].p(l,i):(s[a]=At(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function At(e){let t,n,s,i,a=e[24]+"",l=e[25]+"";return{c(){t=C("li"),n=L(a),s=L(" : "),i=L(l)},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){2&t&&a!==(a=e[24]+"")&&A(n,a),2&t&&l!==(l=e[25]+"")&&A(i,l)},d(e){e&&x(t)}}}function It(e){let t;return{c(){t=L("Update")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Ut(e){let t;return{c(){t=L("Create")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Ot(e){let t,n,s,i,a;return{c(){t=C("button"),t.textContent="Cancel",n=M(),s=C("button"),s.textContent="Delete",S(t,"class","button is-primary is-light"),S(s,"class","button is-danger svelte-z3bubs")},m(l,o){k(l,t,o),k(l,n,o),k(l,s,o),i||(a=[H(t,"click",P(e[7])),H(s,"click",P(e[6]))],i=!0)},p:l,d(e){e&&x(t),e&&x(n),e&&x(s),i=!1,d(a)}}}function Dt(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,N,O,E,q,z,G,R,B,F,Y,J,V,X,W,Z,K,Q,ee,te,ne,se,ae,le,oe,re,ce,ue,de,me,pe,be,ye,we,$e,_e,ke,xe,Le,Me,Ne,He,Pe,Se,Ae,Ie,Ue,Oe,De,Ee,qe,ze,Ge,Re,Be,Fe,Ye,Je,Ve,Xe,We,Ze,Ke,Qe=e[0].attributes.name+"",et=Et(e[0].attributes.source)+"",tt=e[3]&&Lt(),nt=e[0].attributes.assets.length&&Mt(e),st=e[4].assets&&Nt(e),it=e[1]&&St(e);function at(e,t){return e[0].id?It:Ut}qe=new Ct({props:{assets:e[0].attributes.assets,formPrefix:"resource"}});let lt=at(e),ot=lt(e),rt=e[0].id&&Ot(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=C("div"),a=C("h1"),l=j("svg"),o=j("use"),r=M(),c=C("span"),u=L(Qe),m=M(),p=j("svg"),f=j("use"),v=M(),tt&&tt.c(),g=M(),h=C("table"),b=C("tbody"),y=C("tr"),w=C("td"),w.textContent="Source Type :",$=M(),T=C("td"),N=L(et),O=M(),E=C("h1"),q=j("svg"),z=j("use"),G=M(),R=j("svg"),B=j("use"),F=M(),Y=j("svg"),J=j("use"),V=L("\n      Assets\n      "),nt&&nt.c(),X=M(),st&&st.c(),W=M(),Z=C("p"),Z.innerHTML='\n      Need help? See \n      <a href="https://doc/place2be.io/resources" target="_blank"><span>Doc</span> \n        <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a>',K=M(),Q=C("div"),ee=C("form"),te=C("div"),ne=C("button"),se=M(),ae=C("h1"),ae.textContent="Unable to Update Resource :",le=M(),oe=C("ul"),it&&it.c(),re=M(),ce=C("h1"),ce.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#card_file_box"></use></svg>\n        Properties\n      ',ue=M(),de=C("div"),me=C("div"),me.innerHTML='<label class="label">Name :</label>',pe=M(),be=C("div"),ye=C("div"),we=C("input"),$e=M(),_e=C("div"),ke=C("div"),ke.innerHTML='<label class="label">Source Type :</label>',xe=M(),Le=C("div"),Me=C("div"),Ne=C("select"),He=C("option"),He.textContent="Virtual money",Pe=C("option"),Pe.textContent="CSV List",Se=C("option"),Se.textContent="External URI",Ae=C("option"),Ae.textContent="Scheme",Ie=M(),Ue=C("h1"),Ue.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#package"></use></svg>\n        Assets\n        <span class="note">(optional)</span>',Oe=M(),De=C("div"),De.innerHTML='<ul class="help"><li>\n            Assets are key-value entries you can associate with a Resource.\n          </li> \n          <li>\n            Everytime a Resource will be involved, its associated assets will be returned as well.\n          </li> \n          <li>\n            You can have multiple assets per Resource, carrying any information you want.\n          </li> \n          <li>\n            See assets\n            <a href="https://doc/place2be.io/assets" target="_blank"><span>Doc</span> \n              <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a>\n            for common use cases and examples.\n          </li></ul>',Ee=M(),Te(qe.$$.fragment),ze=M(),Ge=C("div"),Re=C("div"),Re.innerHTML='<p class="help">\n            Need help? See \n            <a href="https://doc/place2be.io/resources" target="_blank"><span>Doc</span> \n              <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',Be=M(),Fe=C("div"),Ye=C("div"),Je=C("button"),ot.c(),Ve=M(),rt&&rt.c(),S(o,"href","../images/twemoji-sprite.svg#white_medium_star"),S(l,"class","twemoji"),D(c,"is-hidden",e[2]),S(f,"href","../images/fontawesome-sprite.svg#regular-edit"),S(p,"class","fa item-edit fill-primary no-hover"),D(p,"is-hidden",e[2]),S(a,"class","title is-4 has-vcentered-text item-name"),S(i,"class","column"),S(s,"class","columns is-mobile"),S(w,"class","right svelte-z3bubs"),S(T,"class","is-value svelte-z3bubs"),S(h,"class","table"),S(z,"href","../images/fontawesome-sprite.svg#solid-chevron-double-right"),S(q,"class","chevron"),D(q,"is-hidden",e[4].assets),S(B,"href","../images/fontawesome-sprite.svg#solid-chevron-double-down"),S(R,"class","chevron"),D(R,"is-hidden",!e[4].assets),S(J,"href","../images/twemoji-sprite.svg#package"),S(Y,"class","twemoji"),S(E,"class","title is-5 byproduct-title"),D(E,"is-disabled",!e[0].attributes.assets.length),S(Z,"class","help"),D(n,"is-hidden",e[2]||!e[0].id),S(ne,"class","delete"),S(ae,"class","title is-5"),S(te,"class","notification is-danger"),D(te,"is-hidden",!e[1]),S(ce,"class","title is-5 byproduct-title"),S(me,"class","field-label is-normal"),S(we,"class","input reasonable-width"),S(we,"type","text"),S(we,"name","resource[name]"),S(we,"placeholder","Resource name"),S(ye,"class","field"),S(be,"class","field-body"),S(de,"class","field is-horizontal"),S(ke,"class","field-label is-normal"),He.__value="virtual",He.value=He.__value,Pe.__value="list",Pe.value=Pe.__value,Pe.disabled="disabled",Se.__value="uri",Se.value=Se.__value,Se.disabled="disabled",Ae.__value="scheme",Ae.value=Ae.__value,Ae.disabled="disabled",S(Ne,"name","resource[source]"),void 0===e[0].attributes.source&&ie(()=>e[15].call(Ne)),S(Me,"class","select"),S(Le,"class","field-body"),S(_e,"class","field is-horizontal"),S(Ue,"class","title is-5 byproduct-title"),S(De,"class","content"),S(Re,"class","column is-narrow"),S(Je,"class","button is-primary"),S(Ye,"class","buttons"),S(Fe,"class","column"),S(Ge,"class","columns is-vcentered"),S(ee,"id",Xe=(e[0].id||"new")+"-resource-form"),D(Q,"is-hidden",!e[2]&&e[0].id),S(t,"class","item-box")},m(d,x){k(d,t,x),_(t,n),_(n,s),_(s,i),_(i,a),_(a,l),_(l,o),_(a,r),_(a,c),_(c,u),_(a,m),_(a,p),_(p,f),_(n,v),tt&&tt.m(n,null),_(n,g),_(n,h),_(h,b),_(b,y),_(y,w),_(y,$),_(y,T),_(T,N),_(n,O),_(n,E),_(E,q),_(q,z),_(E,G),_(E,R),_(R,B),_(E,F),_(E,Y),_(Y,J),_(E,V),nt&&nt.m(E,null),_(n,X),st&&st.m(n,null),_(n,W),_(n,Z),_(t,K),_(t,Q),_(Q,ee),_(ee,te),_(te,ne),_(te,se),_(te,ae),_(te,le),_(te,oe),it&&it.m(oe,null),_(ee,re),_(ee,ce),_(ee,ue),_(ee,de),_(de,me),_(de,pe),_(de,be),_(be,ye),_(ye,we),I(we,e[0].attributes.name),_(ee,$e),_(ee,_e),_(_e,ke),_(_e,xe),_(_e,Le),_(Le,Me),_(Me,Ne),_(Ne,He),_(Ne,Pe),_(Ne,Se),_(Ne,Ae),U(Ne,e[0].attributes.source),_(ee,Ie),_(ee,Ue),_(ee,Oe),_(ee,De),_(ee,Ee),Ce(qe,ee,null),_(ee,ze),_(ee,Ge),_(Ge,Re),_(Ge,Be),_(Ge,Fe),_(Fe,Ye),_(Ye,Je),ot.m(Je,null),_(Ye,Ve),rt&&rt.m(Ye,null),We=!0,Ze||(Ke=[H(p,"click",e[8]),H(q,"click",e[11]),H(R,"click",e[12]),H(ne,"click",P(e[13])),H(we,"input",e[14]),H(Ne,"change",e[15]),H(ee,"submit",P(e[5]))],Ze=!0)},p(e,[t]){(!We||1&t)&&Qe!==(Qe=e[0].attributes.name+"")&&A(u,Qe),4&t&&D(c,"is-hidden",e[2]),4&t&&D(p,"is-hidden",e[2]),e[3]?tt?8&t&&ge(tt,1):(tt=Lt(),tt.c(),ge(tt,1),tt.m(n,g)):tt&&(fe(),he(tt,1,1,()=>{tt=null}),ve()),(!We||1&t)&&et!==(et=Et(e[0].attributes.source)+"")&&A(N,et),16&t&&D(q,"is-hidden",e[4].assets),16&t&&D(R,"is-hidden",!e[4].assets),e[0].attributes.assets.length?nt?nt.p(e,t):(nt=Mt(e),nt.c(),nt.m(E,null)):nt&&(nt.d(1),nt=null),1&t&&D(E,"is-disabled",!e[0].attributes.assets.length),e[4].assets?st?(st.p(e,t),16&t&&ge(st,1)):(st=Nt(e),st.c(),ge(st,1),st.m(n,W)):st&&(fe(),he(st,1,1,()=>{st=null}),ve()),5&t&&D(n,"is-hidden",e[2]||!e[0].id),e[1]?it?it.p(e,t):(it=St(e),it.c(),it.m(oe,null)):it&&(it.d(1),it=null),2&t&&D(te,"is-hidden",!e[1]),1&t&&we.value!==e[0].attributes.name&&I(we,e[0].attributes.name),1&t&&U(Ne,e[0].attributes.source);const s={};1&t&&(s.assets=e[0].attributes.assets),qe.$set(s),lt!==(lt=at(e))&&(ot.d(1),ot=lt(e),ot&&(ot.c(),ot.m(Je,null))),e[0].id?rt?rt.p(e,t):(rt=Ot(e),rt.c(),rt.m(Ye,null)):rt&&(rt.d(1),rt=null),(!We||1&t&&Xe!==(Xe=(e[0].id||"new")+"-resource-form"))&&S(ee,"id",Xe),5&t&&D(Q,"is-hidden",!e[2]&&e[0].id)},i(e){We||(ge(tt),ge(st),ge(qe.$$.fragment,e),We=!0)},o(e){he(tt),he(st),he(qe.$$.fragment,e),We=!1},d(e){e&&x(t),tt&&tt.d(),nt&&nt.d(),st&&st.d(),it&&it.d(),je(qe),ot.d(),rt&&rt.d(),Ze=!1,d(Ke)}}}function Et(e){let t="Unknown";switch(e){case"virtual":t="Virtual money";break;case"list":t="CSV List";break;case"uri":t="External URI";break;case"scheme":t="Scheme"}return t}function qt(e,n,a){let l;v(e,Ve,e=>a(17,l=e));let{resource:o={attributes:{name:"",source:"virtual",assets:[{key:"",tuples:[{namespaces:l.data.attributes.namespaces,value:""}]}]}}}=n;const r=V(),c=W("apiProtocol"),u=W("apiHost"),d=W("userId");let m,p=null,f=!1,g=!1,h={assets:!1};function b(){a(2,f=!1)}function y(e,t){a(4,h[e]=t,h)}function w(){a(1,p=null)}J(()=>{clearTimeout(m)});return e.$set=e=>{"resource"in e&&a(0,o=e.resource)},[o,p,f,g,h,async function(){let e,n;Xe.set("saving"),o.id?(e=["users",d,"games",l.data.id,"resources",o.id],n="PUT"):(e=["users",d,"games",l.data.id,"resources"],n="POST");const s=t(c,u,...e),f=new FormData(document.getElementById((o.id||"new")+"-resource-form")),v=await i(s,f,n);if(v.ok){Xe.set("saved"),b(),a(3,g=!0),m=setTimeout(()=>{a(3,g=!1)},1e3);const e=await v.json();r("updateCollection",{resource:e.data,included:[],deprecatedIncludedIds:["resource#"+e.data.id]})}else{const e=await v.text();a(1,p=JSON.parse(e)),Xe.set("failed")}},async function(){Xe.set("saving");const e=["users",d,"games",l.data.id,"resources",o.id],n=t(c,u,...e),s=await i(n,{},"DELETE");if(204!==s.status){const e=await s.text();a(1,p=JSON.parse(e)),Xe.set("failed")}else Xe.set("saved"),a(1,p=null),r("removeCollectionMember",{resource:{id:o.id}})},async function(){let e;e=["users",d,"games",l.data.id,"resources",o.id];const n=t(c,u,...e),i=await s(n);if(i.ok){const e=await i.json();r("updateCollection",{resource:e.data,included:[],deprecatedIncludedIds:["resource#"+e.data.id]})}b()},function(){a(2,f=!f)},y,w,()=>y("assets",!0),()=>y("assets",!1),()=>w(),function(){o.attributes.name=this.value,a(0,o)},function(){o.attributes.source=O(this),a(0,o)}]}class zt extends Ne{constructor(e){super(),Me(this,e,qt,Dt,p,{resource:0})}}function Gt(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function Rt(e){let t;return{c(){t=C("span"),t.textContent="NOT",S(t,"class","not svelte-11jsl7h")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Bt(e){let t,n,s,i,a;return{c(){t=C("div"),n=j("svg"),s=j("use"),S(s,"href","../images/fontawesome-sprite.svg#regular-times-circle"),S(n,"class","fa fill-destroy"),S(t,"class","column is-narrow")},m(l,o){k(l,t,o),_(t,n),_(n,s),i||(a=H(n,"click",e[5]),i=!0)},p:l,d(e){e&&x(t),i=!1,a()}}}function Ft(e){let t,n,s,i,a,l,o,r,c,u,d;return{c(){t=C("input"),i=M(),a=C("input"),r=M(),c=C("input"),S(t,"type","hidden"),S(t,"name",n=e[1]+"[criteria][validations]["+e[9]+"][attribute]"),t.value=s=e[7].attribute,S(a,"type","hidden"),S(a,"name",l=e[1]+"[criteria][validations]["+e[9]+"][comparison]"),a.value=o=e[7].comparison,S(c,"type","hidden"),S(c,"name",u=e[1]+"[criteria][validations]["+e[9]+"][value]"),c.value=d=e[7].value},m(e,n){k(e,t,n),k(e,i,n),k(e,a,n),k(e,r,n),k(e,c,n)},p(e,i){3&i&&n!==(n=e[1]+"[criteria][validations]["+e[9]+"][attribute]")&&S(t,"name",n),1&i&&s!==(s=e[7].attribute)&&(t.value=s),3&i&&l!==(l=e[1]+"[criteria][validations]["+e[9]+"][comparison]")&&S(a,"name",l),1&i&&o!==(o=e[7].comparison)&&(a.value=o),3&i&&u!==(u=e[1]+"[criteria][validations]["+e[9]+"][value]")&&S(c,"name",u),1&i&&d!==(d=e[7].value)&&(c.value=d)},d(e){e&&x(t),e&&x(i),e&&x(a),e&&x(r),e&&x(c)}}}function Yt(e,t){let n,s,i,a,l,o,r,c,u,d,m,p=t[7].attribute+"",f=t[4][t[7].comparison]+"",v=t[7].value+"",g=t[1]&&Ft(t);return{key:e,first:null,c(){n=C("li"),s=L("with a "),i=C("strong"),a=L(p),l=M(),o=L(f),r=M(),c=C("strong"),u=L(v),d=M(),m=L(";\n\n        "),g&&g.c(),this.first=n},m(e,t){k(e,n,t),_(n,s),_(n,i),_(i,a),_(n,l),_(n,o),_(n,r),_(n,c),_(c,u),_(c,d),_(n,m),g&&g.m(n,null)},p(e,t){1&t&&p!==(p=e[7].attribute+"")&&A(a,p),1&t&&f!==(f=e[4][e[7].comparison]+"")&&A(o,f),1&t&&v!==(v=e[7].value+"")&&A(u,v),e[1]?g?g.p(e,t):(g=Ft(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},d(e){e&&x(n),g&&g.d()}}}function Jt(e){let t,n,s,i,l,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$,_,T,j,L,H=e[0].attributes._destroy&&Vt(e);return{c(){t=C("input"),i=M(),l=C("input"),c=M(),u=C("input"),p=M(),f=C("input"),h=M(),b=C("input"),$=M(),_=C("input"),j=M(),H&&H.c(),L=N(),S(t,"type","hidden"),S(t,"name",n=e[1]+"[criteria][count]"),t.value=s=e[0].attributes.criteria.count,S(l,"type","hidden"),S(l,"name",o=e[1]+"[criteria][period]"),l.value=r=e[0].attributes.criteria.period,S(u,"type","hidden"),S(u,"name",d=e[1]+"[inverted]"),u.value=m=e[0].attributes.inverted,S(f,"type","hidden"),S(f,"name",v=e[1]+"[underlying_type]"),f.value=g=a(e[0].relationships.underlying.data.type),S(b,"type","hidden"),S(b,"name",y=e[1]+"[underlying_id]"),b.value=w=e[0].relationships.underlying.data.id,S(_,"type","hidden"),S(_,"name",T=e[1]+"[condition_type]"),_.value="action_trigger"},m(e,n){k(e,t,n),k(e,i,n),k(e,l,n),k(e,c,n),k(e,u,n),k(e,p,n),k(e,f,n),k(e,h,n),k(e,b,n),k(e,$,n),k(e,_,n),k(e,j,n),H&&H.m(e,n),k(e,L,n)},p(e,i){2&i&&n!==(n=e[1]+"[criteria][count]")&&S(t,"name",n),1&i&&s!==(s=e[0].attributes.criteria.count)&&(t.value=s),2&i&&o!==(o=e[1]+"[criteria][period]")&&S(l,"name",o),1&i&&r!==(r=e[0].attributes.criteria.period)&&(l.value=r),2&i&&d!==(d=e[1]+"[inverted]")&&S(u,"name",d),1&i&&m!==(m=e[0].attributes.inverted)&&(u.value=m),2&i&&v!==(v=e[1]+"[underlying_type]")&&S(f,"name",v),1&i&&g!==(g=a(e[0].relationships.underlying.data.type))&&(f.value=g),2&i&&y!==(y=e[1]+"[underlying_id]")&&S(b,"name",y),1&i&&w!==(w=e[0].relationships.underlying.data.id)&&(b.value=w),2&i&&T!==(T=e[1]+"[condition_type]")&&S(_,"name",T),e[0].attributes._destroy?H?H.p(e,i):(H=Vt(e),H.c(),H.m(L.parentNode,L)):H&&(H.d(1),H=null)},d(e){e&&x(t),e&&x(i),e&&x(l),e&&x(c),e&&x(u),e&&x(p),e&&x(f),e&&x(h),e&&x(b),e&&x($),e&&x(_),e&&x(j),H&&H.d(e),e&&x(L)}}}function Vt(e){let t,n;return{c(){t=C("input"),S(t,"type","hidden"),S(t,"name",n=e[1]+"[_destroy]"),t.value="true"},m(e,n){k(e,t,n)},p(e,s){2&s&&n!==(n=e[1]+"[_destroy]")&&S(t,"name",n)},d(e){e&&x(t)}}}function Xt(e){let t,n,s,i,a,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$,T,N,H,P,I,U,O,E,q,z,G=e[2].attributes.name+"",R=e[0].attributes.criteria.count+"",B=1===parseInt(e[0].attributes.criteria.count)?"time":"times",F=[],Y=new Map,J=e[3][e[0].attributes.criteria.period]+"",V=e[0].attributes.inverted&&Rt(),X=e[1]&&Bt(e),W=e[0].attributes.criteria.validations;const Z=e=>e[9];for(let t=0;t<W.length;t+=1){let n=Gt(e,W,t),s=Z(n);Y.set(s,F[t]=Yt(s,n))}let K=e[1]&&Jt(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=j("svg"),a=j("use"),o=M(),V&&V.c(),r=L("\n      Trigged "),c=C("strong"),u=L("'"),d=L(G),m=L("'"),p=M(),X&&X.c(),f=M(),v=C("ul"),g=C("li"),h=L("mininum\n      "),b=C("strong"),y=L(R),w=M(),$=L(B),T=M(),N=L(";"),H=M();for(let e=0;e<F.length;e+=1)F[e].c();P=M(),I=C("li"),U=L("over the "),O=C("strong"),E=L(J),q=L("."),z=M(),K&&K.c(),S(a,"href","../images/fontawesome-sprite.svg#regular-check-circle"),S(i,"class","fa check svelte-11jsl7h"),S(s,"class","column"),S(n,"class","columns is-mobile"),S(v,"class","svelte-11jsl7h"),S(t,"class","content"),D(t,"is-hidden",e[0].attributes._destroy)},m(e,l){k(e,t,l),_(t,n),_(n,s),_(s,i),_(i,a),_(s,o),V&&V.m(s,null),_(s,r),_(s,c),_(c,u),_(c,d),_(c,m),_(n,p),X&&X.m(n,null),_(t,f),_(t,v),_(v,g),_(g,h),_(g,b),_(b,y),_(b,w),_(b,$),_(b,T),_(g,N),_(v,H);for(let e=0;e<F.length;e+=1)F[e].m(v,null);_(v,P),_(v,I),_(I,U),_(I,O),_(O,E),_(I,q),_(t,z),K&&K.m(t,null)},p(e,[i]){if(e[0].attributes.inverted?V||(V=Rt(),V.c(),V.m(s,r)):V&&(V.d(1),V=null),4&i&&G!==(G=e[2].attributes.name+"")&&A(d,G),e[1]?X?X.p(e,i):(X=Bt(e),X.c(),X.m(n,null)):X&&(X.d(1),X=null),1&i&&R!==(R=e[0].attributes.criteria.count+"")&&A(y,R),1&i&&B!==(B=1===parseInt(e[0].attributes.criteria.count)?"time":"times")&&A($,B),19&i){const t=e[0].attributes.criteria.validations;F=xe(F,i,Z,1,e,t,Y,v,_e,Yt,P,Gt)}1&i&&J!==(J=e[3][e[0].attributes.criteria.period]+"")&&A(E,J),e[1]?K?K.p(e,i):(K=Jt(e),K.c(),K.m(t,null)):K&&(K.d(1),K=null),1&i&&D(t,"is-hidden",e[0].attributes._destroy)},i:l,o:l,d(e){e&&x(t),V&&V.d(),X&&X.d();for(let e=0;e<F.length;e+=1)F[e].d();K&&K.d()}}}function Wt(e,t,n){let s,{formPrefix:i}=t,{condition:a}=t,{underlyings:l}=t;return e.$set=e=>{"formPrefix"in e&&n(1,i=e.formPrefix),"condition"in e&&n(0,a=e.condition),"underlyings"in e&&n(6,l=e.underlyings)},e.$$.update=()=>{65&e.$$.dirty&&n(2,s=l.find(e=>e.id===a.relationships.underlying.data.id&&e.type===a.relationships.underlying.data.type))},[a,i,s,{0:"past year",1:"past 90 days",2:"past 30 days",3:"past 7 days",4:"past 5 days",5:"past 3 days",6:"past 2 days",7:"past 24 hours"},{eq:"= equal to",gteq:"≥ greater than or equal to",lteq:"≤ less than or equal to",shortlist:"[⟷] within"},function(){n(0,a.attributes._destroy=!0,a)},l]}class Zt extends Ne{constructor(e){super(),Me(this,e,Wt,Xt,p,{formPrefix:1,condition:0,underlyings:6})}}function Kt(e,t,n){const s=e.slice();return s[25]=t[n][0],s[26]=t[n][1],s[28]=n,s}function Qt(e,t,n){const s=e.slice();return s[29]=t[n][0],s[30]=t[n][1],s}function en(e,t,n){const s=e.slice();return s[8]=t[n],s[28]=n,s}function tn(e){let t;return{c(){t=C("p"),t.textContent="No Action defined in the Action tab yet.",S(t,"class","no-actions svelte-j3z3bz")},m(e,n){k(e,t,n)},p:l,d(e){e&&x(t)}}}function nn(e){let t,n,s,i,a,l=[],o=new Map,r=e[0];const c=e=>e[28];for(let t=0;t<r.length;t+=1){let n=en(e,r,t),s=c(n);o.set(s,l[t]=sn(s,n))}return{c(){t=C("div"),n=C("select"),s=C("option"),s.textContent="--";for(let e=0;e<l.length;e+=1)l[e].c();s.__value="",s.value=s.__value,void 0===e[3]&&ie(()=>e[13].call(n)),S(t,"class","select")},m(o,r){k(o,t,r),_(t,n),_(n,s);for(let e=0;e<l.length;e+=1)l[e].m(n,null);U(n,e[3]),i||(a=H(n,"change",e[13]),i=!0)},p(e,t){if(1&t[0]){const s=e[0];l=xe(l,t,c,1,e,s,o,n,_e,sn,null,en)}9&t[0]&&U(n,e[3])},d(e){e&&x(t);for(let e=0;e<l.length;e+=1)l[e].d();i=!1,a()}}}function sn(e,t){let n,s,i,a=t[8].attributes.name+"";return{key:e,first:null,c(){n=C("option"),s=L(a),n.__value=i=t[8].id,n.value=n.__value,this.first=n},m(e,t){k(e,n,t),_(n,s)},p(e,t){1&t[0]&&a!==(a=e[8].attributes.name+"")&&A(s,a),1&t[0]&&i!==(i=e[8].id)&&(n.__value=i),n.value=n.__value},d(e){e&&x(n)}}}function an(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,j,N,O,E,q,z,G,R,B,F,Y,J,V,X,W,Z,K,Q,ee,te,ne,se,ae,le,oe=1===parseInt(e[1])?"time":"times",re=[],ce=new Map,ue=e[7]&&ln(e),de=Object.entries(e[9]);const me=e=>e[28];for(let t=0;t<de.length;t+=1){let n=Kt(e,de,t),s=me(n);ce.set(s,re[t]=rn(s,n))}let pe=e[3]&&cn(e);return{c(){t=C("div"),n=C("button"),s=M(),i=C("h1"),i.textContent="Unable to add Condition :",a=M(),l=C("ul"),ue&&ue.c(),o=M(),r=C("div"),c=C("div"),c.innerHTML='<label class="label">Triggered :</label>',u=M(),m=C("div"),p=C("div"),f=C("p"),v=L("minimum "),g=C("input"),h=M(),b=C("strong"),y=L(oe),w=M(),$=C("div"),T=C("div"),T.innerHTML='<label class="label">Over the :</label>',j=M(),N=C("div"),O=C("div"),E=C("div"),q=C("select");for(let e=0;e<re.length;e+=1)re[e].c();z=M(),pe&&pe.c(),G=M(),R=C("div"),B=C("div"),B.innerHTML='<label class="label">Inverted ?</label>',F=M(),Y=C("div"),J=C("div"),V=C("label"),X=C("p"),W=C("input"),Z=L("\n                The condition MUST NOT be met to be validated 🙃"),K=M(),Q=C("div"),ee=C("div"),te=C("button"),ne=L("Add"),S(n,"class","delete"),S(i,"class","title is-5"),S(t,"class","notification is-warning"),D(t,"is-hidden",!e[7]),S(c,"class","field-label is-normal"),S(g,"class","input count"),S(g,"type","text"),S(f,"class","has-vcentered-content"),S(p,"class","field"),S(m,"class","field-body"),S(r,"class","field is-horizontal"),S(T,"class","field-label is-normal"),void 0===e[2]&&ie(()=>e[16].call(q)),S(E,"class","select"),S(O,"class","field"),S(N,"class","field-body"),S($,"class","field is-horizontal"),S(B,"class","field-label is-normal"),S(W,"type","checkbox"),S(X,"class","help"),S(V,"class","checkbox"),S(J,"class","field"),S(Y,"class","field-body"),S(R,"class","field is-horizontal"),S(te,"class","button is-primary is-outlined"),te.disabled=se=!e[3],S(ee,"class","column"),S(Q,"class","columns")},m(d,x){k(d,t,x),_(t,n),_(t,s),_(t,i),_(t,a),_(t,l),ue&&ue.m(l,null),k(d,o,x),k(d,r,x),_(r,c),_(r,u),_(r,m),_(m,p),_(p,f),_(f,v),_(f,g),I(g,e[1]),_(f,h),_(f,b),_(b,y),k(d,w,x),k(d,$,x),_($,T),_($,j),_($,N),_(N,O),_(O,E),_(E,q);for(let e=0;e<re.length;e+=1)re[e].m(q,null);U(q,e[2]),k(d,z,x),pe&&pe.m(d,x),k(d,G,x),k(d,R,x),_(R,B),_(R,F),_(R,Y),_(Y,J),_(J,V),_(V,X),_(X,W),W.checked=e[6],_(X,Z),k(d,K,x),k(d,Q,x),_(Q,ee),_(ee,te),_(te,ne),ae||(le=[H(n,"click",P(e[14])),H(g,"input",e[15]),H(q,"change",e[16]),H(W,"change",e[23]),H(te,"click",P(e[10]))],ae=!0)},p(e,n){if(e[7]?ue?ue.p(e,n):(ue=ln(e),ue.c(),ue.m(l,null)):ue&&(ue.d(1),ue=null),128&n[0]&&D(t,"is-hidden",!e[7]),2&n[0]&&g.value!==e[1]&&I(g,e[1]),2&n[0]&&oe!==(oe=1===parseInt(e[1])?"time":"times")&&A(y,oe),512&n[0]){const t=Object.entries(e[9]);re=xe(re,n,me,1,e,t,ce,q,_e,rn,null,Kt)}516&n[0]&&U(q,e[2]),e[3]?pe?pe.p(e,n):(pe=cn(e),pe.c(),pe.m(G.parentNode,G)):pe&&(pe.d(1),pe=null),64&n[0]&&(W.checked=e[6]),8&n[0]&&se!==(se=!e[3])&&(te.disabled=se)},d(e){e&&x(t),ue&&ue.d(),e&&x(o),e&&x(r),e&&x(w),e&&x($);for(let e=0;e<re.length;e+=1)re[e].d();e&&x(z),pe&&pe.d(e),e&&x(G),e&&x(R),e&&x(K),e&&x(Q),ae=!1,d(le)}}}function ln(e){let t,n=Object.entries(e[7]),s=[];for(let t=0;t<n.length;t+=1)s[t]=on(Qt(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(128&i[0]){let a;for(n=Object.entries(e[7]),a=0;a<n.length;a+=1){const l=Qt(e,n,a);s[a]?s[a].p(l,i):(s[a]=on(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function on(e){let t,n,s,i,a=e[29]+"",l=e[30]+"";return{c(){t=C("li"),n=L(a),s=L(" : "),i=L(l)},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){128&t[0]&&a!==(a=e[29]+"")&&A(n,a),128&t[0]&&l!==(l=e[30]+"")&&A(i,l)},d(e){e&&x(t)}}}function rn(e,t){let n,s,i,a=t[26]+"";return{key:e,first:null,c(){n=C("option"),s=L(a),n.__value=i=t[25],n.value=n.__value,this.first=n},m(e,t){k(e,n,t),_(n,s)},p:l,d(e){e&&x(n)}}}function cn(e){let t,n,s,i,a,l,o,r,c,u,d;function m(e,t){return"boolean"===e[8].attributes.actionType?mn:"int"===e[8].attributes.actionType||"float"===e[8].attributes.actionType?dn:un}let p=m(e),f=p(e);function v(e,t){return"boolean"===e[8].attributes.actionType?vn:"int"===e[8].attributes.actionType||"float"===e[8].attributes.actionType||"string"===e[8].attributes.actionType?fn:"shortlist"===e[8].attributes.actionType?pn:void 0}let g=v(e),h=g&&g(e);return{c(){t=C("div"),n=C("div"),n.innerHTML='<label class="label">Score :</label>',s=M(),i=C("div"),a=C("div"),l=C("p"),f.c(),o=M(),r=C("div"),c=C("div"),h&&h.c(),u=M(),d=C("p"),d.textContent="Possible score values depend on selected Action's scoretype",S(n,"class","field-label is-normal"),S(l,"class","control"),S(a,"class","field"),S(c,"class","control"),S(r,"class","field"),S(d,"class","help"),S(i,"class","field-body"),S(t,"class","field is-horizontal")},m(e,m){k(e,t,m),_(t,n),_(t,s),_(t,i),_(i,a),_(a,l),f.m(l,null),_(i,o),_(i,r),_(r,c),h&&h.m(c,null),_(i,u),_(i,d)},p(e,t){p===(p=m(e))&&f?f.p(e,t):(f.d(1),f=p(e),f&&(f.c(),f.m(l,null))),g===(g=v(e))&&h?h.p(e,t):(h&&h.d(1),h=g&&g(e),h&&(h.c(),h.m(c,null)))},d(e){e&&x(t),f.d(),h&&h.d()}}}function un(e){let t,n,s,i,a;return{c(){t=C("div"),n=C("select"),s=C("option"),s.textContent="[⟷] within",s.__value="shortlist",s.value=s.__value,void 0===e[5]&&ie(()=>e[19].call(n)),S(t,"class","select")},m(l,o){k(l,t,o),_(t,n),_(n,s),U(n,e[5]),i||(a=H(n,"change",e[19]),i=!0)},p(e,t){32&t[0]&&U(n,e[5])},d(e){e&&x(t),i=!1,a()}}}function dn(e){let t,n,s,i,a,l,o;return{c(){t=C("div"),n=C("select"),s=C("option"),s.textContent="≥ greater than or equal to",i=C("option"),i.textContent="≤ less than or equal to",a=C("option"),a.textContent="= equal to",s.__value="gteq",s.value=s.__value,i.__value="lteq",i.value=i.__value,a.__value="eq",a.value=a.__value,void 0===e[5]&&ie(()=>e[18].call(n)),S(t,"class","select")},m(r,c){k(r,t,c),_(t,n),_(n,s),_(n,i),_(n,a),U(n,e[5]),l||(o=H(n,"change",e[18]),l=!0)},p(e,t){32&t[0]&&U(n,e[5])},d(e){e&&x(t),l=!1,o()}}}function mn(e){let t,n,s,i,a;return{c(){t=C("div"),n=C("select"),s=C("option"),s.textContent="= equal to",s.__value="eq",s.value=s.__value,void 0===e[5]&&ie(()=>e[17].call(n)),S(t,"class","select")},m(l,o){k(l,t,o),_(t,n),_(n,s),U(n,e[5]),i||(a=H(n,"change",e[17]),i=!0)},p(e,t){32&t[0]&&U(n,e[5])},d(e){e&&x(t),i=!1,a()}}}function pn(e){let t,n,s;return{c(){t=C("input"),S(t,"type","text"),S(t,"class","input reasonable-width"),S(t,"placeholder","comma separated list"),t.required=!0},m(i,a){k(i,t,a),I(t,e[4]),n||(s=H(t,"input",e[22]),n=!0)},p(e,n){16&n[0]&&t.value!==e[4]&&I(t,e[4])},d(e){e&&x(t),n=!1,s()}}}function fn(e){let t,n,s;return{c(){t=C("input"),S(t,"type","text"),S(t,"class","input reasonable-width"),t.required=!0},m(i,a){k(i,t,a),I(t,e[4]),n||(s=H(t,"input",e[21]),n=!0)},p(e,n){16&n[0]&&t.value!==e[4]&&I(t,e[4])},d(e){e&&x(t),n=!1,s()}}}function vn(e){let t,n,s,i,a,l;return{c(){t=C("div"),n=C("select"),s=C("option"),s.textContent="Pass",i=C("option"),i.textContent="Fail",s.__value="1",s.value=s.__value,i.__value="0",i.value=i.__value,void 0===e[4]&&ie(()=>e[20].call(n)),S(t,"class","select")},m(o,r){k(o,t,r),_(t,n),_(n,s),_(n,i),U(n,e[4]),a||(l=H(n,"change",e[20]),a=!0)},p(e,t){16&t[0]&&U(n,e[4])},d(e){e&&x(t),a=!1,l()}}}function gn(e){let t,n,s,i,a,o,r,c;function u(e,t){return e[0].length?nn:tn}let d=u(e),m=d(e),p=e[0].length&&an(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=C("div"),i.innerHTML='<label class="label">Action :</label>',a=M(),o=C("div"),r=C("div"),m.c(),c=M(),p&&p.c(),S(i,"class","field-label"),D(i,"has-hvcentered-content",!e[0].length),D(i,"is-normal",e[0].length),S(r,"class","field"),S(o,"class","field-body"),S(s,"class","field is-horizontal"),S(n,"class","column"),S(t,"class","columns")},m(e,l){k(e,t,l),_(t,n),_(n,s),_(s,i),_(s,a),_(s,o),_(o,r),m.m(r,null),_(n,c),p&&p.m(n,null)},p(e,t){1&t[0]&&D(i,"has-hvcentered-content",!e[0].length),1&t[0]&&D(i,"is-normal",e[0].length),d===(d=u(e))&&m?m.p(e,t):(m.d(1),m=d(e),m&&(m.c(),m.m(r,null))),e[0].length?p?p.p(e,t):(p=an(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null)},i:l,o:l,d(e){e&&x(t),m.d(),p&&p.d()}}}function hn(e,t,n){const s=V();let i,a,l,o,{underlyings:r}=t,c=1,u=0,d=null,m=!1,p=null;const f={0:"past year",1:"past 90 days",2:"past 30 days",3:"past 7 days",4:"past 5 days",5:"past 3 days",6:"past 2 days",7:"past 24 hours"};function v(){n(7,p=null)}return e.$set=e=>{"underlyings"in e&&n(12,r=e.underlyings)},e.$$.update=()=>{4096&e.$$.dirty[0]&&n(0,i=r.filter(e=>"action"===e.type)),9&e.$$.dirty[0]&&n(8,a=i.find(e=>e.id===d))},[i,c,u,d,l,o,m,p,a,f,function(){if(n(7,p=null),isNaN(parseInt(c))&&n(7,p={...p,"trigger count":`Trigger count must be a number, not "${c}"`}),"int"===a.attributes.actionType||"float"===a.attributes.actionType?isNaN(parseInt(l))&&n(7,p={...p,attribute:`Score value must be a number because   ${a.attributes.name}'s Scoretype is ${a.attributes.actionType}`}):"string"===a.attributes.actionType&&(l&&Array.isArray(l.split(","))||n(7,p={...p,attribute:`Score value must be a comma separated list of\naccepted values because ${a.attributes.name}'s Scoretype is ${a.attributes.actionType}`})),p)return;s("addCondition",{condition:{type:"condition",relationships:{underlying:{data:{id:d,type:"action"}}},attributes:{conditionType:"action_trigger",inverted:m,criteria:{count:c,period:u,validations:[{attribute:"score",comparison:o,value:l}]}}}})},v,r,function(){d=O(this),n(3,d),n(0,i),n(12,r)},()=>v(),function(){c=this.value,n(1,c)},function(){u=O(this),n(2,u),n(9,f)},function(){o=O(this),n(5,o)},function(){o=O(this),n(5,o)},function(){o=O(this),n(5,o)},function(){l=O(this),n(4,l)},function(){l=this.value,n(4,l)},function(){l=this.value,n(4,l)},function(){m=this.checked,n(6,m)}]}class bn extends Ne{constructor(e){super(),Me(this,e,hn,gn,p,{underlyings:12},[-1,-1])}}function yn(e){let t;return{c(){t=C("span"),t.textContent="NOT",S(t,"class","not svelte-1e3ektg")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function wn(e){let t,n,s,i,l,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$,T,L,P=e[0].attributes._destroy&&$n(e);return{c(){t=C("div"),n=j("svg"),s=j("use"),i=M(),l=C("input"),c=M(),u=C("input"),p=M(),f=C("input"),h=M(),b=C("input"),w=M(),P&&P.c(),$=N(),S(s,"href","../images/fontawesome-sprite.svg#regular-times-circle"),S(n,"class","fa fill-destroy"),S(t,"class","column is-narrow"),S(l,"type","hidden"),S(l,"name",o=e[1]+"[inverted]"),l.value=r=e[0].attributes.inverted,S(u,"type","hidden"),S(u,"name",d=e[1]+"[underlying_type]"),u.value=m=a(e[0].relationships.underlying.data.type),S(f,"type","hidden"),S(f,"name",v=e[1]+"[underlying_id]"),f.value=g=e[0].relationships.underlying.data.id,S(b,"type","hidden"),S(b,"name",y=e[1]+"[condition_type]"),b.value="unlocked_achievement"},m(a,o){k(a,t,o),_(t,n),_(n,s),k(a,i,o),k(a,l,o),k(a,c,o),k(a,u,o),k(a,p,o),k(a,f,o),k(a,h,o),k(a,b,o),k(a,w,o),P&&P.m(a,o),k(a,$,o),T||(L=H(n,"click",e[3]),T=!0)},p(e,t){2&t&&o!==(o=e[1]+"[inverted]")&&S(l,"name",o),1&t&&r!==(r=e[0].attributes.inverted)&&(l.value=r),2&t&&d!==(d=e[1]+"[underlying_type]")&&S(u,"name",d),1&t&&m!==(m=a(e[0].relationships.underlying.data.type))&&(u.value=m),2&t&&v!==(v=e[1]+"[underlying_id]")&&S(f,"name",v),1&t&&g!==(g=e[0].relationships.underlying.data.id)&&(f.value=g),2&t&&y!==(y=e[1]+"[condition_type]")&&S(b,"name",y),e[0].attributes._destroy?P?P.p(e,t):(P=$n(e),P.c(),P.m($.parentNode,$)):P&&(P.d(1),P=null)},d(e){e&&x(t),e&&x(i),e&&x(l),e&&x(c),e&&x(u),e&&x(p),e&&x(f),e&&x(h),e&&x(b),e&&x(w),P&&P.d(e),e&&x($),T=!1,L()}}}function $n(e){let t,n;return{c(){t=C("input"),S(t,"type","hidden"),S(t,"name",n=e[1]+"[_destroy]"),t.value="true"},m(e,n){k(e,t,n)},p(e,s){2&s&&n!==(n=e[1]+"[_destroy]")&&S(t,"name",n)},d(e){e&&x(t)}}}function _n(e){let t,n,s,i,a,o,r,c,u,d,m,p,f=e[2].attributes.name+"",v=e[0].attributes.inverted&&yn(),g=e[1]&&wn(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=j("svg"),a=j("use"),o=M(),v&&v.c(),r=L("\n      Unlocked "),c=C("strong"),u=L("'"),d=L(f),m=L("'"),p=M(),g&&g.c(),S(a,"href","../images/fontawesome-sprite.svg#regular-check-circle"),S(i,"class","fa check svelte-1e3ektg"),S(s,"class","column"),S(n,"class","columns is-mobile"),S(t,"class","content"),D(t,"is-hidden",e[0].attributes._destroy)},m(e,l){k(e,t,l),_(t,n),_(n,s),_(s,i),_(i,a),_(s,o),v&&v.m(s,null),_(s,r),_(s,c),_(c,u),_(c,d),_(c,m),_(n,p),g&&g.m(n,null)},p(e,[i]){e[0].attributes.inverted?v||(v=yn(),v.c(),v.m(s,r)):v&&(v.d(1),v=null),4&i&&f!==(f=e[2].attributes.name+"")&&A(d,f),e[1]?g?g.p(e,i):(g=wn(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null),1&i&&D(t,"is-hidden",e[0].attributes._destroy)},i:l,o:l,d(e){e&&x(t),v&&v.d(),g&&g.d()}}}function kn(e,t,n){let s,{formPrefix:i}=t,{condition:a}=t,{underlyings:l}=t;return e.$set=e=>{"formPrefix"in e&&n(1,i=e.formPrefix),"condition"in e&&n(0,a=e.condition),"underlyings"in e&&n(4,l=e.underlyings)},e.$$.update=()=>{17&e.$$.dirty&&n(2,s=l.find(e=>e.id===a.relationships.underlying.data.id&&e.type===a.relationships.underlying.data.type))},[a,i,s,function(){n(0,a.attributes._destroy=!0,a)},l]}class xn extends Ne{constructor(e){super(),Me(this,e,kn,_n,p,{formPrefix:1,condition:0,underlyings:4})}}function Tn(e,t,n){const s=e.slice();return s[3]=t[n],s[10]=n,s}function Cn(e){let t;return{c(){t=C("p"),t.textContent="No Achievement defined in the Achievement tab yet.",S(t,"class","no-achievements svelte-2xqwad")},m(e,n){k(e,t,n)},p:l,d(e){e&&x(t)}}}function jn(e){let t,n,s,i,a,l=[],o=new Map,r=e[0];const c=e=>e[10];for(let t=0;t<r.length;t+=1){let n=Tn(e,r,t),s=c(n);o.set(s,l[t]=Ln(s,n))}return{c(){t=C("div"),n=C("select"),s=C("option"),s.textContent="--";for(let e=0;e<l.length;e+=1)l[e].c();s.__value="",s.value=s.__value,void 0===e[1]&&ie(()=>e[6].call(n)),S(t,"class","select")},m(o,r){k(o,t,r),_(t,n),_(n,s);for(let e=0;e<l.length;e+=1)l[e].m(n,null);U(n,e[1]),i||(a=H(n,"change",e[6]),i=!0)},p(e,t){if(1&t){const s=e[0];l=xe(l,t,c,1,e,s,o,n,_e,Ln,null,Tn)}3&t&&U(n,e[1])},d(e){e&&x(t);for(let e=0;e<l.length;e+=1)l[e].d();i=!1,a()}}}function Ln(e,t){let n,s,i,a=t[3].attributes.name+"";return{key:e,first:null,c(){n=C("option"),s=L(a),n.__value=i=t[3].id,n.value=n.__value,this.first=n},m(e,t){k(e,n,t),_(n,s)},p(e,t){1&t&&a!==(a=e[3].attributes.name+"")&&A(s,a),1&t&&i!==(i=e[3].id)&&(n.__value=i),n.value=n.__value},d(e){e&&x(n)}}}function Mn(e){let t,n,s,i,a,l,o;return{c(){t=C("div"),n=C("div"),s=C("button"),i=L("Add"),S(s,"class","button is-primary is-outlined"),s.disabled=a=!e[1],S(n,"class","column"),S(t,"class","columns")},m(a,r){k(a,t,r),_(t,n),_(n,s),_(s,i),l||(o=H(s,"click",P(e[4])),l=!0)},p(e,t){2&t&&a!==(a=!e[1])&&(s.disabled=a)},d(e){e&&x(t),l=!1,o()}}}function Nn(e){let t,n,s,i,a,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$;function T(e,t){return e[0].length?jn:Cn}let j=T(e),N=j(e),P=e[0].length&&Mn(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=C("div"),i.innerHTML='<label class="label">Achievement :</label>',a=M(),o=C("div"),r=C("div"),N.c(),c=M(),u=C("div"),d=C("div"),d.innerHTML='<label class="label">Inverted ?</label>',m=M(),p=C("div"),f=C("div"),v=C("label"),g=C("p"),h=C("input"),b=L("\n              The achievement MUST NOT be unlocked 🙃"),y=M(),P&&P.c(),S(i,"class","field-label"),D(i,"has-hvcentered-content",!e[0].length),D(i,"is-normal",e[0].length),S(r,"class","field"),S(o,"class","field-body"),S(s,"class","field is-horizontal"),S(d,"class","field-label is-normal"),S(h,"type","checkbox"),S(g,"class","help"),S(v,"class","checkbox"),S(f,"class","field"),S(p,"class","field-body"),S(u,"class","field is-horizontal"),S(n,"class","column"),S(t,"class","columns")},m(l,x){k(l,t,x),_(t,n),_(n,s),_(s,i),_(s,a),_(s,o),_(o,r),N.m(r,null),_(n,c),_(n,u),_(u,d),_(u,m),_(u,p),_(p,f),_(f,v),_(v,g),_(g,h),h.checked=e[2],_(g,b),_(n,y),P&&P.m(n,null),w||($=H(h,"change",e[7]),w=!0)},p(e,[t]){1&t&&D(i,"has-hvcentered-content",!e[0].length),1&t&&D(i,"is-normal",e[0].length),j===(j=T(e))&&N?N.p(e,t):(N.d(1),N=j(e),N&&(N.c(),N.m(r,null))),4&t&&(h.checked=e[2]),e[0].length?P?P.p(e,t):(P=Mn(e),P.c(),P.m(n,null)):P&&(P.d(1),P=null)},i:l,o:l,d(e){e&&x(t),N.d(),P&&P.d(),w=!1,$()}}}function Hn(e,t,n){const s=V();let i,a,{underlyings:l}=t,o=null,r=!1;return e.$set=e=>{"underlyings"in e&&n(5,l=e.underlyings)},e.$$.update=()=>{32&e.$$.dirty&&n(0,i=l.filter(e=>"achievement"===e.type)),3&e.$$.dirty&&n(3,a=i.find(e=>e.id===o))},[i,o,r,a,function(){s("addCondition",{condition:{type:"condition",relationships:{underlying:{data:{id:o,type:"achievement"}}},attributes:{conditionType:"unlocked_achievement",inverted:r}}})},l,function(){o=O(this),n(1,o),n(0,i),n(5,l)},function(){r=this.checked,n(2,r)}]}class Pn extends Ne{constructor(e){super(),Me(this,e,Hn,Nn,p,{underlyings:5})}}function Sn(e){let t;return{c(){t=C("span"),t.textContent="NOT",S(t,"class","not svelte-1ryml3a")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function An(e){let t,n,s,i,a,l,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$,T,L=e[0].attributes._destroy&&In(e);return{c(){t=C("div"),n=j("svg"),s=j("use"),i=M(),a=C("input"),r=M(),c=C("input"),m=M(),p=C("input"),g=M(),h=C("input"),y=M(),L&&L.c(),w=N(),S(s,"href","../images/fontawesome-sprite.svg#regular-times-circle"),S(n,"class","fa fill-destroy"),S(t,"class","column is-narrow"),S(a,"type","hidden"),S(a,"name",l=e[1]+"[inverted]"),a.value=o=e[0].attributes.inverted,S(c,"type","hidden"),S(c,"name",u=e[1]+"[criteria][from]"),c.value=d=new Date(e[0].attributes.criteria.from).toLocaleDateString(),S(p,"type","hidden"),S(p,"name",f=e[1]+"[criteria][to]"),p.value=v=new Date(e[0].attributes.criteria.to).toLocaleDateString(),S(h,"type","hidden"),S(h,"name",b=e[1]+"[condition_type]"),h.value="time_frame"},m(l,o){k(l,t,o),_(t,n),_(n,s),k(l,i,o),k(l,a,o),k(l,r,o),k(l,c,o),k(l,m,o),k(l,p,o),k(l,g,o),k(l,h,o),k(l,y,o),L&&L.m(l,o),k(l,w,o),$||(T=H(n,"click",e[2]),$=!0)},p(e,t){2&t&&l!==(l=e[1]+"[inverted]")&&S(a,"name",l),1&t&&o!==(o=e[0].attributes.inverted)&&(a.value=o),2&t&&u!==(u=e[1]+"[criteria][from]")&&S(c,"name",u),1&t&&d!==(d=new Date(e[0].attributes.criteria.from).toLocaleDateString())&&(c.value=d),2&t&&f!==(f=e[1]+"[criteria][to]")&&S(p,"name",f),1&t&&v!==(v=new Date(e[0].attributes.criteria.to).toLocaleDateString())&&(p.value=v),2&t&&b!==(b=e[1]+"[condition_type]")&&S(h,"name",b),e[0].attributes._destroy?L?L.p(e,t):(L=In(e),L.c(),L.m(w.parentNode,w)):L&&(L.d(1),L=null)},d(e){e&&x(t),e&&x(i),e&&x(a),e&&x(r),e&&x(c),e&&x(m),e&&x(p),e&&x(g),e&&x(h),e&&x(y),L&&L.d(e),e&&x(w),$=!1,T()}}}function In(e){let t,n;return{c(){t=C("input"),S(t,"type","hidden"),S(t,"name",n=e[1]+"[_destroy]"),t.value="true"},m(e,n){k(e,t,n)},p(e,s){2&s&&n!==(n=e[1]+"[_destroy]")&&S(t,"name",n)},d(e){e&&x(t)}}}function Un(e){let t,n,s,i,a,o,r,c,u,d,m,p,f,v,g=e[0].attributes.criteria.from+"",h=e[0].attributes.criteria.to+"",b=e[0].attributes.inverted&&Sn(),y=e[1]&&An(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=j("svg"),a=j("use"),o=M(),b&&b.c(),r=L("\n      Between "),c=C("strong"),u=L(g),d=L(" and\n      "),m=C("strong"),p=L(h),f=L(" (both included)"),v=M(),y&&y.c(),S(a,"href","../images/fontawesome-sprite.svg#regular-check-circle"),S(i,"class","fa check svelte-1ryml3a"),S(s,"class","column"),S(n,"class","columns is-mobile"),S(t,"class","content"),D(t,"is-hidden",e[0].attributes._destroy)},m(e,l){k(e,t,l),_(t,n),_(n,s),_(s,i),_(i,a),_(s,o),b&&b.m(s,null),_(s,r),_(s,c),_(c,u),_(s,d),_(s,m),_(m,p),_(s,f),_(n,v),y&&y.m(n,null)},p(e,[i]){e[0].attributes.inverted?b||(b=Sn(),b.c(),b.m(s,r)):b&&(b.d(1),b=null),1&i&&g!==(g=e[0].attributes.criteria.from+"")&&A(u,g),1&i&&h!==(h=e[0].attributes.criteria.to+"")&&A(p,h),e[1]?y?y.p(e,i):(y=An(e),y.c(),y.m(n,null)):y&&(y.d(1),y=null),1&i&&D(t,"is-hidden",e[0].attributes._destroy)},i:l,o:l,d(e){e&&x(t),b&&b.d(),y&&y.d()}}}function On(e,t,n){let{formPrefix:s}=t,{condition:i}=t,{underlyings:a=[]}=t;return e.$set=e=>{"formPrefix"in e&&n(1,s=e.formPrefix),"condition"in e&&n(0,i=e.condition),"underlyings"in e&&n(3,a=e.underlyings)},[i,s,function(){n(0,i.attributes._destroy=!0,i)},a]}class Dn extends Ne{constructor(e){super(),Me(this,e,On,Un,p,{formPrefix:1,condition:0,underlyings:3})}}function En(e){let t,n,s,i,a,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,j,N,A,U,O,D,E,q,z,G,R,B,F;return{c(){t=C("div"),n=C("div"),s=C("div"),i=C("div"),i.innerHTML='<label class="label">From : </label>',a=M(),o=C("div"),r=C("div"),c=C("input"),u=M(),m=C("div"),p=C("div"),p.innerHTML='<label class="label">To : </label>',f=M(),v=C("div"),g=C("div"),h=C("input"),b=M(),y=C("div"),w=C("div"),w.innerHTML='<label class="label">Inverted ?</label>',$=M(),T=C("div"),j=C("div"),N=C("label"),A=C("p"),U=C("input"),O=L("\n              Must be OUT of the time frame to be valid 🙃"),D=M(),E=C("div"),q=C("div"),z=C("button"),G=L("Add"),S(i,"class","field-label is-normal"),S(c,"type","date"),S(c,"class","input date-width"),S(r,"class","field"),S(o,"class","field-body"),S(s,"class","field is-horizontal"),S(p,"class","field-label is-normal"),S(h,"type","date"),S(h,"class","input date-width"),S(g,"class","field"),S(v,"class","field-body"),S(m,"class","field is-horizontal"),S(w,"class","field-label is-normal"),S(U,"type","checkbox"),S(A,"class","help"),S(N,"class","checkbox"),S(j,"class","field"),S(T,"class","field-body"),S(y,"class","field is-horizontal"),S(z,"class","button is-primary is-outlined"),z.disabled=R=!e[3],S(q,"class","column"),S(E,"class","columns"),S(n,"class","column"),S(t,"class","columns")},m(l,d){k(l,t,d),_(t,n),_(n,s),_(s,i),_(s,a),_(s,o),_(o,r),_(r,c),I(c,e[1]),_(n,u),_(n,m),_(m,p),_(m,f),_(m,v),_(v,g),_(g,h),I(h,e[2]),_(n,b),_(n,y),_(y,w),_(y,$),_(y,T),_(T,j),_(j,N),_(N,A),_(A,U),U.checked=e[0],_(A,O),_(n,D),_(n,E),_(E,q),_(q,z),_(z,G),B||(F=[H(c,"input",e[6]),H(h,"input",e[7]),H(U,"change",e[8]),H(z,"click",P(e[4]))],B=!0)},p(e,[t]){2&t&&I(c,e[1]),4&t&&I(h,e[2]),1&t&&(U.checked=e[0]),8&t&&R!==(R=!e[3])&&(z.disabled=R)},i:l,o:l,d(e){e&&x(t),B=!1,d(F)}}}function qn(e,t,n){const s=V();let i,a,l=!1,o=!1;return e.$$.update=()=>{6&e.$$.dirty&&n(3,o=!isNaN(new Date(i))&&!isNaN(new Date(a))&&i<=a)},[l,i,a,o,function(){s("addCondition",{condition:{type:"condition",attributes:{conditionType:"time_frame",inverted:l,criteria:{from:i,to:a}}}})},[],function(){i=this.value,n(1,i)},function(){a=this.value,n(2,a)},function(){l=this.checked,n(0,l)}]}class zn extends Ne{constructor(e){super(),Me(this,e,qn,En,p,{underlyings:5})}get underlyings(){return this.$$.ctx[5]}}function Gn(e,t,n){const s=e.slice();return s[10]=t[n],s[12]=n,s}function Rn(e){let t,n,s=[],i=new Map,a=e[1];const l=e=>e[12];for(let t=0;t<a.length;t+=1){let n=Gn(e,a,t),o=l(n);i.set(o,s[t]=Fn(o,n))}return{c(){t=C("ul");for(let e=0;e<s.length;e+=1)s[e].c();S(t,"class","conditions-list svelte-79jcjj")},m(e,i){k(e,t,i);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,n){if(27&n){const a=e[1];fe(),s=xe(s,n,l,1,e,a,i,t,ke,Fn,null,Gn),ve()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)ge(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)he(s[e]);n=!1},d(e){e&&x(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Bn(e){let t;return{c(){t=C("p"),t.textContent="No conditions yet",S(t,"class","no-conditions")},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function Fn(e,t){let n,s,i,a;var l=t[4][t[10].attributes.conditionType];function o(e){return{props:{condition:e[10],formPrefix:e[0]?`${e[0]}[${e[12]}]`:void 0,underlyings:e[3].included}}}return l&&(s=new l(o(t)),s.$on("message",t[7])),{key:e,first:null,c(){n=C("li"),s&&Te(s.$$.fragment),i=M(),S(n,"class","svelte-79jcjj"),this.first=n},m(e,t){k(e,n,t),s&&Ce(s,n,null),_(n,i),a=!0},p(e,t){const a={};if(2&t&&(a.condition=e[10]),3&t&&(a.formPrefix=e[0]?`${e[0]}[${e[12]}]`:void 0),8&t&&(a.underlyings=e[3].included),l!==(l=e[4][e[10].attributes.conditionType])){if(s){fe();const e=s;he(e.$$.fragment,1,0,()=>{je(e,1)}),ve()}l?(s=new l(o(e)),s.$on("message",e[7]),Te(s.$$.fragment),ge(s.$$.fragment,1),Ce(s,n,i)):s=null}else l&&s.$set(a)},i(e){a||(s&&ge(s.$$.fragment,e),a=!0)},o(e){s&&he(s.$$.fragment,e),a=!1},d(e){e&&x(n),s&&je(s)}}}function Yn(e){let t,n,s,i,a,l,o,r,c,u,d,m,p,f,v,g,h,b,y;var w=e[5][e[2]];function $(e){return{props:{underlyings:e[3].included}}}return w&&(g=new w($(e)),g.$on("addCondition",e[6])),{c(){t=C("div"),n=C("div"),s=C("div"),s.textContent="New Condition :",i=M(),a=C("div"),l=C("div"),o=C("select"),r=C("option"),r.textContent="--",c=C("option"),c.textContent="Action trigger",u=C("option"),u.textContent="Unlocked Achievement",d=C("option"),d.textContent="Time frame",m=C("option"),m.textContent="Scarcity",p=C("option"),p.textContent="Lottery",f=C("option"),f.textContent="Sub Condition Set",v=M(),g&&Te(g.$$.fragment),S(s,"class","column is-narrow-desktop has-vcentered-content new-condition-label svelte-79jcjj"),r.__value="",r.value=r.__value,c.__value="action_trigger",c.value=c.__value,u.__value="unlocked_achievement",u.value=u.__value,d.__value="time_frame",d.value=d.__value,m.__value="scarcity",m.value=m.__value,m.disabled=!0,p.__value="lottery",p.value=p.__value,p.disabled=!0,f.__value="subcondition",f.value=f.__value,f.disabled=!0,void 0===e[2]&&ie(()=>e[8].call(o)),S(l,"class","select is-link"),S(a,"class","column is-narrow-desktop"),S(n,"class","columns"),S(t,"class","new-condition-container svelte-79jcjj")},m(w,$){k(w,t,$),_(t,n),_(n,s),_(n,i),_(n,a),_(a,l),_(l,o),_(o,r),_(o,c),_(o,u),_(o,d),_(o,m),_(o,p),_(o,f),U(o,e[2]),_(t,v),g&&Ce(g,t,null),h=!0,b||(y=H(o,"change",e[8]),b=!0)},p(e,n){4&n&&U(o,e[2]);const s={};if(8&n&&(s.underlyings=e[3].included),w!==(w=e[5][e[2]])){if(g){fe();const e=g;he(e.$$.fragment,1,0,()=>{je(e,1)}),ve()}w?(g=new w($(e)),g.$on("addCondition",e[6]),Te(g.$$.fragment),ge(g.$$.fragment,1),Ce(g,t,null)):g=null}else w&&g.$set(s)},i(e){h||(g&&ge(g.$$.fragment,e),h=!0)},o(e){g&&he(g.$$.fragment,e),h=!1},d(e){e&&x(t),g&&je(g),b=!1,y()}}}function Jn(e){let t,n,s,i,a,l,o,r,c,u;const d=[Bn,Rn],m=[];function p(e,t){return e[1]&&e[1].length?1:0}i=p(e),a=m[i]=d[i](e);let f=e[0]&&Yn(e);return{c(){t=C("div"),n=C("hr"),s=M(),a.c(),l=M(),o=C("hr"),r=M(),f&&f.c(),c=N()},m(e,a){k(e,t,a),_(t,n),_(t,s),m[i].m(t,null),_(t,l),_(t,o),k(e,r,a),f&&f.m(e,a),k(e,c,a),u=!0},p(e,[n]){let s=i;i=p(e),i===s?m[i].p(e,n):(fe(),he(m[s],1,1,()=>{m[s]=null}),ve(),a=m[i],a||(a=m[i]=d[i](e),a.c()),ge(a,1),a.m(t,l)),e[0]?f?(f.p(e,n),1&n&&ge(f,1)):(f=Yn(e),f.c(),ge(f,1),f.m(c.parentNode,c)):f&&(fe(),he(f,1,1,()=>{f=null}),ve())},i(e){u||(ge(a),ge(f),u=!0)},o(e){he(a),he(f),u=!1},d(e){e&&x(t),m[i].d(),e&&x(r),f&&f.d(e),e&&x(c)}}}function Vn(e,t,n){let s;v(e,Ve,e=>n(3,s=e));const i=V();let a,{formPrefix:l}=t,{conditions:o}=t;const r={action_trigger:Zt,unlocked_achievement:xn,time_frame:Dn},c={action_trigger:bn,unlocked_achievement:Pn,time_frame:zn};return e.$set=e=>{"formPrefix"in e&&n(0,l=e.formPrefix),"conditions"in e&&n(1,o=e.conditions)},[l,o,a,s,r,c,function(e){i("updateConditions",{conditions:[...o,e.detail.condition]}),n(2,a="")},function(t){Z(e,t)},function(){a=O(this),n(2,a)}]}class Xn extends Ne{constructor(e){super(),Me(this,e,Vn,Jn,p,{formPrefix:0,conditions:1})}}function Wn(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b,y,w,$;return{c(){t=C("input"),i=M(),a=C("div"),l=C("label"),l.textContent="Type",o=M(),r=C("div"),c=C("select"),u=C("option"),u.textContent="Binomial",m=C("option"),m.textContent="eXclusive OR",f=M(),v=C("div"),g=C("select"),h=C("option"),h.textContent="Binomial (meet at least X among Y cond.)",b=C("option"),b.textContent="eXclusive OR (meet exactly 1 among Y cond.)",S(t,"type","hidden"),S(t,"name",n=e[2]+"[game_id]"),t.value=s=e[3].data.id,S(l,"class","label"),u.__value="binomial",u.value=u.__value,m.__value="xor",m.value=m.__value,S(c,"name",p=e[2]+"[relation_type]"),void 0===e[0].attributes.relationType&&ie(()=>e[5].call(c)),S(r,"class","select is-hidden-desktop"),h.__value="binomial",h.value=h.__value,b.__value="xor",b.value=b.__value,S(g,"name",y=e[2]+"[relation_type]"),void 0===e[0].attributes.relationType&&ie(()=>e[6].call(g)),S(v,"class","select is-hidden-touch"),S(a,"class","field")},m(n,s){k(n,t,s),k(n,i,s),k(n,a,s),_(a,l),_(a,o),_(a,r),_(r,c),_(c,u),_(c,m),U(c,e[0].attributes.relationType),_(a,f),_(a,v),_(v,g),_(g,h),_(g,b),U(g,e[0].attributes.relationType),w||($=[H(c,"change",e[5]),H(g,"change",e[6])],w=!0)},p(e,i){4&i&&n!==(n=e[2]+"[game_id]")&&S(t,"name",n),8&i&&s!==(s=e[3].data.id)&&(t.value=s),4&i&&p!==(p=e[2]+"[relation_type]")&&S(c,"name",p),1&i&&U(c,e[0].attributes.relationType),4&i&&y!==(y=e[2]+"[relation_type]")&&S(g,"name",y),1&i&&U(g,e[0].attributes.relationType)},d(e){e&&x(t),e&&x(i),e&&x(a),w=!1,d($)}}}function Zn(e){let t,n,s,i,a,l,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$,T,j,N=1===e[0].attributes.count?"condition":"conditions",P=e[2]&&Wn(e);return w=new Xn({props:{conditions:e[1],formPrefix:e[2]?e[2]+"[conditions_attributes]":void 0}}),w.$on("updateConditions",e[4]),{c(){t=C("div"),P&&P.c(),n=M(),s=C("div"),i=C("div"),a=C("div"),a.textContent="Player must validate",l=M(),o=C("div"),r=C("em"),r.textContent="minimum",c=M(),u=C("input"),p=M(),f=L(N),v=M(),g=C("div"),g.textContent="among the following ↴ :",h=M(),b=C("div"),b.innerHTML='<div class="column is-narrow-desktop is-gapless-desktop has-vcentered-text svelte-8dci4h">\n        Player must validate \n      </div> \n      <div class="column is-narrow-desktop has-vcentered-text svelte-8dci4h"><em>exactly</em> \n        <input type="text" class="input count" value="1" disabled="true">\n        condition\n      </div> \n      <div class="column is-narrow-desktop has-vcentered-text svelte-8dci4h">\n         among the following ↴ :\n      </div>',y=M(),Te(w.$$.fragment),S(a,"class","column is-narrow-desktop is-gapless-desktop has-vcentered-text svelte-8dci4h"),S(u,"type","text"),S(u,"class","input count"),S(u,"name",d=e[2]+"[count]"),u.disabled=m=void 0===e[2],S(o,"class","column is-narrow-desktop has-vcentered-text svelte-8dci4h"),S(g,"class","column is-narrow-desktop has-vcentered-text svelte-8dci4h"),S(i,"class","columns is-variable is-1 compact-mobile svelte-8dci4h"),D(i,"is-hidden","xor"==e[0].attributes.relationType),S(b,"class","columns is-variable is-1 compact-mobile svelte-8dci4h"),D(b,"is-hidden","binomial"==e[0].attributes.relationType),S(s,"class","field"),S(t,"class","relation-wrapper svelte-8dci4h")},m(d,m){k(d,t,m),P&&P.m(t,null),_(t,n),_(t,s),_(s,i),_(i,a),_(i,l),_(i,o),_(o,r),_(o,c),_(o,u),I(u,e[0].attributes.count),_(o,p),_(o,f),_(i,v),_(i,g),_(s,h),_(s,b),_(t,y),Ce(w,t,null),$=!0,T||(j=H(u,"input",e[7]),T=!0)},p(e,[s]){e[2]?P?P.p(e,s):(P=Wn(e),P.c(),P.m(t,n)):P&&(P.d(1),P=null),(!$||4&s&&d!==(d=e[2]+"[count]"))&&S(u,"name",d),(!$||4&s&&m!==(m=void 0===e[2]))&&(u.disabled=m),1&s&&u.value!==e[0].attributes.count&&I(u,e[0].attributes.count),(!$||1&s)&&N!==(N=1===e[0].attributes.count?"condition":"conditions")&&A(f,N),1&s&&D(i,"is-hidden","xor"==e[0].attributes.relationType),1&s&&D(b,"is-hidden","binomial"==e[0].attributes.relationType);const a={};2&s&&(a.conditions=e[1]),4&s&&(a.formPrefix=e[2]?e[2]+"[conditions_attributes]":void 0),w.$set(a)},i(e){$||(ge(w.$$.fragment,e),$=!0)},o(e){he(w.$$.fragment,e),$=!1},d(e){e&&x(t),P&&P.d(),je(w),T=!1,j()}}}function Kn(e,t,n){let s;v(e,Ve,e=>n(3,s=e));let{relation:i={attributes:{count:1}}}=t,{conditions:a}=t,{formPrefix:l}=t;return e.$set=e=>{"relation"in e&&n(0,i=e.relation),"conditions"in e&&n(1,a=e.conditions),"formPrefix"in e&&n(2,l=e.formPrefix)},e.$$.update=()=>{9&e.$$.dirty&&n(1,a=function(e,t){if(!e.relationships)return[];const n=e.relationships.conditions.data.map(e=>e.id);return t.included.filter(e=>n.includes(e.id)&&"condition"===e.type)}(i,s))},[i,a,l,s,function(e){n(1,a=e.detail.conditions)},function(){i.attributes.relationType=O(this),n(0,i)},function(){i.attributes.relationType=O(this),n(0,i)},function(){i.attributes.count=this.value,n(0,i)}]}class Qn extends Ne{constructor(e){super(),Me(this,e,Kn,Zn,p,{relation:0,conditions:1,formPrefix:2})}}function es(e,t,n){const s=e.slice();return s[30]=t[n],s[32]=n,s}function ts(e,t,n){const s=e.slice();return s[33]=t[n][0],s[34]=t[n][1],s}function ns(e,t,n){const s=e.slice();return s[30]=t[n],s}function ss(e){let t,n,s;return{c(){t=C("div"),t.innerHTML='<div class="column is-12 saved-collection"><svg class="fa saved"><use href="../images/fontawesome-sprite.svg#solid-check-circle"></use></svg>\n        Updated !\n      </div>',S(t,"class","columns")},m(e,n){k(e,t,n),s=!0},i(e){s||(n&&n.end(1),s=!0)},o(e){n=ye(t,Fe,{delay:2e3,duration:200}),s=!1},d(e){e&&x(t),e&&n&&n.end()}}}function is(e){let t,n=e[0].attributes.tags,s=[];for(let t=0;t<n.length;t+=1)s[t]=ls(ns(e,n,t));return{c(){t=C("div");for(let e=0;e<s.length;e+=1)s[e].c();S(t,"class","tags")},m(e,n){k(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,i){if(1&i[0]){let a;for(n=e[0].attributes.tags,a=0;a<n.length;a+=1){const l=ns(e,n,a);s[a]?s[a].p(l,i):(s[a]=ls(l),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){e&&x(t),T(s,e)}}}function as(e){let t;return{c(){t=L("--")},m(e,n){k(e,t,n)},p:l,d(e){e&&x(t)}}}function ls(e){let t,n,s=e[30]+"";return{c(){t=C("span"),n=L(s),S(t,"class","tag is-link")},m(e,s){k(e,t,s),_(t,n)},p(e,t){1&t[0]&&s!==(s=e[30]+"")&&A(n,s)},d(e){e&&x(t)}}}function os(e){let t,n,s,i;const a=[cs,rs],l=[];function o(e,t){return null!==e[1]?0:1}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),s=N()},m(e,n){l[t].m(e,n),k(e,s,n),i=!0},p(e,i){let r=t;t=o(e),t===r?l[t].p(e,i):(fe(),he(l[r],1,1,()=>{l[r]=null}),ve(),n=l[t],n||(n=l[t]=a[t](e),n.c()),ge(n,1),n.m(s.parentNode,s))},i(e){i||(ge(n),i=!0)},o(e){he(n),i=!1},d(e){l[t].d(e),e&&x(s)}}}function rs(e){let t;return{c(){t=C("p"),t.textContent="No conditions yet",S(t,"class","no-conditions")},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function cs(e){let t,n;return t=new Qn({props:{relation:e[1],formPrefix:void 0}}),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};2&n[0]&&(s.relation=e[1]),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function us(e){let t,n=Object.entries(e[3]),s=[];for(let t=0;t<n.length;t+=1)s[t]=ds(ts(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(8&i[0]){let a;for(n=Object.entries(e[3]),a=0;a<n.length;a+=1){const l=ts(e,n,a);s[a]?s[a].p(l,i):(s[a]=ds(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function ds(e){let t,n,s,i,a=e[33]+"",l=e[34]+"";return{c(){t=C("li"),n=L(a),s=L(" : "),i=L(l)},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){8&t[0]&&a!==(a=e[33]+"")&&A(n,a),8&t[0]&&l!==(l=e[34]+"")&&A(i,l)},d(e){e&&x(t)}}}function ms(e,t){let n,s,i,a,l,o,r,c,u,d,m,p=t[30]+"";function f(...e){return t[21](t[30],...e)}return{key:e,first:null,c(){n=C("div"),s=C("input"),a=M(),l=C("div"),o=C("span"),r=L(p),c=M(),u=C("span"),S(s,"name","act[tags][]"),S(s,"class","input"),S(s,"type","hidden"),s.value=i=t[30],S(o,"class","tag is-info"),S(u,"class","tag is-delete"),S(l,"class","tags has-addons"),S(n,"class","control"),this.first=n},m(e,t){k(e,n,t),_(n,s),_(n,a),_(n,l),_(l,o),_(o,r),_(l,c),_(l,u),d||(m=H(u,"click",f),d=!0)},p(e,n){t=e,1&n[0]&&i!==(i=t[30])&&(s.value=i),1&n[0]&&p!==(p=t[30]+"")&&A(r,p)},d(e){e&&x(n),d=!1,m()}}}function ps(e){let t,n;return t=new Qn({props:{formPrefix:"act[relation_attributes]"}}),t.$on("message",e[6]),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p:l,i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function fs(e){let t,n;return t=new Qn({props:{relation:e[1],formPrefix:"act[relation_attributes]"}}),t.$on("message",e[6]),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};2&n[0]&&(s.relation=e[1]),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function vs(e){let t;return{c(){t=L("Update")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function gs(e){let t;return{c(){t=L("Create")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function hs(e){let t,n,s,i,a;return{c(){t=C("button"),t.textContent="Cancel",n=M(),s=C("button"),s.textContent="Delete",S(t,"class","button is-primary is-light"),S(s,"class","button is-danger svelte-ezjc2o")},m(l,o){k(l,t,o),k(l,n,o),k(l,s,o),i||(a=[H(t,"click",P(e[9])),H(s,"click",P(e[8]))],i=!0)},p:l,d(e){e&&x(t),e&&x(n),e&&x(s),i=!1,d(a)}}}function bs(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,N,O,E,q,z,G,R,B,F,Y,J,V,X,W,Z,K,Q,ee,te,ne,se,ae,le,oe,re,ce,ue,de,me,pe,be,ye,we,$e,ke,Te,Ce,je,Le,Me,Ne,He,Pe,Se,Ae,Ie,Ue,Oe,De,Ee,qe,ze,Ge,Re,Be,Fe,Ye,Je,Ve,Xe,We,Ze,Ke,Qe,et,tt,nt,st,it,at,lt,ot,rt,ct,ut,dt,mt,pt,ft,vt,gt,ht,bt,yt,wt,$t,_t,kt,xt,Tt,Ct,jt,Lt,Mt,Nt,Ht,Pt=e[0].attributes.name+"",St=ys(e[0].attributes.actionType)+"",At=ws(e[0].attributes.team_required)+"",It=[],Ut=new Map,Ot=e[5]&&ss();function Dt(e,t){return e[0].attributes.tags.length?is:as}let Et=Dt(e),qt=Et(e),zt=e[2].conditions&&os(e),Gt=e[3]&&us(e),Rt=e[0].attributes.tags;const Bt=e=>e[32];for(let t=0;t<Rt.length;t+=1){let n=es(e,Rt,t),s=Bt(n);Ut.set(s,It[t]=ms(s,n))}const Ft=[fs,ps],Yt=[];function Jt(e,t){return e[0].id&&null!==e[1]?0:1}function Vt(e,t){return e[0].id?vs:gs}bt=Jt(e),yt=Yt[bt]=Ft[bt](e);let Xt=Vt(e),Wt=Xt(e),Zt=e[0].id&&hs(e);return{c(){t=C("div"),n=C("div"),s=C("div"),i=C("div"),a=C("h1"),l=j("svg"),o=j("use"),r=M(),c=C("span"),u=L(Pt),m=M(),p=j("svg"),f=j("use"),v=M(),Ot&&Ot.c(),g=M(),h=C("table"),b=C("tbody"),y=C("tr"),w=C("td"),w.textContent="Score Type :",$=M(),T=C("td"),N=L(St),O=M(),E=C("tr"),q=C("td"),q.textContent="Team Id field :",z=M(),G=C("td"),R=L(At),B=M(),F=C("tr"),Y=C("td"),Y.textContent="Tags :",J=M(),V=C("td"),qt.c(),X=M(),W=C("tr"),W.innerHTML='<td class="svelte-ezjc2o"></td> \n          <td class="svelte-ezjc2o"><p class="help">\n              Need help? See \n              <a href="https://doc/place2be.io/actions" target="_blank"><span>Doc</span> \n                <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p></td>',Z=M(),K=C("h1"),Q=j("svg"),ee=j("use"),te=M(),ne=j("svg"),se=j("use"),ae=M(),le=j("svg"),oe=j("use"),re=L("\n      Conditions"),ce=M(),zt&&zt.c(),ue=M(),de=C("div"),me=C("form"),pe=C("div"),be=C("button"),ye=M(),we=C("h1"),we.textContent="Unable to Update Action :",$e=M(),ke=C("ul"),Gt&&Gt.c(),Te=M(),Ce=C("h1"),Ce.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#card_file_box"></use></svg>\n        Properties :\n      ',je=M(),Le=C("div"),Me=C("div"),Me.innerHTML='<label class="label">Name :</label>',Ne=M(),He=C("div"),Pe=C("div"),Se=C("input"),Ae=M(),Ie=C("div"),Ue=C("div"),Ue.innerHTML='<label class="label">Score Type :</label>',Oe=M(),De=C("div"),Ee=C("div"),qe=C("div"),ze=C("select"),Ge=C("option"),Ge.textContent="Boolean (Pass | Fail)",Re=C("option"),Re.textContent="Integer",Be=C("option"),Be.textContent="Float",Fe=C("option"),Fe.textContent="String",Ye=M(),Je=C("div"),Ve=C("div"),Ve.innerHTML='<label class="label">Team Id field :</label>',Xe=M(),We=C("div"),Ze=C("div"),Ke=C("div"),Qe=C("select"),et=C("option"),et.textContent="No, optional",tt=C("option"),tt.textContent="Yes, required",nt=M(),st=C("div"),it=C("div"),it.innerHTML='<label class="label">Tags :</label>',at=M(),lt=C("div"),ot=C("div"),rt=C("div");for(let e=0;e<It.length;e+=1)It[e].c();ct=M(),ut=C("input"),dt=M(),mt=C("button"),mt.textContent="Add",pt=M(),ft=C("h1"),ft.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#twisted_rightwards_arrows"></use></svg>\n        Conditions\n      ',vt=M(),gt=C("div"),gt.innerHTML='<ul class="help"><li>\n            An Action can only be triggered multiple times per Player.\n          </li> \n          <li>\n            Set below the conditions Players need to succeed triggering the Action.\n          </li> \n          <li>\n            Depending on what you configure below, not ALL the conditions have to be met\n            for the Achievement to be granted.<br>\n            At least one condition has to be met and maximum all the conditions.\n          </li></ul>',ht=M(),yt.c(),wt=M(),$t=C("div"),_t=C("div"),_t.innerHTML='<p class="help">\n            Need help? See \n            <a href="https://doc/place2be.io/actions" target="_blank"><span>Doc</span> \n              <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',kt=M(),xt=C("div"),Tt=C("div"),Ct=C("button"),Wt.c(),jt=M(),Zt&&Zt.c(),S(o,"href","../images/twemoji-sprite.svg#high_voltage_sign"),S(l,"class","twemoji"),D(c,"is-hidden",e[4]),S(f,"href","../images/fontawesome-sprite.svg#regular-edit"),S(p,"class","fa item-edit fill-primary no-hover"),D(p,"is-hidden",e[4]),S(a,"class","title is-4 has-vcentered-text item-name"),S(i,"class","column"),S(s,"class","columns is-mobile"),S(w,"class","right svelte-ezjc2o"),S(T,"class","is-value svelte-ezjc2o"),S(q,"class","right svelte-ezjc2o"),S(G,"class","is-value svelte-ezjc2o"),S(Y,"class","right svelte-ezjc2o"),S(V,"class","is-value svelte-ezjc2o"),S(h,"class","table"),S(ee,"href","../images/fontawesome-sprite.svg#solid-chevron-double-right"),S(Q,"class","chevron"),D(Q,"is-hidden",e[2].conditions),S(se,"href","../images/fontawesome-sprite.svg#solid-chevron-double-down"),S(ne,"class","chevron"),D(ne,"is-hidden",!e[2].conditions),S(oe,"href","../images/twemoji-sprite.svg#twisted_rightwards_arrows"),S(le,"class","twemoji"),S(K,"class","title is-5 byproduct-title"),D(n,"is-hidden",e[4]||!e[0].id),S(be,"class","delete"),S(we,"class","title is-5"),S(pe,"class","notification is-danger"),D(pe,"is-hidden",!e[3]),S(Ce,"class","title is-5 byproduct-title"),S(Me,"class","field-label is-normal"),S(Se,"class","input reasonable-width"),S(Se,"type","text"),S(Se,"name","act[name]"),S(Se,"placeholder","Action name"),S(Pe,"class","field"),S(He,"class","field-body"),S(Le,"class","field is-horizontal"),S(Ue,"class","field-label is-normal"),Ge.__value="boolean",Ge.value=Ge.__value,Re.__value="int",Re.value=Re.__value,Be.__value="float",Be.value=Be.__value,Fe.__value="string",Fe.value=Fe.__value,S(ze,"name","act[action_type]"),void 0===e[0].attributes.actionType&&ie(()=>e[19].call(ze)),S(qe,"class","select"),S(Ee,"class","field"),S(De,"class","field-body"),S(Ie,"class","field is-horizontal"),S(Ve,"class","field-label is-normal"),et.__value="false",et.value=et.__value,tt.__value="true",tt.value=tt.__value,S(Qe,"name","act[team_required]"),void 0===e[0].attributes.team_required&&ie(()=>e[20].call(Qe)),S(Ke,"class","select"),S(Ze,"class","field"),S(We,"class","field-body"),S(Je,"class","field is-horizontal"),S(it,"class","field-label is-normal"),S(ut,"class","input is-small new-tag svelte-ezjc2o"),S(ut,"type","text"),S(ut,"placeholder","New tag"),S(mt,"class","button is-primary is-outlined is-small"),S(rt,"class","field is-grouped is-grouped-multiline has-vcentered-content"),S(ot,"class","field"),S(lt,"class","field-body"),S(st,"class","field is-horizontal"),S(ft,"class","title is-5 byproduct-title"),S(gt,"class","content"),S(_t,"class","column is-narrow"),S(Ct,"class","button is-primary"),S(Tt,"class","buttons"),S(xt,"class","column"),S($t,"class","columns is-vcentered mt-3"),S(me,"id",Lt=(e[0].id||"new")+"-action-form"),D(de,"is-hidden",!e[4]&&e[0].id),S(t,"class","item-box")},m(d,x){k(d,t,x),_(t,n),_(n,s),_(s,i),_(i,a),_(a,l),_(l,o),_(a,r),_(a,c),_(c,u),_(a,m),_(a,p),_(p,f),_(n,v),Ot&&Ot.m(n,null),_(n,g),_(n,h),_(h,b),_(b,y),_(y,w),_(y,$),_(y,T),_(T,N),_(b,O),_(b,E),_(E,q),_(E,z),_(E,G),_(G,R),_(b,B),_(b,F),_(F,Y),_(F,J),_(F,V),qt.m(V,null),_(b,X),_(b,W),_(n,Z),_(n,K),_(K,Q),_(Q,ee),_(K,te),_(K,ne),_(ne,se),_(K,ae),_(K,le),_(le,oe),_(K,re),_(n,ce),zt&&zt.m(n,null),_(t,ue),_(t,de),_(de,me),_(me,pe),_(pe,be),_(pe,ye),_(pe,we),_(pe,$e),_(pe,ke),Gt&&Gt.m(ke,null),_(me,Te),_(me,Ce),_(me,je),_(me,Le),_(Le,Me),_(Le,Ne),_(Le,He),_(He,Pe),_(Pe,Se),I(Se,e[0].attributes.name),_(me,Ae),_(me,Ie),_(Ie,Ue),_(Ie,Oe),_(Ie,De),_(De,Ee),_(Ee,qe),_(qe,ze),_(ze,Ge),_(ze,Re),_(ze,Be),_(ze,Fe),U(ze,e[0].attributes.actionType),_(me,Ye),_(me,Je),_(Je,Ve),_(Je,Xe),_(Je,We),_(We,Ze),_(Ze,Ke),_(Ke,Qe),_(Qe,et),_(Qe,tt),U(Qe,e[0].attributes.team_required),_(me,nt),_(me,st),_(st,it),_(st,at),_(st,lt),_(lt,ot),_(ot,rt);for(let e=0;e<It.length;e+=1)It[e].m(rt,null);_(rt,ct),_(rt,ut),_(rt,dt),_(rt,mt),_(me,pt),_(me,ft),_(me,vt),_(me,gt),_(me,ht),Yt[bt].m(me,null),_(me,wt),_(me,$t),_($t,_t),_($t,kt),_($t,xt),_(xt,Tt),_(Tt,Ct),Wt.m(Ct,null),_(Tt,jt),Zt&&Zt.m(Tt,null),Mt=!0,Nt||(Ht=[H(p,"click",e[12]),H(Q,"click",e[15]),H(ne,"click",e[16]),H(be,"click",P(e[17])),H(Se,"input",e[18]),H(ze,"change",e[19]),H(Qe,"change",e[20]),H(mt,"click",P(e[11])),H(me,"submit",P(e[7]))],Nt=!0)},p(e,t){if((!Mt||1&t[0])&&Pt!==(Pt=e[0].attributes.name+"")&&A(u,Pt),16&t[0]&&D(c,"is-hidden",e[4]),16&t[0]&&D(p,"is-hidden",e[4]),e[5]?Ot?32&t[0]&&ge(Ot,1):(Ot=ss(),Ot.c(),ge(Ot,1),Ot.m(n,g)):Ot&&(fe(),he(Ot,1,1,()=>{Ot=null}),ve()),(!Mt||1&t[0])&&St!==(St=ys(e[0].attributes.actionType)+"")&&A(N,St),(!Mt||1&t[0])&&At!==(At=ws(e[0].attributes.team_required)+"")&&A(R,At),Et===(Et=Dt(e))&&qt?qt.p(e,t):(qt.d(1),qt=Et(e),qt&&(qt.c(),qt.m(V,null))),4&t[0]&&D(Q,"is-hidden",e[2].conditions),4&t[0]&&D(ne,"is-hidden",!e[2].conditions),e[2].conditions?zt?(zt.p(e,t),4&t[0]&&ge(zt,1)):(zt=os(e),zt.c(),ge(zt,1),zt.m(n,null)):zt&&(fe(),he(zt,1,1,()=>{zt=null}),ve()),17&t[0]&&D(n,"is-hidden",e[4]||!e[0].id),e[3]?Gt?Gt.p(e,t):(Gt=us(e),Gt.c(),Gt.m(ke,null)):Gt&&(Gt.d(1),Gt=null),8&t[0]&&D(pe,"is-hidden",!e[3]),1&t[0]&&Se.value!==e[0].attributes.name&&I(Se,e[0].attributes.name),1&t[0]&&U(ze,e[0].attributes.actionType),1&t[0]&&U(Qe,e[0].attributes.team_required),1025&t[0]){const n=e[0].attributes.tags;It=xe(It,t,Bt,1,e,n,Ut,rt,_e,ms,ct,es)}let s=bt;bt=Jt(e),bt===s?Yt[bt].p(e,t):(fe(),he(Yt[s],1,1,()=>{Yt[s]=null}),ve(),yt=Yt[bt],yt||(yt=Yt[bt]=Ft[bt](e),yt.c()),ge(yt,1),yt.m(me,wt)),Xt!==(Xt=Vt(e))&&(Wt.d(1),Wt=Xt(e),Wt&&(Wt.c(),Wt.m(Ct,null))),e[0].id?Zt?Zt.p(e,t):(Zt=hs(e),Zt.c(),Zt.m(Tt,null)):Zt&&(Zt.d(1),Zt=null),(!Mt||1&t[0]&&Lt!==(Lt=(e[0].id||"new")+"-action-form"))&&S(me,"id",Lt),17&t[0]&&D(de,"is-hidden",!e[4]&&e[0].id)},i(e){Mt||(ge(Ot),ge(zt),ge(yt),Mt=!0)},o(e){he(Ot),he(zt),he(yt),Mt=!1},d(e){e&&x(t),Ot&&Ot.d(),qt.d(),zt&&zt.d(),Gt&&Gt.d();for(let e=0;e<It.length;e+=1)It[e].d();Yt[bt].d(),Wt.d(),Zt&&Zt.d(),Nt=!1,d(Ht)}}}function ys(e){let t="Unknown";switch(e){case"boolean":t="Boolean (Pass | Fail)";break;case"int":t="Integer";break;case"float":t="Float";break;case"string":t="String"}return t}function ws(e){let t="Unknown";switch(e){case!1:t="No, optional";break;case!0:t="Yes, required"}return t}function $s(e,n,a){let l;v(e,Ve,e=>a(23,l=e));let o,{action:r={attributes:{name:"",actionType:"boolean",tags:[]}}}=n,c={conditions:!1};const u=V(),d=W("apiProtocol"),m=W("apiHost"),p=W("userId");let f,g=null,h=!1,b=!1;function y(e){a(0,r={...r,attributes:{...r.attributes,tags:r.attributes.tags.filter(t=>t!==e)}})}function w(){a(4,h=!1)}function $(e,t){a(2,c[e]=t,c)}function _(){a(3,g=null)}J(()=>{clearTimeout(f)});return e.$set=e=>{"action"in e&&a(0,r=e.action)},e.$$.update=()=>{8388609&e.$$.dirty[0]&&a(1,o=r.relationships&&r.relationships.relation.data&&l.included.find(e=>e.id===r.relationships.relation.data.id&&e.type===r.relationships.relation.data.type))},[r,o,c,g,h,b,function(e){a(1,o=e.detail.relation)},async function(){let e,n;Xe.set("saving"),r.id?(e=["users",p,"games",l.data.id,"actions",r.id],n="PUT"):(e=["users",p,"games",l.data.id,"actions"],n="POST");const s=t(d,m,...e),o=new FormData(document.getElementById((r.id||"new")+"-action-form")),c=await i(s,o,n);if(c.ok){Xe.set("saved"),a(3,g=null),w(),a(5,b=!0),f=setTimeout(()=>{a(5,b=!1)},1e3);const e=await c.json();u("updateCollection",{action:e.data,included:e.included,deprecatedIncludedIds:e.included.map(e=>`${e.type}#${e.id}`).concat(["action#"+e.data.id])})}else{const e=await c.text();a(3,g=JSON.parse(e)),Xe.set("failed")}},async function(){Xe.set("saving");const e=["users",p,"games",l.data.id,"actions",r.id],n=t(d,m,...e),s=await i(n,{},"DELETE");if(204!==s.status){const e=await s.text();a(3,g=JSON.parse(e)),Xe.set("failed")}else Xe.set("saved"),u("removeCollectionMember",{action:{id:r.id}})},async function(){let e;e=["users",p,"games",l.data.id,"actions",r.id];const n=t(d,m,...e),i=await s(n);if(i.ok){const e=await i.json();u("updateCollection",{action:e.data,included:[],deprecatedIncludedIds:["action#"+e.data.id]})}w()},y,function(e){const t=e.target.parentElement.querySelector("input.new-tag").value;t.length&&!r.attributes.tags.includes(t)&&a(0,r={...r,attributes:{...r.attributes,tags:[...r.attributes.tags,t]}})},function(){a(4,h=!h)},$,_,()=>$("conditions",!0),()=>$("conditions",!1),()=>_(),function(){r.attributes.name=this.value,a(0,r)},function(){r.attributes.actionType=O(this),a(0,r)},function(){r.attributes.team_required=O(this),a(0,r)},e=>y(e)]}class _s extends Ne{constructor(e){super(),Me(this,e,$s,bs,p,{action:0},[-1,-1])}}function ks(e,t,n){const s=e.slice();return s[29]=t[n][0],s[30]=t[n][1],s}function xs(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,P,I,U,O,E,q,z,G,R,B,F,Y,J,V,X,W,Z,K,Q,ee,te,ne,se,ie,ae,le,oe,re,ce,ue,de,me,pe,be=e[0].attributes.name+"",ye=e[4]&&Ts(),we=e[1]&&Cs(e),$e=e[2].conditions&&js(e),_e=e[0].attributes.assets.length&&Ns(e),ke=e[2].assets&&Hs(e);return{c(){t=C("div"),n=C("div"),s=C("h1"),i=j("svg"),a=j("use"),l=M(),o=C("span"),r=L(be),c=M(),u=j("svg"),m=j("use"),p=M(),ye&&ye.c(),f=M(),v=C("h1"),g=j("svg"),h=j("use"),b=M(),y=j("svg"),w=j("use"),$=M(),T=j("svg"),P=j("use"),I=L("\n      Conditions\n      "),we&&we.c(),U=M(),$e&&$e.c(),O=M(),E=C("h1"),q=j("svg"),z=j("use"),G=M(),R=j("svg"),B=j("use"),F=M(),Y=j("svg"),J=j("use"),V=L("\n      Rewards "),X=C("span"),X.textContent="(optional)",W=M(),Z=C("div"),Z.innerHTML="<p>TODO</p>",K=M(),Q=C("h1"),ee=j("svg"),te=j("use"),ne=M(),se=j("svg"),ie=j("use"),ae=M(),le=j("svg"),oe=j("use"),re=L("\n      Assets\n      "),_e&&_e.c(),ce=M(),ke&&ke.c(),ue=N(),S(a,"href","../images/twemoji-sprite.svg#trophy"),S(i,"class","twemoji"),D(o,"is-hidden",e[3]),S(m,"href","../images/fontawesome-sprite.svg#regular-edit"),S(u,"class","fa item-edit fill-primary no-hover"),D(u,"is-hidden",e[3]),S(s,"class","title is-4 has-vcentered-text item-name"),S(n,"class","column"),S(t,"class","columns is-mobile"),S(h,"href","../images/fontawesome-sprite.svg#solid-chevron-double-right"),S(g,"class","chevron"),D(g,"is-hidden",e[2].conditions),S(w,"href","../images/fontawesome-sprite.svg#solid-chevron-double-down"),S(y,"class","chevron"),D(y,"is-hidden",!e[2].conditions),S(P,"href","../images/twemoji-sprite.svg#twisted_rightwards_arrows"),S(T,"class","twemoji"),S(v,"class","title is-5 byproduct-title"),D(v,"is-disabled",!e[1]),S(z,"href","../images/fontawesome-sprite.svg#solid-chevron-double-right"),S(q,"class","chevron"),D(q,"is-hidden",e[2].rewards),S(B,"href","../images/fontawesome-sprite.svg#solid-chevron-double-down"),S(R,"class","chevron"),D(R,"is-hidden",!e[2].rewards),S(J,"href","../images/twemoji-sprite.svg#wrapped_present"),S(Y,"class","twemoji"),S(X,"class","note"),S(E,"class","title is-5 byproduct-title"),D(Z,"is-hidden",!e[2].rewards),S(te,"href","../images/fontawesome-sprite.svg#solid-chevron-double-right"),S(ee,"class","chevron"),D(ee,"is-hidden",e[2].assets),S(ie,"href","../images/fontawesome-sprite.svg#solid-chevron-double-down"),S(se,"class","chevron"),D(se,"is-hidden",!e[2].assets),S(oe,"href","../images/twemoji-sprite.svg#package"),S(le,"class","twemoji"),S(Q,"class","title is-5 byproduct-title"),D(Q,"is-disabled",!e[0].attributes.assets.length)},m(d,x){k(d,t,x),_(t,n),_(n,s),_(s,i),_(i,a),_(s,l),_(s,o),_(o,r),_(s,c),_(s,u),_(u,m),k(d,p,x),ye&&ye.m(d,x),k(d,f,x),k(d,v,x),_(v,g),_(g,h),_(v,b),_(v,y),_(y,w),_(v,$),_(v,T),_(T,P),_(v,I),we&&we.m(v,null),k(d,U,x),$e&&$e.m(d,x),k(d,O,x),k(d,E,x),_(E,q),_(q,z),_(E,G),_(E,R),_(R,B),_(E,F),_(E,Y),_(Y,J),_(E,V),_(E,X),k(d,W,x),k(d,Z,x),k(d,K,x),k(d,Q,x),_(Q,ee),_(ee,te),_(Q,ne),_(Q,se),_(se,ie),_(Q,ae),_(Q,le),_(le,oe),_(Q,re),_e&&_e.m(Q,null),k(d,ce,x),ke&&ke.m(d,x),k(d,ue,x),de=!0,me||(pe=[H(u,"click",e[10]),H(g,"click",e[13]),H(y,"click",e[14]),H(q,"click",e[15]),H(R,"click",e[16]),H(ee,"click",e[17]),H(se,"click",e[18])],me=!0)},p(e,t){(!de||1&t[0])&&be!==(be=e[0].attributes.name+"")&&A(r,be),8&t[0]&&D(o,"is-hidden",e[3]),8&t[0]&&D(u,"is-hidden",e[3]),e[4]?ye?16&t[0]&&ge(ye,1):(ye=Ts(),ye.c(),ge(ye,1),ye.m(f.parentNode,f)):ye&&(fe(),he(ye,1,1,()=>{ye=null}),ve()),4&t[0]&&D(g,"is-hidden",e[2].conditions),4&t[0]&&D(y,"is-hidden",!e[2].conditions),e[1]?we?we.p(e,t):(we=Cs(e),we.c(),we.m(v,null)):we&&(we.d(1),we=null),2&t[0]&&D(v,"is-disabled",!e[1]),e[2].conditions?$e?($e.p(e,t),4&t[0]&&ge($e,1)):($e=js(e),$e.c(),ge($e,1),$e.m(O.parentNode,O)):$e&&(fe(),he($e,1,1,()=>{$e=null}),ve()),4&t[0]&&D(q,"is-hidden",e[2].rewards),4&t[0]&&D(R,"is-hidden",!e[2].rewards),4&t[0]&&D(Z,"is-hidden",!e[2].rewards),4&t[0]&&D(ee,"is-hidden",e[2].assets),4&t[0]&&D(se,"is-hidden",!e[2].assets),e[0].attributes.assets.length?_e?_e.p(e,t):(_e=Ns(e),_e.c(),_e.m(Q,null)):_e&&(_e.d(1),_e=null),1&t[0]&&D(Q,"is-disabled",!e[0].attributes.assets.length),e[2].assets?ke?(ke.p(e,t),4&t[0]&&ge(ke,1)):(ke=Hs(e),ke.c(),ge(ke,1),ke.m(ue.parentNode,ue)):ke&&(fe(),he(ke,1,1,()=>{ke=null}),ve())},i(e){de||(ge(ye),ge($e),ge(ke),de=!0)},o(e){he(ye),he($e),he(ke),de=!1},d(e){e&&x(t),e&&x(p),ye&&ye.d(e),e&&x(f),e&&x(v),we&&we.d(),e&&x(U),$e&&$e.d(e),e&&x(O),e&&x(E),e&&x(W),e&&x(Z),e&&x(K),e&&x(Q),_e&&_e.d(),e&&x(ce),ke&&ke.d(e),e&&x(ue),me=!1,d(pe)}}}function Ts(e){let t,n,s;return{c(){t=C("div"),t.innerHTML='<div class="column is-12 saved-collection"><svg class="fa saved"><use href="../images/fontawesome-sprite.svg#solid-check-circle"></use></svg>\n          Updated !\n        </div>',S(t,"class","columns")},m(e,n){k(e,t,n),s=!0},i(e){s||(n&&n.end(1),s=!0)},o(e){n=ye(t,Fe,{delay:2e3,duration:200}),s=!1},d(e){e&&x(t),e&&n&&n.end()}}}function Cs(e){let t,n,s,i,a=e[1].relationships.conditions.data.length+"";return{c(){t=C("span"),n=L("("),s=L(a),i=L(")"),S(t,"class","quantity")},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){2&t[0]&&a!==(a=e[1].relationships.conditions.data.length+"")&&A(s,a)},d(e){e&&x(t)}}}function js(e){let t,n,s,i;const a=[Ms,Ls],l=[];function o(e,t){return null!==e[1]?0:1}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),s=N()},m(e,n){l[t].m(e,n),k(e,s,n),i=!0},p(e,i){let r=t;t=o(e),t===r?l[t].p(e,i):(fe(),he(l[r],1,1,()=>{l[r]=null}),ve(),n=l[t],n||(n=l[t]=a[t](e),n.c()),ge(n,1),n.m(s.parentNode,s))},i(e){i||(ge(n),i=!0)},o(e){he(n),i=!1},d(e){l[t].d(e),e&&x(s)}}}function Ls(e){let t;return{c(){t=C("p"),t.textContent="No conditions yet",S(t,"class","no-conditions")},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function Ms(e){let t,n;return t=new Qn({props:{relation:e[1],formPrefix:void 0}}),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};2&n[0]&&(s.relation=e[1]),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ns(e){let t,n,s,i,a=e[0].attributes.assets.length+"";return{c(){t=C("span"),n=L("("),s=L(a),i=L(")"),S(t,"class","quantity")},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){1&t[0]&&a!==(a=e[0].attributes.assets.length+"")&&A(s,a)},d(e){e&&x(t)}}}function Hs(e){let t,n,s,i;const a=[Ss,Ps],l=[];function o(e,t){return e[0].attributes.assets.length?0:1}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),s=N()},m(e,n){l[t].m(e,n),k(e,s,n),i=!0},p(e,i){let r=t;t=o(e),t===r?l[t].p(e,i):(fe(),he(l[r],1,1,()=>{l[r]=null}),ve(),n=l[t],n||(n=l[t]=a[t](e),n.c()),ge(n,1),n.m(s.parentNode,s))},i(e){i||(ge(n),i=!0)},o(e){he(n),i=!1},d(e){l[t].d(e),e&&x(s)}}}function Ps(e){let t;return{c(){t=C("p"),t.textContent="No assets yet",S(t,"class","no-conditions")},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function Ss(e){let t,n;return t=new ft({props:{assets:e[0].attributes.assets}}),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};1&n[0]&&(s.assets=e[0].attributes.assets),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function As(e){let t,n,s,i,a,l,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,j,L,N,A,U,O,E,q,z,G,R,B,F,Y,J,V,X,W,Z,K,Q,ee,te,ne,se=e[5]&&Is(e);const ie=[Ds,Os],ae=[];function le(e,t){return e[0].id&&null!==e[1]?0:1}function oe(e,t){return e[0].id?Es:qs}j=le(e),L=ae[j]=ie[j](e),B=new Ct({props:{assets:e[0].attributes.assets,formPrefix:"achievement"}});let re=oe(e),ce=re(e),ue=e[0].id&&zs(e);return{c(){t=C("form"),n=C("div"),s=C("button"),i=M(),a=C("h1"),a.textContent="Unable to Update Achievement :",l=M(),o=C("ul"),se&&se.c(),r=M(),c=C("h1"),c.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#card_file_box"></use></svg>\n        Properties\n      ',u=M(),m=C("div"),p=C("div"),p.innerHTML='<label class="label">Name :</label>',f=M(),v=C("div"),g=C("div"),h=C("input"),b=M(),y=C("h1"),y.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#twisted_rightwards_arrows"></use></svg>\n        Conditions\n      ',w=M(),$=C("div"),$.innerHTML='<ul class="help"><li>\n            An Achievement can only be unlocked once <em>per Player</em>.\n          </li> \n          <li>\n            Set below the conditions Players need to meet to unlock the Achievement.\n          </li> \n          <li>\n            Depending on what you configure below, not ALL the conditions have to be met\n            for the Achievement to be granted.<br>\n            At least one condition has to be met and maximum all the conditions.\n          </li> \n          <li>\n            Make sure you have at least one condition of &quot;Action trigger&quot; type otherwise the\n            Achievement will never be hooked!\n          </li></ul>',T=M(),L.c(),N=M(),A=C("h1"),A.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg>\n        Rewards <span class="note">(optional)</span>',U=M(),O=C("div"),O.innerHTML="<p>TODO</p>",E=M(),q=C("h1"),q.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#package"></use></svg>\n        Assets\n        <span class="note">(optional)</span>',z=M(),G=C("div"),G.innerHTML='<ul class="help"><li>\n            Assets are key-value entries you can associate with an Achievement.\n          </li> \n          <li>\n            Everytime an Achievement will be involved, its associated assets will be returned as well.\n          </li> \n          <li>\n            You can have multiple assets per Achievement, carrying any information you want.\n          </li> \n          <li>\n            See assets\n            <a href="https://doc/place2be.io/assets" target="_blank"><span>Doc</span> \n              <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a>\n            for common use cases and examples.\n          </li></ul>',R=M(),Te(B.$$.fragment),F=M(),Y=C("div"),J=C("div"),J.innerHTML='<p class="help">\n            Need help? See \n            <a href="https://doc/place2be.io/achievements" target="_blank"><span>Doc</span> \n              <svg class="fa fill-primary no-hover"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',V=M(),X=C("div"),W=C("div"),Z=C("button"),ce.c(),K=M(),ue&&ue.c(),S(s,"class","delete"),S(a,"class","title is-5"),S(n,"class","notification is-danger"),D(n,"is-hidden",!e[5]),S(c,"class","title is-5 byproduct-title"),S(p,"class","field-label is-normal"),S(h,"class","input reasonable-width"),S(h,"type","text"),S(h,"name","achievement[name]"),S(h,"placeholder","Achievement name"),S(g,"class","field"),S(v,"class","field-body"),S(m,"class","field is-horizontal"),S(y,"class","title is-5 byproduct-title"),S($,"class","content"),S(A,"class","title is-5 byproduct-title"),S(q,"class","title is-5 byproduct-title"),S(G,"class","content"),S(J,"class","column is-narrow"),S(Z,"class","button is-primary"),S(W,"class","buttons"),S(X,"class","column"),S(Y,"class","columns is-vcentered"),S(t,"id",Q=(e[0].id||"new")+"-achievement-form")},m(d,x){k(d,t,x),_(t,n),_(n,s),_(n,i),_(n,a),_(n,l),_(n,o),se&&se.m(o,null),_(t,r),_(t,c),_(t,u),_(t,m),_(m,p),_(m,f),_(m,v),_(v,g),_(g,h),I(h,e[0].attributes.name),_(t,b),_(t,y),_(t,w),_(t,$),_(t,T),ae[j].m(t,null),_(t,N),_(t,A),_(t,U),_(t,O),_(t,E),_(t,q),_(t,z),_(t,G),_(t,R),Ce(B,t,null),_(t,F),_(t,Y),_(Y,J),_(Y,V),_(Y,X),_(X,W),_(W,Z),ce.m(Z,null),_(W,K),ue&&ue.m(W,null),ee=!0,te||(ne=[H(s,"click",P(e[19])),H(h,"input",e[20]),H(t,"submit",P(e[7]))],te=!0)},p(e,s){e[5]?se?se.p(e,s):(se=Is(e),se.c(),se.m(o,null)):se&&(se.d(1),se=null),32&s[0]&&D(n,"is-hidden",!e[5]),1&s[0]&&h.value!==e[0].attributes.name&&I(h,e[0].attributes.name);let i=j;j=le(e),j===i?ae[j].p(e,s):(fe(),he(ae[i],1,1,()=>{ae[i]=null}),ve(),L=ae[j],L||(L=ae[j]=ie[j](e),L.c()),ge(L,1),L.m(t,N));const a={};1&s[0]&&(a.assets=e[0].attributes.assets),B.$set(a),re!==(re=oe(e))&&(ce.d(1),ce=re(e),ce&&(ce.c(),ce.m(Z,null))),e[0].id?ue?ue.p(e,s):(ue=zs(e),ue.c(),ue.m(W,null)):ue&&(ue.d(1),ue=null),(!ee||1&s[0]&&Q!==(Q=(e[0].id||"new")+"-achievement-form"))&&S(t,"id",Q)},i(e){ee||(ge(L),ge(B.$$.fragment,e),ee=!0)},o(e){he(L),he(B.$$.fragment,e),ee=!1},d(e){e&&x(t),se&&se.d(),ae[j].d(),je(B),ce.d(),ue&&ue.d(),te=!1,d(ne)}}}function Is(e){let t,n=Object.entries(e[5]),s=[];for(let t=0;t<n.length;t+=1)s[t]=Us(ks(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(32&i[0]){let a;for(n=Object.entries(e[5]),a=0;a<n.length;a+=1){const l=ks(e,n,a);s[a]?s[a].p(l,i):(s[a]=Us(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function Us(e){let t,n,s,i,a=e[29]+"",l=e[30]+"";return{c(){t=C("li"),n=L(a),s=L(" : "),i=L(l)},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){32&t[0]&&a!==(a=e[29]+"")&&A(n,a),32&t[0]&&l!==(l=e[30]+"")&&A(i,l)},d(e){e&&x(t)}}}function Os(e){let t,n;return t=new Qn({props:{formPrefix:"achievement[relation_attributes]"}}),t.$on("message",e[6]),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p:l,i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ds(e){let t,n;return t=new Qn({props:{relation:e[1],formPrefix:"achievement[relation_attributes]"}}),t.$on("message",e[6]),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};2&n[0]&&(s.relation=e[1]),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Es(e){let t;return{c(){t=L("Update")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function qs(e){let t;return{c(){t=L("Create")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function zs(e){let t,n,s,i,a;return{c(){t=C("button"),t.textContent="Cancel",n=M(),s=C("button"),s.textContent="Delete",S(t,"class","button is-primary is-light"),S(s,"class","button is-danger svelte-6q2oto")},m(l,o){k(l,t,o),k(l,n,o),k(l,s,o),i||(a=[H(t,"click",P(e[9])),H(s,"click",P(e[8]))],i=!0)},p:l,d(e){e&&x(t),e&&x(n),e&&x(s),i=!1,d(a)}}}function Gs(e){let t,n,s,i=!e[3]&&e[0].id&&xs(e),a=(e[3]||!e[0].id)&&As(e);return{c(){t=C("div"),i&&i.c(),n=M(),a&&a.c(),S(t,"class","item-box")},m(e,l){k(e,t,l),i&&i.m(t,null),_(t,n),a&&a.m(t,null),s=!0},p(e,s){!e[3]&&e[0].id?i?(i.p(e,s),9&s[0]&&ge(i,1)):(i=xs(e),i.c(),ge(i,1),i.m(t,n)):i&&(fe(),he(i,1,1,()=>{i=null}),ve()),e[3]||!e[0].id?a?(a.p(e,s),9&s[0]&&ge(a,1)):(a=As(e),a.c(),ge(a,1),a.m(t,null)):a&&(fe(),he(a,1,1,()=>{a=null}),ve())},i(e){s||(ge(i),ge(a),s=!0)},o(e){he(i),he(a),s=!1},d(e){e&&x(t),i&&i.d(),a&&a.d()}}}function Rs(e,n,a){let l;v(e,Ve,e=>a(22,l=e));let o,r,{achievement:c={attributes:{assets:[{key:"",tuples:[{namespaces:l.data.attributes.namespaces,value:""}]}]}}}=n,u={conditions:!1,rewards:!1,assets:!1},d=!1,m=!1,p=null;const f=V(),g=W("apiProtocol"),h=W("apiHost"),b=W("userId");function y(){a(3,d=!1)}function w(e,t){a(2,u[e]=t,u)}function $(){a(5,p=null)}J(()=>{clearTimeout(r)});return e.$set=e=>{"achievement"in e&&a(0,c=e.achievement)},e.$$.update=()=>{4194305&e.$$.dirty[0]&&a(1,o=c.relationships&&c.relationships.relation.data&&l.included.find(e=>e.id===c.relationships.relation.data.id&&e.type===c.relationships.relation.data.type))},[c,o,u,d,m,p,function(e){a(1,o=e.detail.relation)},async function(){let e,n;Xe.set("saving"),c.id?(e=["users",b,"games",l.data.id,"achievements",c.id],n="PUT"):(e=["users",b,"games",l.data.id,"achievements"],n="POST");const s=t(g,h,...e),o=new FormData(document.getElementById((c.id||"new")+"-achievement-form")),u=await i(s,o,n);if(u.ok){Xe.set("saved"),y(),a(4,m=!0),r=setTimeout(()=>{a(4,m=!1)},1e3);const e=await u.json();f("updateCollection",{achievement:e.data,included:e.included,deprecatedIncludedIds:e.included.map(e=>`${e.type}#${e.id}`).concat(["achievement#"+e.data.id])})}else{const e=await u.text();a(5,p=JSON.parse(e)),Xe.set("failed")}},async function(){Xe.set("saving");const e=["users",b,"games",l.data.id,"achievements",c.id],n=t(g,h,...e),s=await i(n,{},"DELETE");if(204!==s.status){const e=await s.text();a(5,p=JSON.parse(e)),Xe.set("failed")}else Xe.set("saved"),a(5,p=null),f("removeCollectionMember",{achievement:{id:c.id}})},async function(){let e;e=["users",b,"games",l.data.id,"achievements",c.id];const n=t(g,h,...e),i=await s(n);if(i.ok){const e=await i.json();f("updateCollection",{achievement:e.data,included:[],deprecatedIncludedIds:["achievement#"+e.data.id]})}y()},function(){a(3,d=!d)},w,$,()=>w("conditions",!0),()=>w("conditions",!1),()=>w("rewards",!0),()=>w("rewards",!1),()=>w("assets",!0),()=>w("assets",!1),()=>$(),function(){c.attributes.name=this.value,a(0,c)}]}class Bs extends Ne{constructor(e){super(),Me(this,e,Rs,Gs,p,{achievement:0},[-1,-1])}}function Fs(e,t,n){const s=e.slice();return s[5]=t[n],s}function Ys(e){let t,n,s,i,a=e[0].model.plural+"";return{c(){t=C("p"),n=L("You don't have "),s=L(a),i=L(" yet! Start by creating one below ↓")},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){1&t&&a!==(a=e[0].model.plural+"")&&A(s,a)},i:l,o:l,d(e){e&&x(t)}}}function Js(e){let t,n,s=[],i=new Map,a=e[1];const l=e=>e[5].id;for(let t=0;t<a.length;t+=1){let n=Fs(e,a,t),o=l(n);i.set(o,s[t]=Vs(o,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,i){for(let t=0;t<s.length;t+=1)s[t].m(e,i);k(e,t,i),n=!0},p(e,n){if(31&n){const a=e[1];fe(),s=xe(s,n,l,1,e,a,i,t.parentNode,ke,Vs,t,Fs),ve()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)ge(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)he(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&x(t)}}}function Vs(e,t){let n,s,i,a;const l=[{[t[0].name.singular]:t[5]}];var o=t[2][t[0].name.plural];function c(e){let t={};for(let e=0;e<l.length;e+=1)t=r(t,l[e]);return{props:t}}return o&&(s=new o(c()),s.$on("updateCollection",t[3]),s.$on("removeCollectionMember",t[4])),{key:e,first:null,c(){n=N(),s&&Te(s.$$.fragment),i=N(),this.first=n},m(e,t){k(e,n,t),s&&Ce(s,e,t),k(e,i,t),a=!0},p(e,t){const n=3&t?function(e,t){const n={},s={},i={$$scope:1};let a=e.length;for(;a--;){const l=e[a],o=t[a];if(o){for(const e in l)e in o||(s[e]=1);for(const e in o)i[e]||(n[e]=o[e],i[e]=1);e[a]=o}else for(const e in l)i[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}(l,[{[e[0].name.singular]:e[5]}]):{};if(o!==(o=e[2][e[0].name.plural])){if(s){fe();const e=s;he(e.$$.fragment,1,0,()=>{je(e,1)}),ve()}o?(s=new o(c()),s.$on("updateCollection",e[3]),s.$on("removeCollectionMember",e[4]),Te(s.$$.fragment),ge(s.$$.fragment,1),Ce(s,i.parentNode,i)):s=null}else o&&s.$set(n)},i(e){a||(s&&ge(s.$$.fragment,e),a=!0)},o(e){s&&he(s.$$.fragment,e),a=!1},d(e){e&&x(n),e&&x(i),s&&je(s,e)}}}function Xs(e){let t,n,s,i,a,l,o,r,c,u,d,m,p,f=e[0].model.singular+"";const v=[Js,Ys],g=[];function h(e,t){return e[1].length?0:1}t=h(e),n=g[t]=v[t](e);var b=e[2][e[0].name.plural];return b&&(d=new b({}),d.$on("updateCollection",e[3]),d.$on("removeCollectionMember",e[4])),{c(){n.c(),s=M(),i=C("hr"),a=M(),l=C("h1"),o=L("Create new "),r=L(f),c=L(" :"),u=M(),d&&Te(d.$$.fragment),m=N(),S(l,"class","title is-4")},m(e,n){g[t].m(e,n),k(e,s,n),k(e,i,n),k(e,a,n),k(e,l,n),_(l,o),_(l,r),_(l,c),k(e,u,n),d&&Ce(d,e,n),k(e,m,n),p=!0},p(e,[i]){let a=t;if(t=h(e),t===a?g[t].p(e,i):(fe(),he(g[a],1,1,()=>{g[a]=null}),ve(),n=g[t],n||(n=g[t]=v[t](e),n.c()),ge(n,1),n.m(s.parentNode,s)),(!p||1&i)&&f!==(f=e[0].model.singular+"")&&A(r,f),b!==(b=e[2][e[0].name.plural])){if(d){fe();const e=d;he(e.$$.fragment,1,0,()=>{je(e,1)}),ve()}b?(d=new b({}),d.$on("updateCollection",e[3]),d.$on("removeCollectionMember",e[4]),Te(d.$$.fragment),ge(d.$$.fragment,1),Ce(d,m.parentNode,m)):d=null}},i(e){p||(ge(n),d&&ge(d.$$.fragment,e),p=!0)},o(e){he(n),d&&he(d.$$.fragment,e),p=!1},d(e){g[t].d(e),e&&x(s),e&&x(i),e&&x(a),e&&x(l),e&&x(u),e&&x(m),d&&je(d,e)}}}function Ws(e,t,n){let{attributes:s}=t,{collection:i}=t;const a={actions:_s,achievements:Bs,resources:zt};return e.$set=e=>{"attributes"in e&&n(0,s=e.attributes),"collection"in e&&n(1,i=e.collection)},[s,i,a,function(e){Ve.update(t=>({...t,included:[...t.included.filter(t=>!e.detail.deprecatedIncludedIds.includes(`${t.type}#${t.id}`)),e.detail[s.name.singular],...e.detail.included]}))},function(e){Ve.update(t=>({...t,included:[...t.included.filter(t=>!(t.type===s.name.singular&&t.id===e.detail[s.name.singular].id))]}))}]}class Zs extends Ne{constructor(e){super(),Me(this,e,Ws,Xs,p,{attributes:0,collection:1})}}function Ks(e){let t;return{c(){t=C("p"),t.textContent="Stats Tab!"},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}class Qs extends Ne{constructor(e){super(),Me(this,e,null,Ks,p,{})}}function ei(e){let t;return{c(){t=C("p"),t.textContent="Dev Tab!"},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}class ti extends Ne{constructor(e){super(),Me(this,e,null,ei,p,{})}}function ni(e,t,n){const s=e.slice();return s[14]=t[n],s[16]=n,s}function si(e,t,n){const s=e.slice();return s[17]=t[n][0],s[18]=t[n][1],s}function ii(e){let t,n=Object.entries(e[0]),s=[];for(let t=0;t<n.length;t+=1)s[t]=ai(si(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=N()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);k(e,t,n)},p(e,i){if(1&i){let a;for(n=Object.entries(e[0]),a=0;a<n.length;a+=1){const l=si(e,n,a);s[a]?s[a].p(l,i):(s[a]=ai(l),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){T(s,e),e&&x(t)}}}function ai(e){let t,n,s,i,a=e[17]+"",l=e[18]+"";return{c(){t=C("li"),n=L(a),s=L(" : "),i=L(l)},m(e,a){k(e,t,a),_(t,n),_(t,s),_(t,i)},p(e,t){1&t&&a!==(a=e[17]+"")&&A(n,a),1&t&&l!==(l=e[18]+"")&&A(i,l)},d(e){e&&x(t)}}}function li(e){let t,n,s;return{c(){t=C("span"),S(t,"class","tag is-delete svelte-1lhevj4")},m(i,a){k(i,t,a),n||(s=H(t,"click",(function(){m(e[6](e[14]))&&e[6](e[14]).apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&x(t),n=!1,s()}}}function oi(e,t){let n,s,i,a,l,o,r,c,u=t[14]+"",d="default"!==t[14]&&li(t);return{key:e,first:null,c(){n=C("div"),s=C("input"),a=M(),l=C("div"),o=C("span"),r=L(u),c=M(),d&&d.c(),S(s,"name","game[namespaces][]"),S(s,"class","input"),S(s,"type","hidden"),s.value=i=t[14],S(o,"class","tag is-info"),S(l,"class","tags has-addons"),S(n,"class","control svelte-1lhevj4"),this.first=n},m(e,t){k(e,n,t),_(n,s),_(n,a),_(n,l),_(l,o),_(o,r),_(l,c),d&&d.m(l,null)},p(e,t){2&t&&i!==(i=e[14])&&(s.value=i),2&t&&u!==(u=e[14]+"")&&A(r,u),"default"!==e[14]?d?d.p(e,t):(d=li(e),d.c(),d.m(l,null)):d&&(d.d(1),d=null)},d(e){e&&x(n),d&&d.d()}}}function ri(e){let t,n,s,i,a,o,r,c,u,m,p,f,v,g,h,b,y,w,$,T,j,L,N,A,I,U,O,E,q,z,G,R,B,F,Y,J,V,X,W,Z,K,Q,ee,te,ne,se,ie,ae,le,oe,re,ce,ue,de,me,pe,fe=[],ve=new Map,ge=e[0]&&ii(e),he=e[1].data.attributes.namespaces;const be=e=>e[16];for(let t=0;t<he.length;t+=1){let n=ni(e,he,t),s=be(n);ve.set(s,fe[t]=oi(s,n))}return{c(){t=C("form"),n=C("div"),s=C("button"),i=M(),a=C("h1"),a.textContent="Unable to Update Game :",o=M(),r=C("ul"),ge&&ge.c(),c=M(),u=C("div"),m=C("label"),m.textContent="Game Name",p=M(),f=C("div"),v=C("input"),h=M(),b=C("div"),y=C("label"),y.textContent="Description",w=M(),$=C("div"),T=C("input"),L=M(),N=C("p"),N.textContent="Game and description won't be visible to your players.",A=M(),I=C("div"),U=C("label"),U.textContent="Namespaces",O=M(),E=C("div");for(let e=0;e<fe.length;e+=1)fe[e].c();q=M(),z=C("input"),G=M(),R=C("button"),R.textContent="Add",B=M(),F=C("button"),F.textContent="Update Settings",Y=M(),J=C("hr"),V=M(),X=C("h1"),X.textContent="Danger Zone :",W=M(),Z=C("form"),K=C("div"),Q=C("input"),te=M(),ne=C("button"),ne.textContent="Archive this Game",se=M(),ie=C("button"),ie.textContent="Reactivate this Game",ae=M(),le=C("p"),le.textContent="Once you archive a game, no player will be able to access it anymore. Please be certain!",oe=M(),re=C("div"),ce=C("button"),ce.textContent="Delete this Game",ue=M(),de=C("p"),de.textContent="Once you delete a game, there is no going back. Please be certain!",S(s,"class","delete"),S(a,"class","title is-5"),S(n,"class","notification is-danger"),D(n,"is-hidden",!e[0]),S(m,"class","label"),S(v,"name","game[name]"),S(v,"class","input reasonable-width"),S(v,"type","text"),v.value=g=e[1].data.attributes.name,S(f,"class","control svelte-1lhevj4"),S(u,"class","field"),S(y,"class","label"),S(T,"name","game[description]"),S(T,"class","input"),S(T,"type","text"),T.value=j=e[1].data.attributes.description,S($,"class","control svelte-1lhevj4"),S(N,"class","help"),S(b,"class","field"),S(U,"class","label"),S(z,"id","new-namespace"),S(z,"class","input is-small svelte-1lhevj4"),S(z,"type","text"),S(z,"placeholder","New"),S(R,"class","button is-primary is-outlined is-small"),S(E,"class","field is-grouped is-grouped-multiline has-vcentered-content"),S(I,"class","field"),S(F,"class","button is-link save svelte-1lhevj4"),S(t,"id","settings-form"),S(X,"class","title is-4"),S(Q,"name","game[archived]"),S(Q,"class","input"),S(Q,"type","hidden"),Q.value=ee=!e[1].data.attributes.archived,S(ne,"class","button is-danger is-outlined svelte-1lhevj4"),D(ne,"is-hidden",e[1].data.attributes.archived),S(ie,"class","button is-danger is-outlined svelte-1lhevj4"),D(ie,"is-hidden",!e[1].data.attributes.archived),S(le,"class","help"),S(K,"class","field"),S(Z,"id","danger-form"),S(ce,"class","button is-danger is-outlined svelte-1lhevj4"),S(de,"class","help"),S(re,"class","field")},m(l,d){k(l,t,d),_(t,n),_(n,s),_(n,i),_(n,a),_(n,o),_(n,r),ge&&ge.m(r,null),_(t,c),_(t,u),_(u,m),_(u,p),_(u,f),_(f,v),_(t,h),_(t,b),_(b,y),_(b,w),_(b,$),_($,T),_(b,L),_(b,N),_(t,A),_(t,I),_(I,U),_(I,O),_(I,E);for(let e=0;e<fe.length;e+=1)fe[e].m(E,null);_(E,q),_(E,z),_(E,G),_(E,R),_(t,B),_(t,F),k(l,Y,d),k(l,J,d),k(l,V,d),k(l,X,d),k(l,W,d),k(l,Z,d),_(Z,K),_(K,Q),_(K,te),_(K,ne),_(K,se),_(K,ie),_(K,ae),_(K,le),k(l,oe,d),k(l,re,d),_(re,ce),_(re,ue),_(re,de),me||(pe=[H(s,"click",P(e[8])),H(R,"click",P(e[5])),H(t,"submit",P(e[2])),H(Z,"submit",P(e[3])),H(ce,"click",P(e[4]))],me=!0)},p(e,[t]){if(e[0]?ge?ge.p(e,t):(ge=ii(e),ge.c(),ge.m(r,null)):ge&&(ge.d(1),ge=null),1&t&&D(n,"is-hidden",!e[0]),2&t&&g!==(g=e[1].data.attributes.name)&&v.value!==g&&(v.value=g),2&t&&j!==(j=e[1].data.attributes.description)&&T.value!==j&&(T.value=j),66&t){const n=e[1].data.attributes.namespaces;fe=xe(fe,t,be,1,e,n,ve,E,_e,oi,q,ni)}2&t&&ee!==(ee=!e[1].data.attributes.archived)&&(Q.value=ee),2&t&&D(ne,"is-hidden",e[1].data.attributes.archived),2&t&&D(ie,"is-hidden",!e[1].data.attributes.archived)},i:l,o:l,d(e){e&&x(t),ge&&ge.d();for(let e=0;e<fe.length;e+=1)fe[e].d();e&&x(Y),e&&x(J),e&&x(V),e&&x(X),e&&x(W),e&&x(Z),e&&x(oe),e&&x(re),me=!1,d(pe)}}}function ci(e,n,s){let a;v(e,Ve,e=>s(1,a=e));let l=null;const o=V(),r=W("apiProtocol"),c=W("apiHost"),u=W("userId");async function d(e,n){const a=t(r,c,...e),u=new FormData(document.getElementById(n));Xe.set("saving");const d=await i(a,u,"PUT");if(d.ok){Xe.set("saved");const e=await d.json();Ve.set(e),o("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await d.text();s(0,l=JSON.parse(e)),Xe.set("failed")}}function m(){s(0,l=null)}return[l,a,function(){d(["users",u,"games",a.data.id],"settings-form")},function(){confirm("Are you sure?")&&d(["users",u,"games",a.data.id],"danger-form")},async function(){if(!confirm("Are you sure?     Once you delete a game, there is no going back. Please be certain!"))return;const e=["users",u,"games",a.data.id],n=t(r,c,...e),d=await i(n,{},"DELETE");if(d.ok)o("message",{gameUrl:void 0,updateGameList:!0});else{const e=await d.text();s(0,l=JSON.parse(e))}},function(){const e=document.getElementById("new-namespace");a.data.attributes.namespaces.includes(e.value)||Ve.update(t=>({...t,data:{...t.data,attributes:{...t.data.attributes,namespaces:[...t.data.attributes.namespaces,e.value]}}})),e.value=""},function(e){Ve.update(t=>({...t,data:{...t.data,attributes:{...t.data.attributes,namespaces:t.data.attributes.namespaces.filter(t=>t!==e)}}}))},m,()=>m()]}class ui extends Ne{constructor(e){super(),Me(this,e,ci,ri,p,{})}}function di(e){let t;return{c(){t=C("div"),t.innerHTML="<p>Could not load the game you are looking for...</p>",S(t,"class","notification is-warning"),D(t,"is-hidden",!e[0])},m(e,n){k(e,t,n)},p(e,n){1&n&&D(t,"is-hidden",!e[0])},i:l,o:l,d(e){e&&x(t)}}}function mi(e){let t,n,s,i;const a=[fi,pi],l=[];function o(e,t){return e[3]?1:0}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),s=N()},m(e,n){l[t].m(e,n),k(e,s,n),i=!0},p(e,i){let r=t;t=o(e),t===r?l[t].p(e,i):(fe(),he(l[r],1,1,()=>{l[r]=null}),ve(),n=l[t],n||(n=l[t]=a[t](e),n.c()),ge(n,1),n.m(s.parentNode,s))},i(e){i||(ge(n),i=!0)},o(e){he(n),i=!1},d(e){l[t].d(e),e&&x(s)}}}function pi(e){let t,n,s,i,a,l,o,r,c,u,d,m,p,f,v,g,h,b,y,w,$,T,H,P,I,U,O=e[3].data.attributes.name+"",E=e[3].data.attributes.description+"";T=new Qe({props:{selectedTab:e[1]}}),T.$on("message",e[8]);var q=e[6][e[1]];function z(e){return{props:{attributes:e[7][e[1]],collection:e[2]}}}return q&&(P=new q(z(e)),P.$on("message",e[10])),{c(){t=C("h1"),n=C("span"),s=C("abbr"),i=j("svg"),a=j("use"),o=M(),r=j("svg"),c=j("use"),d=M(),m=j("svg"),p=j("use"),g=M(),h=L(O),b=M(),y=C("h1"),w=L(E),$=M(),Te(T.$$.fragment),H=M(),P&&Te(P.$$.fragment),I=N(),S(a,"href","../images/fontawesome-sprite.svg#solid-check-circle"),S(i,"class","fa saved svelte-10d2pmv"),D(i,"is-hidden","saved"!=e[5]),S(c,"href","../images/fontawesome-sprite.svg#solid-spinner-third"),S(r,"class","fa saving rotating svelte-10d2pmv"),D(r,"is-hidden","saving"!=e[5]),S(p,"href","../images/fontawesome-sprite.svg#solid-times-circle"),S(m,"class","fa failed svelte-10d2pmv"),D(m,"is-hidden","failed"!=e[5]),S(s,"title",v="Last save : "+e[4].toLocaleString()),S(n,"id","saving-status"),S(n,"class","svelte-10d2pmv"),S(t,"class","title is-4 has-vcentered-content"),S(y,"id","game-description"),S(y,"class","subtitle is-6 svelte-10d2pmv")},m(e,l){k(e,t,l),_(t,n),_(n,s),_(s,i),_(i,a),_(s,o),_(s,r),_(r,c),_(s,d),_(s,m),_(m,p),_(t,g),_(t,h),k(e,b,l),k(e,y,l),_(y,w),k(e,$,l),Ce(T,e,l),k(e,H,l),P&&Ce(P,e,l),k(e,I,l),U=!0},p(e,t){32&t&&D(i,"is-hidden","saved"!=e[5]),32&t&&D(r,"is-hidden","saving"!=e[5]),32&t&&D(m,"is-hidden","failed"!=e[5]),(!U||16&t&&v!==(v="Last save : "+e[4].toLocaleString()))&&S(s,"title",v),(!U||8&t)&&O!==(O=e[3].data.attributes.name+"")&&A(h,O),(!U||8&t)&&E!==(E=e[3].data.attributes.description+"")&&A(w,E);const n={};2&t&&(n.selectedTab=e[1]),T.$set(n);const a={};if(2&t&&(a.attributes=e[7][e[1]]),4&t&&(a.collection=e[2]),q!==(q=e[6][e[1]])){if(P){fe();const e=P;he(e.$$.fragment,1,0,()=>{je(e,1)}),ve()}q?(P=new q(z(e)),P.$on("message",e[10]),Te(P.$$.fragment),ge(P.$$.fragment,1),Ce(P,I.parentNode,I)):P=null}else q&&P.$set(a)},i(e){U||(ie(()=>{l||(l=we(i,Fe,{delay:250,duration:300},!0)),l.run(1)}),ie(()=>{u||(u=we(r,Fe,{delay:250,duration:300},!0)),u.run(1)}),ie(()=>{f||(f=we(m,Fe,{delay:250,duration:300},!0)),f.run(1)}),ge(T.$$.fragment,e),P&&ge(P.$$.fragment,e),U=!0)},o(e){l||(l=we(i,Fe,{delay:250,duration:300},!1)),l.run(0),u||(u=we(r,Fe,{delay:250,duration:300},!1)),u.run(0),f||(f=we(m,Fe,{delay:250,duration:300},!1)),f.run(0),he(T.$$.fragment,e),P&&he(P.$$.fragment,e),U=!1},d(e){e&&x(t),e&&l&&l.end(),e&&u&&u.end(),e&&f&&f.end(),e&&x(b),e&&x(y),e&&x($),je(T,e),e&&x(H),e&&x(I),P&&je(P,e)}}}function fi(e){let t;return{c(){t=C("h1"),t.textContent="Loading Game...",S(t,"class","title is-4 has-vcentered-content")},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function vi(e){let t,n,s,i;const a=[mi,di],l=[];function o(e,t){return e[0]?1:0}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),s=N()},m(e,n){l[t].m(e,n),k(e,s,n),i=!0},p(e,[i]){let r=t;t=o(e),t===r?l[t].p(e,i):(fe(),he(l[r],1,1,()=>{l[r]=null}),ve(),n=l[t],n||(n=l[t]=a[t](e),n.c()),ge(n,1),n.m(s.parentNode,s))},i(e){i||(ge(n),i=!0)},o(e){he(n),i=!1},d(e){l[t].d(e),e&&x(s)}}}function gi(e,t,n){let i,a,l;v(e,Ve,e=>n(3,i=e)),v(e,We,e=>n(4,a=e)),v(e,Xe,e=>n(5,l=e));let o,{gameUrl:r}=t,c=null,u="achievements";const d={overview:nt,actions:Zs,achievements:Zs,resources:Zs,stats:Qs,dev:ti,settings:ui},m={actions:{name:{singular:"action",plural:"actions"},model:{singular:"Action",plural:"Actions"}},achievements:{name:{singular:"achievement",plural:"achievements"},model:{singular:"Achievement",plural:"Achievements"}},resources:{name:{singular:"resource",plural:"resources"},model:{singular:"Resource",plural:"Resources"}}};return e.$set=e=>{"gameUrl"in e&&n(9,r=e.gameUrl)},e.$$.update=()=>{512&e.$$.dirty&&async function(e){const t=await s(e);if(t.ok){const e=await t.json();Ve.set(e)}else n(0,c="Could not find the game you are looking for...")}(r),10&e.$$.dirty&&n(2,o=i&&m[u]?i.included.filter(e=>e.type===m[u].name.singular).sort((e,t)=>parseInt(e.id)-parseInt(t.id)):[])},[c,u,o,i,a,l,d,m,function(e){n(1,u=e.detail.selectedTab)},r,function(t){Z(e,t)}]}class hi extends Ne{constructor(e){super(),Me(this,e,gi,vi,p,{gameUrl:9})}}function bi(e){let t,n;return t=new hi({props:{gameUrl:e[1]}}),t.$on("message",e[2]),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.gameUrl=e[1]),t.$set(s)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function yi(e){let t,n;return t=new Be({}),t.$on("message",e[2]),{c(){Te(t.$$.fragment)},m(e,s){Ce(t,e,s),n=!0},p:l,i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){he(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function wi(e){let t;return{c(){t=C("p"),t.innerHTML='<span class="is-hidden-touch">←</span><span class="is-hidden-desktop">↑</span> Start by hitting the &#39;New Game&#39; button !\n          <svg class="twemoji"><use href="../images/twemoji-sprite.svg#party_popper"></use></svg>'},m(e,n){k(e,t,n)},p:l,i:l,o:l,d(e){e&&x(t)}}}function $i(e){let t,n,s,i,a,l,o,r,c,u,d;s=new De({props:{gameList:e[0],gameUrl:e[1]}}),s.$on("message",e[2]);const m=[wi,yi,bi],p=[];function f(e,t){return e[1]?"new"===e[1]?1:2:0}return c=f(e),u=p[c]=m[c](e),{c(){t=C("div"),n=C("div"),Te(s.$$.fragment),i=M(),a=C("div"),l=C("div"),l.innerHTML='<p>\n        Place2Be.io is still at an early stage of development, with a very minimal set of features as we are mainly collecting feedback at this stage.<br>\n        We would\n        <svg class="twemoji svelte-lhwp7m"><use href="../images/twemoji-sprite.svg#heart"></use></svg>\n        to hear your thoughts on this! <a href="/feedback.html">Give Feedback</a></p>',o=M(),r=C("div"),u.c(),S(n,"class","column is-2"),S(l,"id","feedback"),S(l,"class","box svelte-lhwp7m"),S(r,"id","game-content"),S(r,"class","box svelte-lhwp7m"),S(a,"class","column"),S(t,"class","columns")},m(e,u){k(e,t,u),_(t,n),Ce(s,n,null),_(t,i),_(t,a),_(a,l),_(a,o),_(a,r),p[c].m(r,null),d=!0},p(e,[t]){const n={};1&t&&(n.gameList=e[0]),2&t&&(n.gameUrl=e[1]),s.$set(n);let i=c;c=f(e),c===i?p[c].p(e,t):(fe(),he(p[i],1,1,()=>{p[i]=null}),ve(),u=p[c],u||(u=p[c]=m[c](e),u.c()),ge(u,1),u.m(r,null))},i(e){d||(ge(s.$$.fragment,e),ge(u),d=!0)},o(e){he(s.$$.fragment,e),he(u),d=!1},d(e){e&&x(t),je(s),p[c].d()}}}function _i(e,n,i){let a,l,{apiProtocol:o}=n,{apiHost:r}=n,{userId:c}=n;async function u(e){const n=t(o,r,"users",e,"games"),i=await s(n);return(await i.json()).data}return e.$set=e=>{"apiProtocol"in e&&i(3,o=e.apiProtocol),"apiHost"in e&&i(4,r=e.apiHost),"userId"in e&&i(5,c=e.userId)},e.$$.update=()=>{32&e.$$.dirty&&i(0,a=u(c)),8&e.$$.dirty&&X("apiProtocol",o),16&e.$$.dirty&&X("apiHost",r),32&e.$$.dirty&&X("userId",c)},[a,l,async function(e){e.detail.updateGameList&&i(0,a=await u(c)),i(1,l=e.detail.gameUrl)},o,r,c]}class ki extends Ne{constructor(e){super(),Me(this,e,_i,$i,p,{apiProtocol:3,apiHost:4,userId:5})}}function xi(e){let t,n,s,i,a,o,r,c,u,d;return{c(){t=C("div"),n=C("a"),n.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-in"></use></svg></span> \n    <span>\n      Sign In\n    </span>',s=M(),i=C("a"),i.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-cog"></use></svg></span> \n    <span>\n      Settings\n    </span>',a=M(),o=C("button"),o.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-out"></use></svg></span> \n    <span>\n      Sign Out\n    </span>',r=M(),c=C("a"),c.innerHTML='<span class="icon is-small"><svg class="fa fill-secondary"><use href="../images/fontawesome-sprite.svg#solid-sign-in-alt"></use></svg></span> \n    <span>\n      Sign Up\n    </span>',S(n,"href","/credentials.html"),S(n,"class","button is-link is-outlined fill-primary"),D(n,"is-hidden",e[0]),S(i,"href","/settings.html"),S(i,"class","button is-link is-outlined fill-primary"),D(i,"is-hidden",!e[0]),S(o,"id","sign-out"),S(o,"class","button is-link fill-secondary"),D(o,"is-hidden",!e[0]),S(c,"href","/credentials.html?signup=true"),S(c,"class","button is-link fill-primary"),D(c,"is-hidden",e[0]),S(t,"class","buttons")},m(l,m){k(l,t,m),_(t,n),_(t,s),_(t,i),_(t,a),_(t,o),_(t,r),_(t,c),u||(d=H(o,"click",e[1]),u=!0)},p(e,[t]){1&t&&D(n,"is-hidden",e[0]),1&t&&D(i,"is-hidden",!e[0]),1&t&&D(o,"is-hidden",!e[0]),1&t&&D(c,"is-hidden",e[0])},i:l,o:l,d(e){e&&x(t),u=!1,d()}}}function Ti(e,s,a){let{apiProtocol:l}=s,{apiHost:o}=s,r=!1;var c;return c=async()=>{a(0,r=n(document.cookie,"user_id"))},Y().$$.on_mount.push(c),e.$set=e=>{"apiProtocol"in e&&a(2,l=e.apiProtocol),"apiHost"in e&&a(3,o=e.apiHost)},[r,async function(){const e=t(l,o,"signout");await i(e,void 0),window.location.replace(t(window.location.protocol,window.location.host,"index.html"))},l,o]}class Ci extends Ne{constructor(e){super(),Me(this,e,Ti,xi,p,{apiProtocol:2,apiHost:3})}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".navbar-burger"),t=document.querySelector(".navbar-menu");e.addEventListener("click",()=>{e.classList.contains("is-active")?(e.classList.remove("is-active"),t.classList.remove("is-active")):(e.classList.add("is-active"),t.classList.add("is-active"))})});return(async()=>{const t=new URLSearchParams(window.location.search),s=t.has("user_id")?t.get("user_id"):n(document.cookie,"user_id");new Ci({target:document.getElementById("credentials-buttons"),props:{apiProtocol:e.protocol,apiHost:e.host}}),new ki({target:document.getElementById("main"),props:{apiProtocol:e.protocol,apiHost:e.host,userId:s}})})()}();
//# sourceMappingURL=dashboard.js.map
