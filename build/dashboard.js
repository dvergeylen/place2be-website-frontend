var app=function(){"use strict";var e={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(e,t,...n){return`${e}//${t}/${(Array.isArray(n)?n:[n]).map(e=>e.replace(/^\/+|\/+$/,"")).join("/")}`}function n(e,t){const n=e.split(";").map(e=>e.split("=")).find(([e])=>e.trim()===t);return n?n[1]:void 0}function s(e){const t=n(document.cookie,"csrf_token");return fetch(e,{method:"GET",credentials:"include",headers:{Accept:"application/json",...t&&{"x-csrf-token":t}}})}function a(e,t,s){const a=n(document.cookie,"csrf_token");return fetch(e,{method:s||"POST",credentials:"include",headers:{Accept:"application/json",...a&&{"x-csrf-token":a}},body:t})}function i(){}function l(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(l)}function c(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e,...t){if(null==e)return i;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function m(e,t,n){e.$$.on_destroy.push(d(t,n))}function f(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function y(){return w(" ")}function $(){return w("")}function k(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function x(e){return function(t){return t.preventDefault(),e.call(this,t)}}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t){(null!=t||e.value)&&(e.value=t)}function C(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function H(e,t,n){e.classList[n?"add":"remove"](t)}let S;function N(e){S=e}function M(){if(!S)throw new Error("Function called outside component initialization");return S}function U(){const e=M();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const a=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);s.slice().forEach(t=>{t.call(e,a)})}}}function E(e,t){M().$$.context.set(e,t)}function O(e){return M().$$.context.get(e)}const A=[],G=[],P=[],D=[],I=Promise.resolve();let q=!1;function R(e){P.push(e)}let B=!1;const Y=new Set;function F(){if(!B){B=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];N(t),J(t.$$)}for(A.length=0;G.length;)G.pop()();for(let e=0;e<P.length;e+=1){const t=P[e];Y.has(t)||(Y.add(t),t())}P.length=0}while(A.length);for(;D.length;)D.pop()();q=!1,B=!1,Y.clear()}}function J(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const z=new Set;let V;function Z(){V={r:0,c:[],p:V}}function K(){V.r||o(V.c),V=V.p}function Q(e,t){e&&e.i&&(z.delete(e),e.i(t))}function W(e,t,n,s){if(e&&e.o){if(z.has(e))return;z.add(e),V.c.push(()=>{z.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}function X(e,t){const n=t.token={};function s(e,s,a,i){if(t.token!==n)return;t.resolved=i;let l=t.ctx;void 0!==a&&(l=l.slice(),l[a]=i);const r=e&&(t.current=e)(l);let o=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==s&&e&&(Z(),W(e,1,1,()=>{t.blocks[n]=null}),K())}):t.block.d(1),r.c(),Q(r,1),r.m(t.mount(),t.anchor),o=!0),t.block=r,t.blocks&&(t.blocks[s]=r),o&&F()}if((a=e)&&"object"==typeof a&&"function"==typeof a.then){const n=M();if(e.then(e=>{N(n),s(t.then,1,t.value,e),N(null)},e=>{N(n),s(t.catch,2,t.error,e),N(null)}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}var a}function ee(e,t){W(e,1,1,()=>{t.delete(e.key)})}function te(e,t,n,s,a,i,l,r,o,c,u,d){let m=e.length,f=i.length,p=m;const g={};for(;p--;)g[e[p].key]=p;const v=[],h=new Map,b=new Map;for(p=f;p--;){const e=d(a,i,p),r=n(e);let o=l.get(r);o?s&&o.p(e,t):(o=c(r,e),o.c()),h.set(r,v[p]=o),r in g&&b.set(r,Math.abs(p-g[r]))}const w=new Set,y=new Set;function $(e){Q(e,1),e.m(r,u,l.has(e.key)),l.set(e.key,e),u=e.first,f--}for(;m&&f;){const t=v[f-1],n=e[m-1],s=t.key,a=n.key;t===n?(u=t.first,m--,f--):h.has(a)?!l.has(s)||w.has(s)?$(t):y.has(a)?m--:b.get(s)>b.get(a)?(y.add(s),$(t)):(w.add(a),m--):(o(n,l),m--)}for(;m--;){const t=e[m];h.has(t.key)||o(t,l)}for(;f;)$(v[f-1]);return v}function ne(e){e&&e.c()}function se(e,t,n){const{fragment:s,on_mount:a,on_destroy:i,after_update:r}=e.$$;s&&s.m(t,n),R(()=>{const t=a.map(l).filter(c);i?i.push(...t):o(t),e.$$.on_mount=[]}),r.forEach(R)}function ae(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t){-1===e.$$.dirty[0]&&(A.push(e),q||(q=!0,I.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,s,a,l,c=[-1]){const u=S;N(e);const d=t.props||{},m=e.$$={fragment:null,ctx:null,props:l,update:i,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:c};let f=!1;if(m.ctx=n?n(e,d,(t,n,...s)=>{const i=s.length?s[0]:n;return m.ctx&&a(m.ctx[t],m.ctx[t]=i)&&(m.bound[t]&&m.bound[t](i),f&&ie(e,t)),n}):[],m.update(),f=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);m.fragment&&m.fragment.l(e),e.forEach(g)}else m.fragment&&m.fragment.c();t.intro&&Q(e.$$.fragment),se(e,t.target,t.anchor),F()}N(u)}class re{$destroy(){ae(this,1),this.$destroy=i}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function oe(e,t,n){const s=e.slice();return s[8]=t[n],s}function ce(e){let t,n,s=e[7].message+"";return{c(){t=h("p"),n=w(s),_(t,"class","error")},m(e,s){p(e,t,s),f(t,n)},p(e,t){1&t&&s!==(s=e[7].message+"")&&j(n,s)},d(e){e&&g(t)}}}function ue(e){let t,n,s,a,i,l,r=e[6],o=[];for(let t=0;t<r.length;t+=1)o[t]=de(oe(e,r,t));return{c(){t=h("article"),n=h("p"),n.textContent="Your Games :",s=y(),a=h("a"),a.innerHTML='<span class="panel-icon"><svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#rocket"></use></svg></span> \n        <span>\n          New Game\n        </span>',i=y();for(let e=0;e<o.length;e+=1)o[e].c();_(n,"class","panel-heading"),_(a,"href","javascript:void(0)"),_(a,"class","panel-block fill-primary"),_(t,"class","panel is-primary")},m(r,c,u){p(r,t,c),f(t,n),f(t,s),f(t,a),f(t,i);for(let e=0;e<o.length;e+=1)o[e].m(t,null);u&&l(),l=k(a,"click",x(e[4]))},p(e,n){if(7&n){let s;for(r=e[6],s=0;s<r.length;s+=1){const a=oe(e,r,s);o[s]?o[s].p(a,n):(o[s]=de(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(e){e&&g(t),v(o,e),l()}}}function de(e){let t,n,s,a,i,l,r,o=e[8].attributes.name+"";function c(...t){return e[5](e[8],...t)}return{c(){t=h("a"),n=h("span"),n.innerHTML='<svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>',s=y(),a=w(o),i=y(),_(n,"class","panel-icon"),H(n,"fill-primary",e[1]===e[8].links.self),_(t,"href",l=e[8].links.self),_(t,"class","panel-block")},m(e,l,o){p(e,t,l),f(t,n),f(t,s),f(t,a),f(t,i),o&&r(),r=k(t,"click",x(c))},p(s,i){e=s,3&i&&H(n,"fill-primary",e[1]===e[8].links.self),1&i&&o!==(o=e[8].attributes.name+"")&&j(a,o),1&i&&l!==(l=e[8].links.self)&&_(t,"href",l)},d(e){e&&g(t),r()}}}function me(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game List</p>',_(t,"class","has-vcentered-content")},m(e,n){p(e,t,n)},p:i,d(e){e&&g(t)}}}function fe(e){let t,n,s={ctx:e,current:null,token:null,pending:me,then:ue,catch:ce,value:6,error:7};return X(n=e[0],s),{c(){t=h("div"),s.block.c(),_(t,"class","content")},m(e,n){p(e,t,n),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null},p(t,[a]){if(e=t,s.ctx=e,1&a&&n!==(n=e[0])&&X(n,s));else{const t=e.slice();t[6]=s.resolved,s.block.p(t,a)}},i:i,o:i,d(e){e&&g(t),s.block.d(),s.token=null,s=null}}}function pe(e,t,n){let{gameList:s}=t,{gameUrl:a}=t;const i=U();function l(e){i("message",{gameUrl:e})}return e.$set=e=>{"gameList"in e&&n(0,s=e.gameList),"gameUrl"in e&&n(1,a=e.gameUrl)},[s,a,l,i,async()=>l("new"),e=>l(e.links.self)]}class ge extends re{constructor(e){super(),le(this,e,pe,fe,u,{gameList:0,gameUrl:1})}}function ve(e,t,n){const s=e.slice();return s[10]=t[n][0],s[11]=t[n][1],s}function he(e){let t,n=Object.entries(e[0]),s=[];for(let t=0;t<n.length;t+=1)s[t]=be(ve(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);p(e,t,n)},p(e,a){if(1&a){let i;for(n=Object.entries(e[0]),i=0;i<n.length;i+=1){const l=ve(e,n,i);s[i]?s[i].p(l,a):(s[i]=be(l),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function be(e){let t,n,s,a,i=e[10]+"",l=e[11]+"";return{c(){t=h("li"),n=w(i),s=w(" : "),a=w(l)},m(e,i){p(e,t,i),f(t,n),f(t,s),f(t,a)},p(e,t){1&t&&i!==(i=e[10]+"")&&j(n,i),1&t&&l!==(l=e[11]+"")&&j(a,l)},d(e){e&&g(t)}}}function we(e){let t,n,s,a,l,r,c,u,d,m,v,b,w,$,j,L,C,T,S,N,M,U,E,O,A,G=e[0]&&he(e);return{c(){t=h("div"),n=h("h1"),n.textContent="Create new Game :",s=y(),a=h("p"),a.innerHTML='A Game contains all Actions\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg>,\n    Achievements\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>,\n    Rewards\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg>\n    and Assets\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#package"></use></svg>\n    your players can interact with.',l=y(),r=h("hr"),c=y(),u=h("form"),d=h("div"),m=h("button"),v=y(),b=h("h1"),b.textContent="Unable to Create new Game :",w=y(),$=h("ul"),G&&G.c(),j=y(),L=h("div"),L.innerHTML='<label class="label">\n        Game Name\n        <span class="mandatory svelte-178zv2a">*</span></label> \n      <div class="control"><input name="game[name]" class="input reasonable-width" type="text"></div>',C=y(),T=h("div"),T.innerHTML='<label class="label">\n        Description\n        <span class="note svelte-178zv2a">(optional)</span></label> \n      <div class="control"><input name="game[description]" class="input" type="text"></div> \n      <p class="help">Game and description won&#39;t be visible to your players.</p>',S=y(),N=h("div"),M=h("div"),M.innerHTML='<button class="button is-link">Create</button>',U=y(),E=h("div"),O=h("button"),O.textContent="Cancel",_(n,"class","title is-4"),_(m,"class","delete"),_(b,"class","title is-5"),_(d,"class","notification is-danger"),H(d,"is-hidden",!e[0]),_(L,"class","field"),_(T,"class","field"),_(M,"class","control"),_(O,"class","button is-link is-light"),_(E,"class","control"),_(N,"class","field is-grouped"),_(u,"id","new-game-form"),_(t,"id","new-game"),_(t,"class","svelte-178zv2a")},m(i,g,h){p(i,t,g),f(t,n),f(t,s),f(t,a),f(t,l),f(t,r),f(t,c),f(t,u),f(u,d),f(d,m),f(d,v),f(d,b),f(d,w),f(d,$),G&&G.m($,null),f(u,j),f(u,L),f(u,C),f(u,T),f(u,S),f(u,N),f(N,M),f(N,U),f(N,E),f(E,O),h&&o(A),A=[k(m,"click",x(e[8])),k(O,"click",x(e[9])),k(u,"submit",x(e[1]))]},p(e,[t]){e[0]?G?G.p(e,t):(G=he(e),G.c(),G.m($,null)):G&&(G.d(1),G=null),1&t&&H(d,"is-hidden",!e[0])},i:i,o:i,d(e){e&&g(t),G&&G.d(),o(A)}}}function ye(e,n,s){const i=U(),l=O("apiProtocol"),r=O("apiHost"),o=O("userId");let c=null;function u(){i("message",{gameUrl:void 0})}function d(){s(0,c=null)}return[c,async function(){const e=t(l,r,"users",o,"games"),n=new FormData(document.getElementById("new-game-form")),u=await a(e,n);if(u.ok){const e=await u.json();i("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await u.text();s(0,c=JSON.parse(e))}},u,d,i,l,r,o,()=>d(),()=>u()]}class $e extends re{constructor(e){super(),le(this,e,ye,we,u,{})}}const ke=[];function xe(e,t=i){let n;const s=[];function a(t){if(u(e,t)&&(e=t,n)){const t=!ke.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),ke.push(n,e)}if(t){for(let e=0;e<ke.length;e+=2)ke[e][0](ke[e+1]);ke.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(l,r=i){const o=[l,r];return s.push(o),1===s.length&&(n=t(a)||i),l(e),()=>{const e=s.indexOf(o);-1!==e&&s.splice(e,1),0===s.length&&(n(),n=null)}}}}const _e=xe(null),je=xe("saved"),Le=function(e,t,n){const s=!Array.isArray(e),a=s?[e]:e,l=t.length<2;return{subscribe:xe(n,e=>{let n=!1;const r=[];let u=0,m=i;const f=()=>{if(u)return;m();const n=t(s?r[0]:r,e);l?e(n):m=c(n)?n:i},p=a.map((e,t)=>d(e,e=>{r[t]=e,u&=~(1<<t),n&&f()},()=>{u|=1<<t}));return n=!0,f(),function(){o(p),m()}}).subscribe}}(je,()=>new Date);function Ce(e){let t,n,s,a,i,l,r,c,u,d,m,v,b,w,$,j,L,C,T,S,N,M,U;return{c(){t=h("div"),n=h("ul"),s=h("li"),a=h("a"),a.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#compass"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Overview</span>',i=y(),l=h("li"),r=h("a"),r.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Actions</span>',c=y(),u=h("li"),d=h("a"),d.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Achievements</span>',m=y(),v=h("li"),b=h("a"),b.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Rewards</span>',w=y(),$=h("li"),j=h("a"),j.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#bar_chart"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Stats</span>',L=y(),C=h("li"),T=h("a"),T.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#woman_technologist"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Integration</span>',S=y(),N=h("li"),M=h("a"),M.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#gear"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Settings</span>',_(a,"href","javascript:void(0)"),H(s,"is-active","overview"===e[1]),_(r,"href","javascript:void(0)"),H(l,"is-active","actions"===e[1]),_(d,"href","javascript:void(0)"),H(u,"is-active","achievements"===e[1]),_(b,"href","javascript:void(0)"),H(v,"is-active","rewards"===e[1]),_(j,"href","javascript:void(0)"),H($,"is-active","stats"===e[1]),_(T,"href","javascript:void(0)"),H(C,"is-active","dev"===e[1]),_(M,"href","javascript:void(0)"),H(N,"is-active","settings"===e[1]),_(t,"id","game-tabs-container"),_(t,"class","tabs svelte-ywoo4f")},m(g,h,y){p(g,t,h),f(t,n),f(n,s),f(s,a),f(n,i),f(n,l),f(l,r),f(n,c),f(n,u),f(u,d),f(n,m),f(n,v),f(v,b),f(n,w),f(n,$),f($,j),f(n,L),f(n,C),f(C,T),f(n,S),f(n,N),f(N,M),y&&o(U),U=[k(a,"click",x(e[4])),k(r,"click",x(e[5])),k(d,"click",x(e[6])),k(b,"click",x(e[7])),k(j,"click",x(e[8])),k(T,"click",x(e[9])),k(M,"click",x(e[10]))]},p(e,t){2&t&&H(s,"is-active","overview"===e[1]),2&t&&H(l,"is-active","actions"===e[1]),2&t&&H(u,"is-active","achievements"===e[1]),2&t&&H(v,"is-active","rewards"===e[1]),2&t&&H($,"is-active","stats"===e[1]),2&t&&H(C,"is-active","dev"===e[1]),2&t&&H(N,"is-active","settings"===e[1])},d(e){e&&g(t),o(U)}}}function Te(e){let t;return{c(){t=w("Loading Game tabs...")},m(e,n){p(e,t,n)},p:i,d(e){e&&g(t)}}}function He(e){let t;function n(e,t){return e[0]?Ce:Te}let s=n(e),a=s(e);return{c(){a.c(),t=$()},m(e,n){a.m(e,n),p(e,t,n)},p(e,[i]){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},i:i,o:i,d(e){a.d(e),e&&g(t)}}}function Se(e,t,n){let{game:s}=t,{selectedTab:a="overview"}=t;const i=U();function l(e){i("message",{selectedTab:e})}return e.$set=e=>{"game"in e&&n(0,s=e.game),"selectedTab"in e&&n(1,a=e.selectedTab)},[s,a,l,i,()=>l("overview"),()=>l("actions"),()=>l("achievements"),()=>l("rewards"),()=>l("stats"),()=>l("dev"),()=>l("settings")]}class Ne extends re{constructor(e){super(),le(this,e,Se,He,u,{game:0,selectedTab:1})}}function Me(e){let t,n,s,a,i,l,r,o,c=e[0].toLocaleDateString()+"",u=e[1].attributes.archived?"No":"Yes";return{c(){t=h("ul"),n=h("li"),s=w("Created : "),a=w(c),i=y(),l=h("li"),r=w("Active: "),o=w(u)},m(e,c){p(e,t,c),f(t,n),f(n,s),f(n,a),f(t,i),f(t,l),f(l,r),f(l,o)},p(e,t){1&t&&c!==(c=e[0].toLocaleDateString()+"")&&j(a,c),2&t&&u!==(u=e[1].attributes.archived?"No":"Yes")&&j(o,u)},d(e){e&&g(t)}}}function Ue(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Overview</p>',_(t,"class","has-vcentered-content")},m(e,n){p(e,t,n)},p:i,d(e){e&&g(t)}}}function Ee(e){let t;function n(e,t){return e[1]?Me:Ue}let s=n(e),a=s(e);return{c(){a.c(),t=$()},m(e,n){a.m(e,n),p(e,t,n)},p(e,[i]){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},i:i,o:i,d(e){a.d(e),e&&g(t)}}}function Oe(e,t,n){let s,a;return m(e,_e,e=>n(1,s=e)),e.$$.update=()=>{2&e.$$.dirty&&n(0,a=new Date(s.attributes.created_at))},[a,s]}class Ae extends re{constructor(e){super(),le(this,e,Oe,Ee,u,{})}}function Ge(e,t,n){const s=e.slice();return s[18]=t[n][0],s[19]=t[n][1],s}function Pe(e,t,n){const s=e.slice();return s[22]=t[n],s}function De(e){let t,n,s=e[22]+"";return{c(){t=h("span"),n=w(s),_(t,"class","tag is-link")},m(e,s){p(e,t,s),f(t,n)},p(e,t){1&t&&s!==(s=e[22]+"")&&j(n,s)},d(e){e&&g(t)}}}function Ie(e){let t,n,s,a;return{c(){t=h("div"),n=b("svg"),s=b("use"),_(s,"href","../images/fontawesome-sprite.svg#regular-times-circle"),_(n,"class","fa destroy svelte-jrsmli"),_(t,"class","column is-narrow")},m(i,l,r){p(i,t,l),f(t,n),f(n,s),r&&a(),a=k(n,"click",e[4])},p:i,d(e){e&&g(t),a()}}}function qe(e){let t,n=Object.entries(e[1]),s=[];for(let t=0;t<n.length;t+=1)s[t]=Re(Ge(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);p(e,t,n)},p(e,a){if(2&a){let i;for(n=Object.entries(e[1]),i=0;i<n.length;i+=1){const l=Ge(e,n,i);s[i]?s[i].p(l,a):(s[i]=Re(l),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function Re(e){let t,n,s,a,i=e[18]+"",l=e[19]+"";return{c(){t=h("li"),n=w(i),s=w(" : "),a=w(l)},m(e,i){p(e,t,i),f(t,n),f(t,s),f(t,a)},p(e,t){2&t&&i!==(i=e[18]+"")&&j(n,i),2&t&&l!==(l=e[19]+"")&&j(a,l)},d(e){e&&g(t)}}}function Be(e){let t;return{c(){t=w("Update")},m(e,n){p(e,t,n)},d(e){e&&g(t)}}}function Ye(e){let t;return{c(){t=w("Create")},m(e,n){p(e,t,n)},d(e){e&&g(t)}}}function Fe(e){let t,n;return{c(){t=h("button"),t.textContent="Cancel",_(t,"class","button is-primary is-light")},m(s,a,i){p(s,t,a),i&&n(),n=k(t,"click",x(e[6]))},p:i,d(e){e&&g(t),n()}}}function Je(e){let t,n,s,a,l,r,c,u,d,m,$,T,S,N,M,U,E,O,A,G,P,D,I,q,B,Y,F,J,z,V,Z,K,Q,W,X,ee,te,ne,se,ae,ie,le,re,oe,ce,ue,de,me,fe,pe,ge,ve,he,be,we,ye,$e,ke,xe,_e,je,Le,Ce,Te,He,Se,Ne,Me,Ue,Ee,Oe,Ae,Ge,Re,Je,Ze,Ke,Qe,We,Xe,et,tt,nt,st,at,it=e[0].attributes.name+"",lt=ze(e[0].attributes.value_type)+"",rt=Ve(e[0].attributes.team_required)+"",ot=e[0].attributes.tags.split(","),ct=[];for(let t=0;t<ot.length;t+=1)ct[t]=De(Pe(e,ot,t));let ut=e[0].id&&Ie(e),dt=e[1]&&qe(e);function mt(e,t){return e[0].id?Be:Ye}let ft=mt(e),pt=ft(e),gt=e[0].id&&Fe(e);return{c(){t=h("div"),n=h("div"),s=h("div"),a=h("div"),l=h("h1"),r=h("span"),c=w(it),u=y(),d=b("svg"),m=b("use"),$=y(),T=h("table"),S=h("tbody"),N=h("tr"),M=h("td"),M.textContent="Value Type :",U=y(),E=h("td"),O=w(lt),A=y(),G=h("tr"),P=h("td"),P.textContent="Team Id field :",D=y(),I=h("td"),q=w(rt),B=y(),Y=h("tr"),F=h("td"),F.textContent="Tags :",J=y(),z=h("td"),V=h("div");for(let e=0;e<ct.length;e+=1)ct[e].c();Z=y(),K=h("tr"),K.innerHTML='<td class="svelte-jrsmli"></td> \n          <td class="svelte-jrsmli"><p class="help">\n              Need help? See \n              <a href="https://doc/place2be.io/actions" target="_blank"><span>Doc</span> \n                <svg class="fa fill-primary no-hover svelte-jrsmli"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p></td>',Q=y(),W=h("div"),X=h("form"),ee=h("div"),te=h("div"),ne=h("h1"),se=h("input"),ae=y(),ut&&ut.c(),ie=y(),le=h("div"),re=h("button"),oe=y(),ce=h("h1"),ce.textContent="Unable to Update Action :",ue=y(),de=h("ul"),dt&&dt.c(),me=y(),fe=h("table"),pe=h("tbody"),ge=h("tr"),ve=h("td"),ve.textContent="Value Type :",he=y(),be=h("td"),we=h("div"),ye=h("select"),$e=h("option"),$e.textContent="Boolean (Yes | No)",ke=h("option"),ke.textContent="Integer",xe=h("option"),xe.textContent="Float",_e=h("option"),_e.textContent="String",je=h("option"),je.textContent="Date",Le=y(),Ce=h("tr"),Te=h("td"),Te.textContent="Team Id field :",He=y(),Se=h("td"),Ne=h("div"),Me=h("select"),Ue=h("option"),Ue.textContent="No, optional",Ee=h("option"),Ee.textContent="Yes, required",Oe=y(),Ae=h("tr"),Ge=h("td"),Ge.textContent="Tags :",Re=y(),Je=h("td"),Ze=h("input"),Ke=y(),Qe=h("tr"),We=h("td"),We.innerHTML='<p class="help">\n                  Need help? See \n                  <a href="https://doc/place2be.io/actions" target="_blank"><span>Doc</span> \n                    <svg class="fa fill-primary no-hover svelte-jrsmli"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',Xe=y(),et=h("td"),tt=h("button"),pt.c(),nt=y(),gt&&gt.c(),H(r,"is-hidden",e[2]),_(m,"href","../images/fontawesome-sprite.svg#regular-edit"),_(d,"class","fa name-edit fill-primary no-hover svelte-jrsmli"),H(d,"is-hidden",e[2]),_(l,"id","action-name"),_(l,"class","title is-5 has-vcentered-text svelte-jrsmli"),_(a,"class","column"),_(s,"class","columns is-mobile"),_(M,"class","right svelte-jrsmli"),_(E,"class","is-value svelte-jrsmli"),_(P,"class","right svelte-jrsmli"),_(I,"class","is-value svelte-jrsmli"),_(F,"class","right svelte-jrsmli"),_(V,"class","tags"),_(z,"class","is-value svelte-jrsmli"),_(T,"class","table"),H(n,"is-hidden",e[2]||!e[0].id),_(se,"class","input reasonable-width"),_(se,"type","text"),_(se,"name","act[name]"),_(se,"placeholder","Action name"),_(ne,"id","reward-name"),_(ne,"class","title is-5 has-vcentered-text"),_(te,"class","column"),_(ee,"class","columns is-mobile"),_(re,"class","delete"),_(ce,"class","title is-5"),_(le,"class","notification is-danger"),H(le,"is-hidden",!e[1]),_(ve,"class","right svelte-jrsmli"),$e.__value="boolean",$e.value=$e.__value,ke.__value="int",ke.value=ke.__value,xe.__value="float",xe.value=xe.__value,_e.__value="string",_e.value=_e.__value,je.__value="date",je.value=je.__value,_(ye,"name","act[value_type]"),void 0===e[0].attributes.value_type&&R(()=>e[15].call(ye)),_(we,"class","select"),_(be,"class","svelte-jrsmli"),_(Te,"class","right svelte-jrsmli"),Ue.__value="false",Ue.value=Ue.__value,Ee.__value="true",Ee.value=Ee.__value,_(Me,"name","act[team_required]"),void 0===e[0].attributes.team_required&&R(()=>e[16].call(Me)),_(Ne,"class","select"),_(Se,"class","svelte-jrsmli"),_(Ge,"class","right svelte-jrsmli"),_(Ze,"class","input"),_(Ze,"type","text"),_(Ze,"name","act[tags]"),_(Ze,"placeholder","comma separated, max. 5"),_(Je,"class","svelte-jrsmli"),_(We,"class","svelte-jrsmli"),_(tt,"class","button is-primary"),_(et,"class","svelte-jrsmli"),_(fe,"class","table"),_(X,"id",st=(e[0].id||"new")+"-action-form"),_(X,"class","svelte-jrsmli"),H(W,"is-hidden",!e[2]&&e[0].id),_(t,"class","item-box")},m(i,g,v){p(i,t,g),f(t,n),f(n,s),f(s,a),f(a,l),f(l,r),f(r,c),f(l,u),f(l,d),f(d,m),f(n,$),f(n,T),f(T,S),f(S,N),f(N,M),f(N,U),f(N,E),f(E,O),f(S,A),f(S,G),f(G,P),f(G,D),f(G,I),f(I,q),f(S,B),f(S,Y),f(Y,F),f(Y,J),f(Y,z),f(z,V);for(let e=0;e<ct.length;e+=1)ct[e].m(V,null);f(S,Z),f(S,K),f(t,Q),f(t,W),f(W,X),f(X,ee),f(ee,te),f(te,ne),f(ne,se),L(se,e[0].attributes.name),f(ee,ae),ut&&ut.m(ee,null),f(X,ie),f(X,le),f(le,re),f(le,oe),f(le,ce),f(le,ue),f(le,de),dt&&dt.m(de,null),f(X,me),f(X,fe),f(fe,pe),f(pe,ge),f(ge,ve),f(ge,he),f(ge,be),f(be,we),f(we,ye),f(ye,$e),f(ye,ke),f(ye,xe),f(ye,_e),f(ye,je),C(ye,e[0].attributes.value_type),f(pe,Le),f(pe,Ce),f(Ce,Te),f(Ce,He),f(Ce,Se),f(Se,Ne),f(Ne,Me),f(Me,Ue),f(Me,Ee),C(Me,e[0].attributes.team_required),f(pe,Oe),f(pe,Ae),f(Ae,Ge),f(Ae,Re),f(Ae,Je),f(Je,Ze),L(Ze,e[0].attributes.tags),f(pe,Ke),f(pe,Qe),f(Qe,We),f(Qe,Xe),f(Qe,et),f(et,tt),pt.m(tt,null),f(et,nt),gt&&gt.m(et,null),v&&o(at),at=[k(d,"click",e[5]),k(se,"input",e[13]),k(re,"click",x(e[14])),k(ye,"change",e[15]),k(Me,"change",e[16]),k(Ze,"input",e[17]),k(X,"submit",x(e[3]))]},p(e,[t]){if(1&t&&it!==(it=e[0].attributes.name+"")&&j(c,it),4&t&&H(r,"is-hidden",e[2]),4&t&&H(d,"is-hidden",e[2]),1&t&&lt!==(lt=ze(e[0].attributes.value_type)+"")&&j(O,lt),1&t&&rt!==(rt=Ve(e[0].attributes.team_required)+"")&&j(q,rt),1&t){let n;for(ot=e[0].attributes.tags.split(","),n=0;n<ot.length;n+=1){const s=Pe(e,ot,n);ct[n]?ct[n].p(s,t):(ct[n]=De(s),ct[n].c(),ct[n].m(V,null))}for(;n<ct.length;n+=1)ct[n].d(1);ct.length=ot.length}5&t&&H(n,"is-hidden",e[2]||!e[0].id),1&t&&se.value!==e[0].attributes.name&&L(se,e[0].attributes.name),e[0].id?ut?ut.p(e,t):(ut=Ie(e),ut.c(),ut.m(ee,null)):ut&&(ut.d(1),ut=null),e[1]?dt?dt.p(e,t):(dt=qe(e),dt.c(),dt.m(de,null)):dt&&(dt.d(1),dt=null),2&t&&H(le,"is-hidden",!e[1]),1&t&&C(ye,e[0].attributes.value_type),1&t&&C(Me,e[0].attributes.team_required),1&t&&Ze.value!==e[0].attributes.tags&&L(Ze,e[0].attributes.tags),ft!==(ft=mt(e))&&(pt.d(1),pt=ft(e),pt&&(pt.c(),pt.m(tt,null))),e[0].id?gt?gt.p(e,t):(gt=Fe(e),gt.c(),gt.m(et,null)):gt&&(gt.d(1),gt=null),1&t&&st!==(st=(e[0].id||"new")+"-action-form")&&_(X,"id",st),5&t&&H(W,"is-hidden",!e[2]&&e[0].id)},i:i,o:i,d(e){e&&g(t),v(ct,e),ut&&ut.d(),dt&&dt.d(),pt.d(),gt&&gt.d(),o(at)}}}function ze(e){let t="Unknown";switch(e){case"boolean":t="Boolean (Yes | No)";break;case"int":t="Integer";break;case"float":t="Float";break;case"string":t="String";break;case"date":t="Date"}return t}function Ve(e){let t="Unknown";switch(e){case!1:t="No, optional";break;case!0:t="Yes, required"}return t}function Ze(e,n,s){let i;m(e,_e,e=>s(8,i=e));let{action:l={attributes:{name:"",value_type:"boolean",tags:""}}}=n;const r=U(),o=O("apiProtocol"),c=O("apiHost"),u=O("userId");let d=null,f=!1;function p(){s(2,f=!1)}function g(){s(1,d=null)}return e.$set=e=>{"action"in e&&s(0,l=e.action)},[l,d,f,async function(){let e,n;je.set("saving"),l.id?(e=["users",u,"games",i.id,"actions",l.id],n="PUT"):(e=["users",u,"games",i.id,"actions"],n="POST");const m=t(o,c,...e),f=new FormData(document.getElementById((l.id||"new")+"-action-form")),g=await a(m,f,n);if(g.ok)if(je.set("saved"),l.id){const e=await g.json();s(0,l=e.data),p()}else{const e=await g.json();r("message",{actions:e.data})}else{const e=await g.text();s(1,d=JSON.parse(e)),je.set("failed")}},async function(){je.set("saving");const e=["users",u,"games",i.id,"actions",l.id],n=t(o,c,...e),m=await a(n,{},"DELETE");if(m.ok){je.set("saved");const e=await m.json();r("message",{actions:e.data})}else{const e=await m.text();s(1,d=JSON.parse(e)),je.set("failed")}},function(){s(2,f=!f)},p,g,i,r,o,c,u,function(){l.attributes.name=this.value,s(0,l)},()=>g(),function(){l.attributes.value_type=T(this),s(0,l)},function(){l.attributes.team_required=T(this),s(0,l)},function(){l.attributes.tags=this.value,s(0,l)}]}class Ke extends re{constructor(e){super(),le(this,e,Ze,Je,u,{action:0})}}function Qe(e,t,n){const s=e.slice();return s[4]=t[n],s}function We(e){let t,n,s,a,i,l,r,o;const c=[tt,et],u=[];function d(e,t){return e[0].length?0:1}t=d(e),n=u[t]=c[t](e);const m=new Ke({});return m.$on("message",e[2]),{c(){n.c(),s=y(),a=h("hr"),i=y(),l=h("h1"),l.textContent="Create new Action :",r=y(),ne(m.$$.fragment),_(l,"class","title is-4")},m(e,n){u[t].m(e,n),p(e,s,n),p(e,a,n),p(e,i,n),p(e,l,n),p(e,r,n),se(m,e,n),o=!0},p(e,a){let i=t;t=d(e),t===i?u[t].p(e,a):(Z(),W(u[i],1,1,()=>{u[i]=null}),K(),n=u[t],n||(n=u[t]=c[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){o||(Q(n),Q(m.$$.fragment,e),o=!0)},o(e){W(n),W(m.$$.fragment,e),o=!1},d(e){u[t].d(e),e&&g(s),e&&g(a),e&&g(i),e&&g(l),e&&g(r),ae(m,e)}}}function Xe(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Actions</p>',_(t,"class","has-vcentered-content")},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}function et(e){let t;return{c(){t=h("p"),t.textContent="You don't have Actions  yet! Start by creating one below ↓"},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}function tt(e){let t,n,s=[],a=new Map,i=e[0];const l=e=>e[4].id;for(let t=0;t<i.length;t+=1){let n=Qe(e,i,t),r=l(n);a.set(r,s[t]=nt(r,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);p(e,t,a),n=!0},p(e,n){if(5&n){const i=e[0];Z(),s=te(s,n,l,1,e,i,a,t.parentNode,ee,nt,t,Qe),K()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)Q(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)W(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&g(t)}}}function nt(e,t){let n,s;const a=new Ke({props:{action:t[4]}});return a.$on("message",t[2]),{key:e,first:null,c(){n=$(),ne(a.$$.fragment),this.first=n},m(e,t){p(e,n,t),se(a,e,t),s=!0},p(e,t){const n={};1&t&&(n.action=e[4]),a.$set(n)},i(e){s||(Q(a.$$.fragment,e),s=!0)},o(e){W(a.$$.fragment,e),s=!1},d(e){e&&g(n),ae(a,e)}}}function st(e){let t,n,s,a;const i=[Xe,We],l=[];function r(e,t){return e[1]?1:0}return t=r(e),n=l[t]=i[t](e),{c(){n.c(),s=$()},m(e,n){l[t].m(e,n),p(e,s,n),a=!0},p(e,[a]){let o=t;t=r(e),t===o?l[t].p(e,a):(Z(),W(l[o],1,1,()=>{l[o]=null}),K(),n=l[t],n||(n=l[t]=i[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){a||(Q(n),a=!0)},o(e){W(n),a=!1},d(e){l[t].d(e),e&&g(s)}}}function at(e,t,n){let a;m(e,_e,e=>n(1,a=e));let i=[];return e.$$.update=()=>{2&e.$$.dirty&&a&&async function(e){const t=e.relationships.actions.links.related,a=await s(t);if(a.ok){const e=await a.json();n(0,i=e.data)}else error="Could not fetch Actions for this game"}(a)},[i,a,function(e){n(0,i=e.detail.actions)}]}class it extends re{constructor(e){super(),le(this,e,at,st,u,{})}}function lt(e){let t;return{c(){t=h("p"),t.textContent="Achievement Tab!"},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}class rt extends re{constructor(e){super(),le(this,e,null,lt,u,{})}}function ot(e,t,n){const s=e.slice();return s[20]=t[n],s[21]=t,s[22]=n,s}function ct(e,t,n){const s=e.slice();return s[23]=t[n][0],s[24]=t[n][1],s}function ut(e){let t,n,s,a,i,l,r,c,u,d,m,v,$,x,C,T,S,N,M=e[0].attributes.name+"";return{c(){t=h("div"),n=h("div"),s=h("h1"),a=h("span"),i=w(M),l=y(),r=h("input"),c=y(),u=b("svg"),d=b("use"),m=y(),v=b("svg"),$=b("use"),x=y(),C=h("div"),T=b("svg"),S=b("use"),H(a,"is-hidden",e[2]),_(r,"class","input reasonable-width"),_(r,"type","text"),_(r,"name","reward[name]"),H(r,"is-hidden",!e[2]),_(d,"href","../images/fontawesome-sprite.svg#regular-edit"),_(u,"class","fa name-edit fill-primary no-hover svelte-1w52cp5"),H(u,"is-hidden",e[2]),_($,"href","../images/fontawesome-sprite.svg#regular-check-circle"),_(v,"class","fa name-edit fill-primary no-hover svelte-1w52cp5"),H(v,"is-hidden",!e[2]),_(s,"id","reward-name"),_(s,"class","title is-5 has-vcentered-text svelte-1w52cp5"),_(n,"class","column"),_(S,"href","../images/fontawesome-sprite.svg#regular-times-circle"),_(T,"class","fa fill-anthracite svelte-1w52cp5"),_(C,"class","column is-narrow"),_(t,"class","columns is-mobile")},m(g,h,b){p(g,t,h),f(t,n),f(n,s),f(s,a),f(a,i),f(s,l),f(s,r),L(r,e[0].attributes.name),f(s,c),f(s,u),f(u,d),f(s,m),f(s,v),f(v,$),f(t,x),f(t,C),f(C,T),f(T,S),b&&o(N),N=[k(r,"input",e[15]),k(u,"click",e[6]),k(v,"click",e[6]),k(T,"click",e[4])]},p(e,t){1&t&&M!==(M=e[0].attributes.name+"")&&j(i,M),4&t&&H(a,"is-hidden",e[2]),1&t&&r.value!==e[0].attributes.name&&L(r,e[0].attributes.name),4&t&&H(r,"is-hidden",!e[2]),4&t&&H(u,"is-hidden",e[2]),4&t&&H(v,"is-hidden",!e[2])},d(e){e&&g(t),o(N)}}}function dt(e){let t,n=Object.entries(e[1]),s=[];for(let t=0;t<n.length;t+=1)s[t]=mt(ct(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);p(e,t,n)},p(e,a){if(2&a){let i;for(n=Object.entries(e[1]),i=0;i<n.length;i+=1){const l=ct(e,n,i);s[i]?s[i].p(l,a):(s[i]=mt(l),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function mt(e){let t,n,s,a,i=e[23]+"",l=e[24]+"";return{c(){t=h("li"),n=w(i),s=w(" : "),a=w(l)},m(e,i){p(e,t,i),f(t,n),f(t,s),f(t,a)},p(e,t){2&t&&i!==(i=e[23]+"")&&j(n,i),2&t&&l!==(l=e[24]+"")&&j(a,l)},d(e){e&&g(t)}}}function ft(e){let t;return{c(){t=h("tr"),t.innerHTML='<td class="right svelte-1w52cp5">\n              Name :\n            </td> \n            <td class="svelte-1w52cp5"><input class="input" type="text" name="reward[name]"></td>'},m(e,n){p(e,t,n)},d(e){e&&g(t)}}}function pt(e){let t,n,s,a,i,l,r,c,u;function d(){e[18].call(s,e[20])}function m(){e[19].call(l,e[20])}return{c(){t=h("tr"),n=h("td"),s=h("input"),a=y(),i=h("td"),l=h("input"),r=y(),c=h("td"),c.innerHTML='<svg class="fa fill-primary no-hover left-spaced svelte-1w52cp5"><use href="../images/fontawesome-sprite.svg#regular-times"></use></svg>',_(s,"class","input asset-key svelte-1w52cp5"),_(s,"type","text"),_(s,"name","reward[assets][][key]"),_(s,"placeholder","key"),_(n,"class","right svelte-1w52cp5"),_(l,"class","input"),_(l,"type","text"),_(l,"name","reward[assets][][value]"),_(l,"placeholder","value"),_(i,"class","has-vcentered-text svelte-1w52cp5"),_(c,"class","svelte-1w52cp5")},m(g,v,h){p(g,t,v),f(t,n),f(n,s),L(s,e[20].key),f(t,a),f(t,i),f(i,l),L(l,e[20].value),f(t,r),f(t,c),h&&o(u),u=[k(s,"input",d),k(l,"input",m)]},p(t,n){e=t,1&n&&s.value!==e[20].key&&L(s,e[20].key),1&n&&l.value!==e[20].value&&L(l,e[20].value)},d(e){e&&g(t),o(u)}}}function gt(e){let t;return{c(){t=h("button"),t.textContent="Create",_(t,"class","button is-primary")},m(e,n){p(e,t,n)},d(e){e&&g(t)}}}function vt(e){let t,n,s,a,l,r,c,u,d,m,b,w,$,j,L,T,S,N,M,U,E,O,A,G,P,D,I,q,B,Y,F,J,z,V,Z,K,Q,W=e[0].id&&ut(e),X=e[1]&&dt(e),ee=!e[0].id&&ft(),te=e[0].attributes.assets,ne=[];for(let t=0;t<te.length;t+=1)ne[t]=pt(ot(e,te,t));let se=!e[0].id&&gt();return{c(){t=h("form"),n=h("div"),W&&W.c(),s=y(),a=h("div"),l=h("button"),r=y(),c=h("h1"),c.textContent="Unable to Update Reward :",u=y(),d=h("ul"),X&&X.c(),m=y(),b=h("table"),w=h("tbody"),ee&&ee.c(),$=y(),j=h("tr"),L=h("td"),L.textContent="Source :",T=y(),S=h("td"),N=h("div"),M=h("select"),U=h("option"),U.textContent="Virtual money",E=h("option"),E.textContent="CSV List",O=h("option"),O.textContent="External URI",A=h("option"),A.textContent="Scheme",G=y(),P=h("h1"),P.textContent="Assets :",D=y(),I=h("table"),q=h("tbody");for(let e=0;e<ne.length;e+=1)ne[e].c();B=y(),Y=h("tr"),Y.innerHTML='<td class="right svelte-1w52cp5"></td> \n          <td class="svelte-1w52cp5"><p class="help">+ new key-value asset entry</p></td>',F=y(),J=h("tr"),z=h("td"),z.innerHTML='<p class="help">\n              Need help? See \n              <a href="https://doc/place2be.io/rewards" target="_blank"><span>Doc</span> \n                <svg class="fa fill-primary no-hover svelte-1w52cp5"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',V=y(),Z=h("td"),se&&se.c(),_(l,"class","delete"),_(c,"class","title is-5"),_(a,"class","notification is-danger"),H(a,"is-hidden",!e[1]),_(L,"class","right svelte-1w52cp5"),U.__value="virtual",U.value=U.__value,E.__value="list",E.value=E.__value,E.disabled="disabled",O.__value="uri",O.value=O.__value,O.disabled="disabled",A.__value="scheme",A.value=A.__value,A.disabled="disabled",_(M,"name","reward[source]"),void 0===e[0].attributes.source&&R(()=>e[17].call(M)),_(N,"class","select"),_(S,"class","svelte-1w52cp5"),_(b,"class","table"),_(P,"class","title is-6"),_(z,"class","svelte-1w52cp5"),_(Z,"class","svelte-1w52cp5"),_(I,"class","table"),_(n,"class","item-box"),_(t,"id",K=(e[0].id||"new")+"-reward-form"),_(t,"class","svelte-1w52cp5")},m(i,g,v){p(i,t,g),f(t,n),W&&W.m(n,null),f(n,s),f(n,a),f(a,l),f(a,r),f(a,c),f(a,u),f(a,d),X&&X.m(d,null),f(n,m),f(n,b),f(b,w),ee&&ee.m(w,null),f(w,$),f(w,j),f(j,L),f(j,T),f(j,S),f(S,N),f(N,M),f(M,U),f(M,E),f(M,O),f(M,A),C(M,e[0].attributes.source),f(n,G),f(n,P),f(n,D),f(n,I),f(I,q);for(let e=0;e<ne.length;e+=1)ne[e].m(q,null);f(q,B),f(q,Y),f(q,F),f(q,J),f(J,z),f(J,V),f(J,Z),se&&se.m(Z,null),v&&o(Q),Q=[k(l,"click",x(e[16])),k(M,"change",e[17]),k(t,"change",e[5]),k(t,"submit",x(e[3]))]},p(e,[i]){if(e[0].id?W?W.p(e,i):(W=ut(e),W.c(),W.m(n,s)):W&&(W.d(1),W=null),e[1]?X?X.p(e,i):(X=dt(e),X.c(),X.m(d,null)):X&&(X.d(1),X=null),2&i&&H(a,"is-hidden",!e[1]),e[0].id?ee&&(ee.d(1),ee=null):ee||(ee=ft(),ee.c(),ee.m(w,$)),1&i&&C(M,e[0].attributes.source),1&i){let t;for(te=e[0].attributes.assets,t=0;t<te.length;t+=1){const n=ot(e,te,t);ne[t]?ne[t].p(n,i):(ne[t]=pt(n),ne[t].c(),ne[t].m(q,B))}for(;t<ne.length;t+=1)ne[t].d(1);ne.length=te.length}e[0].id?se&&(se.d(1),se=null):se||(se=gt(),se.c(),se.m(Z,null)),1&i&&K!==(K=(e[0].id||"new")+"-reward-form")&&_(t,"id",K)},i:i,o:i,d(e){e&&g(t),W&&W.d(),X&&X.d(),ee&&ee.d(),v(ne,e),se&&se.d(),o(Q)}}}function ht(e,n,s){let i,l;m(e,_e,e=>s(8,i=e)),m(e,je,e=>s(9,l=e));let{reward:r={attributes:{name:"",source:"virtual",assets:[{key:"",value:""}]}}}=n;const o=U(),c=O("apiProtocol"),u=O("apiHost"),d=O("userId");let f=null,p=!1;async function g(){let e,n;je.set("saving"),r.id?(e=["users",d,"games",i.id,"rewards",r.id],n="PUT"):(e=["users",d,"games",i.id,"rewards"],n="POST");const l=t(c,u,...e),m=new FormData(document.getElementById((r.id||"new")+"-reward-form")),p=await a(l,m,n);if(p.ok)if(je.set("saved"),r.id){const e=await p.json();s(0,r=e.data)}else{const e=await p.json();o("message",{rewards:e.data})}else{const e=await p.text();s(1,f=JSON.parse(e)),je.set("failed")}}function v(){s(1,f=null)}return e.$set=e=>{"reward"in e&&s(0,r=e.reward)},e.$$.update=()=>{1&e.$$.dirty&&console.log(r),512&e.$$.dirty&&console.log(l)},[r,f,p,g,async function(){je.set("saving");const e=["users",d,"games",i.id,"rewards",r.id],n=t(c,u,...e),l=await a(n,{},"DELETE");if(l.ok){je.set("saved");const e=await l.json();o("message",{rewards:e.data})}else{const e=await l.text();s(1,f=JSON.parse(e)),je.set("failed")}},function(){r.id&&g()},function(){s(2,p=!p)},v,i,l,o,c,u,d,void 0,function(){r.attributes.name=this.value,s(0,r)},()=>v(),function(){r.attributes.source=T(this),s(0,r)},function(e){e.key=this.value,s(0,r)},function(e){e.value=this.value,s(0,r)}]}class bt extends re{constructor(e){super(),le(this,e,ht,vt,u,{reward:0})}}function wt(e,t,n){const s=e.slice();return s[4]=t[n],s}function yt(e){let t,n,s,a,i,l,r,o;const c=[xt,kt],u=[];function d(e,t){return e[0].length?0:1}t=d(e),n=u[t]=c[t](e);const m=new bt({});return m.$on("message",e[2]),{c(){n.c(),s=y(),a=h("hr"),i=y(),l=h("h1"),l.textContent="Create new Reward :",r=y(),ne(m.$$.fragment),_(l,"class","title is-4")},m(e,n){u[t].m(e,n),p(e,s,n),p(e,a,n),p(e,i,n),p(e,l,n),p(e,r,n),se(m,e,n),o=!0},p(e,a){let i=t;t=d(e),t===i?u[t].p(e,a):(Z(),W(u[i],1,1,()=>{u[i]=null}),K(),n=u[t],n||(n=u[t]=c[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){o||(Q(n),Q(m.$$.fragment,e),o=!0)},o(e){W(n),W(m.$$.fragment,e),o=!1},d(e){u[t].d(e),e&&g(s),e&&g(a),e&&g(i),e&&g(l),e&&g(r),ae(m,e)}}}function $t(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Rewards</p>',_(t,"class","has-vcentered-content")},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}function kt(e){let t;return{c(){t=h("p"),t.textContent="You don't have Rewards yet! Start by creating one below ↓"},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}function xt(e){let t,n,s=[],a=new Map,i=e[0];const l=e=>e[4].id;for(let t=0;t<i.length;t+=1){let n=wt(e,i,t),r=l(n);a.set(r,s[t]=_t(r,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);p(e,t,a),n=!0},p(e,n){if(5&n){const i=e[0];Z(),s=te(s,n,l,1,e,i,a,t.parentNode,ee,_t,t,wt),K()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)Q(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)W(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&g(t)}}}function _t(e,t){let n,s;const a=new bt({props:{reward:t[4]}});return a.$on("message",t[2]),{key:e,first:null,c(){n=$(),ne(a.$$.fragment),this.first=n},m(e,t){p(e,n,t),se(a,e,t),s=!0},p(e,t){const n={};1&t&&(n.reward=e[4]),a.$set(n)},i(e){s||(Q(a.$$.fragment,e),s=!0)},o(e){W(a.$$.fragment,e),s=!1},d(e){e&&g(n),ae(a,e)}}}function jt(e){let t,n,s,a;const i=[$t,yt],l=[];function r(e,t){return e[1]?1:0}return t=r(e),n=l[t]=i[t](e),{c(){n.c(),s=$()},m(e,n){l[t].m(e,n),p(e,s,n),a=!0},p(e,[a]){let o=t;t=r(e),t===o?l[t].p(e,a):(Z(),W(l[o],1,1,()=>{l[o]=null}),K(),n=l[t],n||(n=l[t]=i[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){a||(Q(n),a=!0)},o(e){W(n),a=!1},d(e){l[t].d(e),e&&g(s)}}}function Lt(e,t,n){let a;m(e,_e,e=>n(1,a=e));let i=[];return e.$$.update=()=>{2&e.$$.dirty&&a&&async function(e){const t=e.relationships.rewards.links.related,a=await s(t);if(a.ok){const e=await a.json();n(0,i=e.data)}else error="Could not fetch Rewards for this game"}(a)},[i,a,function(e){n(0,i=e.detail.rewards)}]}class Ct extends re{constructor(e){super(),le(this,e,Lt,jt,u,{})}}function Tt(e){let t;return{c(){t=h("p"),t.textContent="Stats Tab!"},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}class Ht extends re{constructor(e){super(),le(this,e,null,Tt,u,{})}}function St(e){let t;return{c(){t=h("p"),t.textContent="Dev Tab!"},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}class Nt extends re{constructor(e){super(),le(this,e,null,St,u,{})}}function Mt(e,t,n){const s=e.slice();return s[12]=t[n][0],s[13]=t[n][1],s}function Ut(e){let t,n,s,a,i,l,r,c,u,d,m,v,b,w,$,j,L,C,T,S,N,M,U,E,O,A,G,P,D,I,q,R,B,Y,F,J,z,V,Z,K,Q,W,X,ee,te,ne,se=e[0]&&Ot(e);return{c(){t=h("form"),n=h("div"),s=h("button"),a=y(),i=h("h1"),i.textContent="Unable to Update Game :",l=y(),r=h("ul"),se&&se.c(),c=y(),u=h("div"),d=h("label"),d.textContent="Game Name",m=y(),v=h("div"),b=h("input"),$=y(),j=h("div"),L=h("label"),L.textContent="Description",C=y(),T=h("div"),S=h("input"),M=y(),U=h("p"),U.textContent="Game and description won't be visible to your players.",E=y(),O=h("button"),O.textContent="Update Settings",A=y(),G=h("hr"),P=y(),D=h("h1"),D.textContent="Danger Zone :",I=y(),q=h("form"),R=h("div"),B=h("input"),F=y(),J=h("button"),J.textContent="Archive this Game",z=y(),V=h("button"),V.textContent="Reactivate this Game",Z=y(),K=h("p"),K.textContent="Once you archive a game, no player will be able to access it anymore. Please be certain!",Q=y(),W=h("div"),X=h("button"),X.textContent="Delete this Game",ee=y(),te=h("p"),te.textContent="Once you delete a game, there is no going back. Please be certain!",_(s,"class","delete"),_(i,"class","title is-5"),_(n,"class","notification is-danger"),H(n,"is-hidden",!e[0]),_(d,"class","label"),_(b,"name","game[name]"),_(b,"class","input reasonable-width"),_(b,"type","text"),b.value=w=e[1].attributes.name,_(v,"class","control"),_(u,"class","field"),_(L,"class","label"),_(S,"name","game[description]"),_(S,"class","input"),_(S,"type","text"),S.value=N=e[1].attributes.description,_(T,"class","control"),_(U,"class","help"),_(j,"class","field"),_(O,"class","button is-link"),_(t,"id","settings-form"),_(D,"class","title is-4"),_(B,"name","game[archived]"),_(B,"class","input"),_(B,"type","hidden"),B.value=Y=!e[1].attributes.archived,_(J,"class","button is-danger is-outlined svelte-1xcb6g0"),H(J,"is-hidden",e[1].attributes.archived),_(V,"class","button is-danger is-outlined svelte-1xcb6g0"),H(V,"is-hidden",!e[1].attributes.archived),_(K,"class","help"),_(R,"class","field"),_(q,"id","danger-form"),_(X,"class","button is-danger is-outlined svelte-1xcb6g0"),_(te,"class","help"),_(W,"class","field")},m(g,h,w){p(g,t,h),f(t,n),f(n,s),f(n,a),f(n,i),f(n,l),f(n,r),se&&se.m(r,null),f(t,c),f(t,u),f(u,d),f(u,m),f(u,v),f(v,b),f(t,$),f(t,j),f(j,L),f(j,C),f(j,T),f(T,S),f(j,M),f(j,U),f(t,E),f(t,O),p(g,A,h),p(g,G,h),p(g,P,h),p(g,D,h),p(g,I,h),p(g,q,h),f(q,R),f(R,B),f(R,F),f(R,J),f(R,z),f(R,V),f(R,Z),f(R,K),p(g,Q,h),p(g,W,h),f(W,X),f(W,ee),f(W,te),w&&o(ne),ne=[k(s,"click",x(e[11])),k(t,"submit",x(e[2])),k(q,"submit",x(e[3])),k(X,"click",x(e[4]))]},p(e,t){e[0]?se?se.p(e,t):(se=Ot(e),se.c(),se.m(r,null)):se&&(se.d(1),se=null),1&t&&H(n,"is-hidden",!e[0]),2&t&&w!==(w=e[1].attributes.name)&&b.value!==w&&(b.value=w),2&t&&N!==(N=e[1].attributes.description)&&S.value!==N&&(S.value=N),2&t&&Y!==(Y=!e[1].attributes.archived)&&(B.value=Y),2&t&&H(J,"is-hidden",e[1].attributes.archived),2&t&&H(V,"is-hidden",!e[1].attributes.archived)},d(e){e&&g(t),se&&se.d(),e&&g(A),e&&g(G),e&&g(P),e&&g(D),e&&g(I),e&&g(q),e&&g(Q),e&&g(W),o(ne)}}}function Et(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game Settings</p>',_(t,"class","has-vcentered-content")},m(e,n){p(e,t,n)},p:i,d(e){e&&g(t)}}}function Ot(e){let t,n=Object.entries(e[0]),s=[];for(let t=0;t<n.length;t+=1)s[t]=At(Mt(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);p(e,t,n)},p(e,a){if(1&a){let i;for(n=Object.entries(e[0]),i=0;i<n.length;i+=1){const l=Mt(e,n,i);s[i]?s[i].p(l,a):(s[i]=At(l),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function At(e){let t,n,s,a,i=e[12]+"",l=e[13]+"";return{c(){t=h("li"),n=w(i),s=w(" : "),a=w(l)},m(e,i){p(e,t,i),f(t,n),f(t,s),f(t,a)},p(e,t){1&t&&i!==(i=e[12]+"")&&j(n,i),1&t&&l!==(l=e[13]+"")&&j(a,l)},d(e){e&&g(t)}}}function Gt(e){let t;function n(e,t){return e[1]?Ut:Et}let s=n(e),a=s(e);return{c(){a.c(),t=$()},m(e,n){a.m(e,n),p(e,t,n)},p(e,[i]){s===(s=n(e))&&a?a.p(e,i):(a.d(1),a=s(e),a&&(a.c(),a.m(t.parentNode,t)))},i:i,o:i,d(e){a.d(e),e&&g(t)}}}function Pt(e,n,s){let i;m(e,_e,e=>s(1,i=e));let l=null;const r=U(),o=O("apiProtocol"),c=O("apiHost"),u=O("userId");async function d(e,n){const i=t(o,c,...e),u=new FormData(document.getElementById(n));je.set("saving");const d=await a(i,u,"PUT");if(d.ok){je.set("saved");const e=await d.json();_e.set(e.data),r("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await d.text();s(0,l=JSON.parse(e)),je.set("failed")}}function f(){s(0,l=null)}return[l,i,function(){d(["users",u,"games",i.id],"settings-form")},function(){d(["users",u,"games",i.id],"danger-form")},async function(){const e=["users",u,"games",i.id],n=t(o,c,...e),d=await a(n,{},"DELETE");if(d.ok)_e.set(null),r("message",{gameUrl:void 0,updateGameList:!0});else{const e=await d.text();s(0,l=JSON.parse(e))}},f,r,o,c,u,d,()=>f()]}class Dt extends re{constructor(e){super(),le(this,e,Pt,Gt,u,{})}}function It(e){let t;return{c(){t=h("div"),t.innerHTML="<p>Could not load the game you are looking for...</p>",_(t,"class","notification is-warning"),H(t,"is-hidden",!e[0])},m(e,n){p(e,t,n)},p(e,n){1&n&&H(t,"is-hidden",!e[0])},i:i,o:i,d(e){e&&g(t)}}}function qt(e){let t,n,s,a;function i(e,t){return e[2]?Rt:Bt}let l=i(e),r=l(e);const o=new Ne({props:{game:e[2],selectedTab:e[1]}});o.$on("message",e[6]);var c=e[5][e[1]];if(c){var u=new c({});u.$on("message",e[9])}return{c(){r.c(),t=y(),ne(o.$$.fragment),n=y(),u&&ne(u.$$.fragment),s=$()},m(e,i){r.m(e,i),p(e,t,i),se(o,e,i),p(e,n,i),u&&se(u,e,i),p(e,s,i),a=!0},p(e,n){l===(l=i(e))&&r?r.p(e,n):(r.d(1),r=l(e),r&&(r.c(),r.m(t.parentNode,t)));const a={};if(4&n&&(a.game=e[2]),2&n&&(a.selectedTab=e[1]),o.$set(a),c!==(c=e[5][e[1]])){if(u){Z();const e=u;W(e.$$.fragment,1,0,()=>{ae(e,1)}),K()}c?((u=new c({})).$on("message",e[9]),ne(u.$$.fragment),Q(u.$$.fragment,1),se(u,s.parentNode,s)):u=null}},i(e){a||(Q(o.$$.fragment,e),u&&Q(u.$$.fragment,e),a=!0)},o(e){W(o.$$.fragment,e),u&&W(u.$$.fragment,e),a=!1},d(e){r.d(e),e&&g(t),ae(o,e),e&&g(n),e&&g(s),u&&ae(u,e)}}}function Rt(e){let t,n,s,a,i,l,r,o,c,u,d,m,v,$,k,x,L,C=e[2].attributes.name+"",T=e[2].attributes.description+"";return{c(){t=h("h1"),n=h("span"),s=h("abbr"),a=b("svg"),i=b("use"),l=y(),r=b("svg"),o=b("use"),c=y(),u=b("svg"),d=b("use"),v=y(),$=w(C),k=y(),x=h("h1"),L=w(T),_(i,"href","../images/fontawesome-sprite.svg#solid-check-circle"),_(a,"class","fa saved svelte-10d2pmv"),H(a,"is-hidden","saved"!=e[4]),_(o,"href","../images/fontawesome-sprite.svg#solid-spinner-third"),_(r,"class","fa saving rotating svelte-10d2pmv"),H(r,"is-hidden","saving"!=e[4]),_(d,"href","../images/fontawesome-sprite.svg#solid-times-circle"),_(u,"class","fa failed svelte-10d2pmv"),H(u,"is-hidden","failed"!=e[4]),_(s,"title",m="Last save : "+e[3].toLocaleString()),_(n,"id","saving-status"),_(n,"class","svelte-10d2pmv"),_(t,"class","title is-4 has-vcentered-content"),_(x,"id","game-description"),_(x,"class","subtitle is-6 svelte-10d2pmv")},m(e,m){p(e,t,m),f(t,n),f(n,s),f(s,a),f(a,i),f(s,l),f(s,r),f(r,o),f(s,c),f(s,u),f(u,d),f(t,v),f(t,$),p(e,k,m),p(e,x,m),f(x,L)},p(e,t){16&t&&H(a,"is-hidden","saved"!=e[4]),16&t&&H(r,"is-hidden","saving"!=e[4]),16&t&&H(u,"is-hidden","failed"!=e[4]),8&t&&m!==(m="Last save : "+e[3].toLocaleString())&&_(s,"title",m),4&t&&C!==(C=e[2].attributes.name+"")&&j($,C),4&t&&T!==(T=e[2].attributes.description+"")&&j(L,T)},d(e){e&&g(t),e&&g(k),e&&g(x)}}}function Bt(e){let t;return{c(){t=h("h1"),t.textContent="Loading Game...",_(t,"class","title is-4 has-vcentered-content")},m(e,n){p(e,t,n)},p:i,d(e){e&&g(t)}}}function Yt(e){let t,n,s,a;const i=[qt,It],l=[];function r(e,t){return e[0]?1:0}return t=r(e),n=l[t]=i[t](e),{c(){n.c(),s=$()},m(e,n){l[t].m(e,n),p(e,s,n),a=!0},p(e,[a]){let o=t;t=r(e),t===o?l[t].p(e,a):(Z(),W(l[o],1,1,()=>{l[o]=null}),K(),n=l[t],n||(n=l[t]=i[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){a||(Q(n),a=!0)},o(e){W(n),a=!1},d(e){l[t].d(e),e&&g(s)}}}function Ft(e,t,n){let a,i,l;m(e,_e,e=>n(2,a=e)),m(e,Le,e=>n(3,i=e)),m(e,je,e=>n(4,l=e));let{gameUrl:r}=t,o=null,c="actions";const u={overview:Ae,actions:it,achievements:rt,rewards:Ct,stats:Ht,dev:Nt,settings:Dt};async function d(e){const t=await s(e);if(t.ok){const e=await t.json();_e.set(e.data)}else n(0,o="Could not find the game you are looking for...")}return e.$set=e=>{"gameUrl"in e&&n(7,r=e.gameUrl)},e.$$.update=()=>{128&e.$$.dirty&&d(r)},[o,c,a,i,l,u,function(e){n(1,c=e.detail.selectedTab)},r,d,function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)}]}class Jt extends re{constructor(e){super(),le(this,e,Ft,Yt,u,{gameUrl:7})}}function zt(e){let t;const n=new Jt({props:{gameUrl:e[1]}});return n.$on("message",e[2]),{c(){ne(n.$$.fragment)},m(e,s){se(n,e,s),t=!0},p(e,t){const s={};2&t&&(s.gameUrl=e[1]),n.$set(s)},i(e){t||(Q(n.$$.fragment,e),t=!0)},o(e){W(n.$$.fragment,e),t=!1},d(e){ae(n,e)}}}function Vt(e){let t;const n=new $e({});return n.$on("message",e[2]),{c(){ne(n.$$.fragment)},m(e,s){se(n,e,s),t=!0},p:i,i(e){t||(Q(n.$$.fragment,e),t=!0)},o(e){W(n.$$.fragment,e),t=!1},d(e){ae(n,e)}}}function Zt(e){let t;return{c(){t=h("p"),t.innerHTML='<span class="is-hidden-touch">←</span><span class="is-hidden-desktop">↑</span> Start by hitting the &#39;New Game&#39; button !\n          <svg class="twemoji"><use href="../images/twemoji-sprite.svg#party_popper"></use></svg>'},m(e,n){p(e,t,n)},p:i,i:i,o:i,d(e){e&&g(t)}}}function Kt(e){let t,n,s,a,i,l,r,o;const c=new ge({props:{gameList:e[0],gameUrl:e[1]}});c.$on("message",e[2]);const u=[Zt,Vt,zt],d=[];function m(e,t){return e[1]?"new"===e[1]?1:2:0}return l=m(e),r=d[l]=u[l](e),{c(){t=h("div"),n=h("div"),ne(c.$$.fragment),s=y(),a=h("div"),i=h("div"),r.c(),_(n,"class","column is-2"),_(i,"id","game-content"),_(i,"class","box svelte-18ayl8q"),_(a,"class","column"),_(t,"class","columns")},m(e,r){p(e,t,r),f(t,n),se(c,n,null),f(t,s),f(t,a),f(a,i),d[l].m(i,null),o=!0},p(e,[t]){const n={};1&t&&(n.gameList=e[0]),2&t&&(n.gameUrl=e[1]),c.$set(n);let s=l;l=m(e),l===s?d[l].p(e,t):(Z(),W(d[s],1,1,()=>{d[s]=null}),K(),r=d[l],r||(r=d[l]=u[l](e),r.c()),Q(r,1),r.m(i,null))},i(e){o||(Q(c.$$.fragment,e),Q(r),o=!0)},o(e){W(c.$$.fragment,e),W(r),o=!1},d(e){e&&g(t),ae(c),d[l].d()}}}function Qt(e,n,a){let i,l,{apiProtocol:r}=n,{apiHost:o}=n,{userId:c}=n;async function u(e){const n=t(r,o,"users",e,"games"),a=await s(n);return(await a.json()).data}return e.$set=e=>{"apiProtocol"in e&&a(3,r=e.apiProtocol),"apiHost"in e&&a(4,o=e.apiHost),"userId"in e&&a(5,c=e.userId)},e.$$.update=()=>{32&e.$$.dirty&&a(0,i=u(c)),8&e.$$.dirty&&E("apiProtocol",r),16&e.$$.dirty&&E("apiHost",o),32&e.$$.dirty&&E("userId",c)},[i,l,async function(e){e.detail.updateGameList&&a(0,i=await u(c)),a(1,l=e.detail.gameUrl)},r,o,c]}class Wt extends re{constructor(e){super(),le(this,e,Qt,Kt,u,{apiProtocol:3,apiHost:4,userId:5})}}function Xt(e){let t,n,s,a,l,r,o,c,u;return{c(){t=h("div"),n=h("a"),n.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-in"></use></svg></span> \n    <span>\n      Sign In\n    </span>',s=y(),a=h("a"),a.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-cog"></use></svg></span> \n    <span>\n      Settings\n    </span>',l=y(),r=h("button"),r.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-out"></use></svg></span> \n    <span>\n      Sign Out\n    </span>',o=y(),c=h("a"),c.innerHTML='<span class="icon is-small"><svg class="fa fill-secondary"><use href="../images/fontawesome-sprite.svg#solid-sign-in-alt"></use></svg></span> \n    <span>\n      Sign Up\n    </span>',_(n,"href","/credentials.html"),_(n,"class","button is-link is-outlined fill-primary"),H(n,"is-hidden",e[0]),_(a,"href","/settings.html"),_(a,"class","button is-link is-outlined fill-primary"),H(a,"is-hidden",!e[0]),_(r,"id","sign-out"),_(r,"class","button is-link fill-secondary"),H(r,"is-hidden",!e[0]),_(c,"href","/credentials.html?signup=true"),_(c,"class","button is-link fill-primary"),H(c,"is-hidden",e[0]),_(t,"class","buttons")},m(i,d,m){p(i,t,d),f(t,n),f(t,s),f(t,a),f(t,l),f(t,r),f(t,o),f(t,c),m&&u(),u=k(r,"click",e[1])},p(e,[t]){1&t&&H(n,"is-hidden",e[0]),1&t&&H(a,"is-hidden",!e[0]),1&t&&H(r,"is-hidden",!e[0]),1&t&&H(c,"is-hidden",e[0])},i:i,o:i,d(e){e&&g(t),u()}}}function en(e,s,i){let{apiProtocol:l}=s,{apiHost:r}=s,o=!1;var c;return c=async()=>{i(0,o=n(document.cookie,"user_id"))},M().$$.on_mount.push(c),e.$set=e=>{"apiProtocol"in e&&i(2,l=e.apiProtocol),"apiHost"in e&&i(3,r=e.apiHost)},[o,async function(){const e=t(l,r,"signout");await a(e,void 0),window.location.replace(t(window.location.protocol,window.location.host,"index.html"))},l,r]}class tn extends re{constructor(e){super(),le(this,e,en,Xt,u,{apiProtocol:2,apiHost:3})}}return document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".navbar-burger"),t=document.querySelector(".navbar-menu");e.addEventListener("click",()=>{e.classList.contains("is-active")?(e.classList.remove("is-active"),t.classList.remove("is-active")):(e.classList.add("is-active"),t.classList.add("is-active"))})}),(async()=>{const t=new URLSearchParams(window.location.search),s=t.has("user_id")?t.get("user_id"):n(document.cookie,"user_id");new tn({target:document.getElementById("credentials-buttons"),props:{apiProtocol:e.protocol,apiHost:e.host}}),new Wt({target:document.getElementById("main"),props:{apiProtocol:e.protocol,apiHost:e.host,userId:s}})})()}();
//# sourceMappingURL=dashboard.js.map
