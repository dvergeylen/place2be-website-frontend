var app=function(){"use strict";var e={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(e,t,...s){return`${e}//${t}/${(Array.isArray(s)?s:[s]).map(e=>e.replace(/^\/+|\/+$/,"")).join("/")}`}function s(e,t){const s=e.split(";").map(e=>e.split("=")).find(([e])=>e.trim()===t);return s?s[1]:void 0}function n(e){const t=s(document.cookie,"csrf_token");return fetch(e,{method:"GET",credentials:"include",headers:{Accept:"application/json",...t&&{"x-csrf-token":t}}})}function a(e,t,n){const a=s(document.cookie,"csrf_token");return fetch(e,{method:n||"POST",credentials:"include",headers:{Accept:"application/json",...a&&{"x-csrf-token":a}},body:t})}function i(){}function l(e){return e()}function r(){return Object.create(null)}function c(e){e.forEach(l)}function o(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e,...t){if(null==e)return i;const s=e.subscribe(...t);return s.unsubscribe?()=>s.unsubscribe():s}function m(e,t,s){e.$$.on_destroy.push(d(t,s))}function p(e,t){e.appendChild(t)}function f(e,t,s){e.insertBefore(t,s||null)}function g(e){e.parentNode.removeChild(e)}function v(e,t){for(let s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function h(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function k(){return w(" ")}function y(){return w("")}function $(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function x(e){return function(t){return t.preventDefault(),e.call(this,t)}}function _(e,t,s){null==s?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t){(null!=t||e.value)&&(e.value=t)}function C(e,t){for(let s=0;s<e.options.length;s+=1){const n=e.options[s];if(n.__value===t)return void(n.selected=!0)}}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function H(e,t,s){e.classList[s?"add":"remove"](t)}let S;function N(e){S=e}function M(){if(!S)throw new Error("Function called outside component initialization");return S}function U(){const e=M();return(t,s)=>{const n=e.$$.callbacks[t];if(n){const a=function(e,t){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,!1,!1,t),s}(t,s);n.slice().forEach(t=>{t.call(e,a)})}}}function E(e,t){M().$$.context.set(e,t)}function A(e){return M().$$.context.get(e)}const O=[],P=[],G=[],D=[],I=Promise.resolve();let q=!1;function R(e){G.push(e)}let B=!1;const Y=new Set;function F(){if(!B){B=!0;do{for(let e=0;e<O.length;e+=1){const t=O[e];N(t),J(t.$$)}for(O.length=0;P.length;)P.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];Y.has(t)||(Y.add(t),t())}G.length=0}while(O.length);for(;D.length;)D.pop()();q=!1,B=!1,Y.clear()}}function J(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const V=new Set;let z;function Z(){z={r:0,c:[],p:z}}function K(){z.r||c(z.c),z=z.p}function Q(e,t){e&&e.i&&(V.delete(e),e.i(t))}function W(e,t,s,n){if(e&&e.o){if(V.has(e))return;V.add(e),z.c.push(()=>{V.delete(e),n&&(s&&e.d(1),n())}),e.o(t)}}function X(e,t){const s=t.token={};function n(e,n,a,i){if(t.token!==s)return;t.resolved=i;let l=t.ctx;void 0!==a&&(l=l.slice(),l[a]=i);const r=e&&(t.current=e)(l);let c=!1;t.block&&(t.blocks?t.blocks.forEach((e,s)=>{s!==n&&e&&(Z(),W(e,1,1,()=>{t.blocks[s]=null}),K())}):t.block.d(1),r.c(),Q(r,1),r.m(t.mount(),t.anchor),c=!0),t.block=r,t.blocks&&(t.blocks[n]=r),c&&F()}if((a=e)&&"object"==typeof a&&"function"==typeof a.then){const s=M();if(e.then(e=>{N(s),n(t.then,1,t.value,e),N(null)},e=>{N(s),n(t.catch,2,t.error,e),N(null)}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}var a}function ee(e,t){e.d(1),t.delete(e.key)}function te(e,t){W(e,1,1,()=>{t.delete(e.key)})}function se(e,t,s,n,a,i,l,r,c,o,u,d){let m=e.length,p=i.length,f=m;const g={};for(;f--;)g[e[f].key]=f;const v=[],h=new Map,b=new Map;for(f=p;f--;){const e=d(a,i,f),r=s(e);let c=l.get(r);c?n&&c.p(e,t):(c=o(r,e),c.c()),h.set(r,v[f]=c),r in g&&b.set(r,Math.abs(f-g[r]))}const w=new Set,k=new Set;function y(e){Q(e,1),e.m(r,u,l.has(e.key)),l.set(e.key,e),u=e.first,p--}for(;m&&p;){const t=v[p-1],s=e[m-1],n=t.key,a=s.key;t===s?(u=t.first,m--,p--):h.has(a)?!l.has(n)||w.has(n)?y(t):k.has(a)?m--:b.get(n)>b.get(a)?(k.add(n),y(t)):(w.add(a),m--):(c(s,l),m--)}for(;m--;){const t=e[m];h.has(t.key)||c(t,l)}for(;p;)y(v[p-1]);return v}function ne(e){e&&e.c()}function ae(e,t,s){const{fragment:n,on_mount:a,on_destroy:i,after_update:r}=e.$$;n&&n.m(t,s),R(()=>{const t=a.map(l).filter(o);i?i.push(...t):c(t),e.$$.on_mount=[]}),r.forEach(R)}function ie(e,t){const s=e.$$;null!==s.fragment&&(c(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function le(e,t){-1===e.$$.dirty[0]&&(O.push(e),q||(q=!0,I.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,s,n,a,l,o=[-1]){const u=S;N(e);const d=t.props||{},m=e.$$={fragment:null,ctx:null,props:l,update:i,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:o};let p=!1;if(m.ctx=s?s(e,d,(t,s,...n)=>{const i=n.length?n[0]:s;return m.ctx&&a(m.ctx[t],m.ctx[t]=i)&&(m.bound[t]&&m.bound[t](i),p&&le(e,t)),s}):[],m.update(),p=!0,c(m.before_update),m.fragment=!!n&&n(m.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);m.fragment&&m.fragment.l(e),e.forEach(g)}else m.fragment&&m.fragment.c();t.intro&&Q(e.$$.fragment),ae(e,t.target,t.anchor),F()}N(u)}class ce{$destroy(){ie(this,1),this.$destroy=i}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const e=s.indexOf(t);-1!==e&&s.splice(e,1)}}$set(){}}function oe(e,t,s){const n=e.slice();return n[8]=t[s],n}function ue(e){let t,s,n=e[7].message+"";return{c(){t=h("p"),s=w(n),_(t,"class","error")},m(e,n){f(e,t,n),p(t,s)},p(e,t){1&t&&n!==(n=e[7].message+"")&&j(s,n)},d(e){e&&g(t)}}}function de(e){let t,s,n,a,i,l,r=e[6],c=[];for(let t=0;t<r.length;t+=1)c[t]=me(oe(e,r,t));return{c(){t=h("article"),s=h("p"),s.textContent="Your Games :",n=k(),a=h("a"),a.innerHTML='<span class="panel-icon"><svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#rocket"></use></svg></span> \n        <span>\n          New Game\n        </span>',i=k();for(let e=0;e<c.length;e+=1)c[e].c();_(s,"class","panel-heading"),_(a,"href","javascript:void(0)"),_(a,"class","panel-block fill-primary"),_(t,"class","panel is-primary")},m(r,o,u){f(r,t,o),p(t,s),p(t,n),p(t,a),p(t,i);for(let e=0;e<c.length;e+=1)c[e].m(t,null);u&&l(),l=$(a,"click",x(e[4]))},p(e,s){if(7&s){let n;for(r=e[6],n=0;n<r.length;n+=1){const a=oe(e,r,n);c[n]?c[n].p(a,s):(c[n]=me(a),c[n].c(),c[n].m(t,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=r.length}},d(e){e&&g(t),v(c,e),l()}}}function me(e){let t,s,n,a,i,l,r,c=e[8].attributes.name+"";function o(...t){return e[5](e[8],...t)}return{c(){t=h("a"),s=h("span"),s.innerHTML='<svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>',n=k(),a=w(c),i=k(),_(s,"class","panel-icon"),H(s,"fill-primary",e[1]===e[8].links.self),_(t,"href",l=e[8].links.self),_(t,"class","panel-block")},m(e,l,c){f(e,t,l),p(t,s),p(t,n),p(t,a),p(t,i),c&&r(),r=$(t,"click",x(o))},p(n,i){e=n,3&i&&H(s,"fill-primary",e[1]===e[8].links.self),1&i&&c!==(c=e[8].attributes.name+"")&&j(a,c),1&i&&l!==(l=e[8].links.self)&&_(t,"href",l)},d(e){e&&g(t),r()}}}function pe(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game List</p>',_(t,"class","has-vcentered-content")},m(e,s){f(e,t,s)},p:i,d(e){e&&g(t)}}}function fe(e){let t,s,n={ctx:e,current:null,token:null,pending:pe,then:de,catch:ue,value:6,error:7};return X(s=e[0],n),{c(){t=h("div"),n.block.c(),_(t,"class","content")},m(e,s){f(e,t,s),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null},p(t,[a]){if(e=t,n.ctx=e,1&a&&s!==(s=e[0])&&X(s,n));else{const t=e.slice();t[6]=n.resolved,n.block.p(t,a)}},i:i,o:i,d(e){e&&g(t),n.block.d(),n.token=null,n=null}}}function ge(e,t,s){let{gameList:n}=t,{gameUrl:a}=t;const i=U();function l(e){i("message",{gameUrl:e})}return e.$set=e=>{"gameList"in e&&s(0,n=e.gameList),"gameUrl"in e&&s(1,a=e.gameUrl)},[n,a,l,i,async()=>l("new"),e=>l(e.links.self)]}class ve extends ce{constructor(e){super(),re(this,e,ge,fe,u,{gameList:0,gameUrl:1})}}function he(e,t,s){const n=e.slice();return n[10]=t[s][0],n[11]=t[s][1],n}function be(e){let t,s=Object.entries(e[0]),n=[];for(let t=0;t<s.length;t+=1)n[t]=we(he(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);f(e,t,s)},p(e,a){if(1&a){let i;for(s=Object.entries(e[0]),i=0;i<s.length;i+=1){const l=he(e,s,i);n[i]?n[i].p(l,a):(n[i]=we(l),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(e){v(n,e),e&&g(t)}}}function we(e){let t,s,n,a,i=e[10]+"",l=e[11]+"";return{c(){t=h("li"),s=w(i),n=w(" : "),a=w(l)},m(e,i){f(e,t,i),p(t,s),p(t,n),p(t,a)},p(e,t){1&t&&i!==(i=e[10]+"")&&j(s,i),1&t&&l!==(l=e[11]+"")&&j(a,l)},d(e){e&&g(t)}}}function ke(e){let t,s,n,a,l,r,o,u,d,m,v,b,w,y,j,L,C,T,S,N,M,U,E,A,O,P=e[0]&&be(e);return{c(){t=h("div"),s=h("h1"),s.textContent="Create new Game :",n=k(),a=h("p"),a.innerHTML='A Game contains all Actions\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg>,\n    Achievements\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>,\n    Rewards\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg>\n    and Assets\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#package"></use></svg>\n    your players can interact with.',l=k(),r=h("hr"),o=k(),u=h("form"),d=h("div"),m=h("button"),v=k(),b=h("h1"),b.textContent="Unable to Create new Game :",w=k(),y=h("ul"),P&&P.c(),j=k(),L=h("div"),L.innerHTML='<label class="label">\n        Game Name\n        <span class="mandatory svelte-178zv2a">*</span></label> \n      <div class="control"><input name="game[name]" class="input reasonable-width" type="text"></div>',C=k(),T=h("div"),T.innerHTML='<label class="label">\n        Description\n        <span class="note svelte-178zv2a">(optional)</span></label> \n      <div class="control"><input name="game[description]" class="input" type="text"></div> \n      <p class="help">Game and description won&#39;t be visible to your players.</p>',S=k(),N=h("div"),M=h("div"),M.innerHTML='<button class="button is-link">Create</button>',U=k(),E=h("div"),A=h("button"),A.textContent="Cancel",_(s,"class","title is-4"),_(m,"class","delete"),_(b,"class","title is-5"),_(d,"class","notification is-danger"),H(d,"is-hidden",!e[0]),_(L,"class","field"),_(T,"class","field"),_(M,"class","control"),_(A,"class","button is-link is-light"),_(E,"class","control"),_(N,"class","field is-grouped"),_(u,"id","new-game-form"),_(t,"id","new-game"),_(t,"class","svelte-178zv2a")},m(i,g,h){f(i,t,g),p(t,s),p(t,n),p(t,a),p(t,l),p(t,r),p(t,o),p(t,u),p(u,d),p(d,m),p(d,v),p(d,b),p(d,w),p(d,y),P&&P.m(y,null),p(u,j),p(u,L),p(u,C),p(u,T),p(u,S),p(u,N),p(N,M),p(N,U),p(N,E),p(E,A),h&&c(O),O=[$(m,"click",x(e[8])),$(A,"click",x(e[9])),$(u,"submit",x(e[1]))]},p(e,[t]){e[0]?P?P.p(e,t):(P=be(e),P.c(),P.m(y,null)):P&&(P.d(1),P=null),1&t&&H(d,"is-hidden",!e[0])},i:i,o:i,d(e){e&&g(t),P&&P.d(),c(O)}}}function ye(e,s,n){const i=U(),l=A("apiProtocol"),r=A("apiHost"),c=A("userId");let o=null;function u(){i("message",{gameUrl:void 0})}function d(){n(0,o=null)}return[o,async function(){const e=t(l,r,"users",c,"games"),s=new FormData(document.getElementById("new-game-form")),u=await a(e,s);if(u.ok){const e=await u.json();i("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await u.text();n(0,o=JSON.parse(e))}},u,d,i,l,r,c,()=>d(),()=>u()]}class $e extends ce{constructor(e){super(),re(this,e,ye,ke,u,{})}}const xe=[];function _e(e,t=i){let s;const n=[];function a(t){if(u(e,t)&&(e=t,s)){const t=!xe.length;for(let t=0;t<n.length;t+=1){const s=n[t];s[1](),xe.push(s,e)}if(t){for(let e=0;e<xe.length;e+=2)xe[e][0](xe[e+1]);xe.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(l,r=i){const c=[l,r];return n.push(c),1===n.length&&(s=t(a)||i),l(e),()=>{const e=n.indexOf(c);-1!==e&&n.splice(e,1),0===n.length&&(s(),s=null)}}}}const je=_e(null),Le=_e("saved"),Ce=function(e,t,s){const n=!Array.isArray(e),a=n?[e]:e,l=t.length<2;return{subscribe:_e(s,e=>{let s=!1;const r=[];let u=0,m=i;const p=()=>{if(u)return;m();const s=t(n?r[0]:r,e);l?e(s):m=o(s)?s:i},f=a.map((e,t)=>d(e,e=>{r[t]=e,u&=~(1<<t),s&&p()},()=>{u|=1<<t}));return s=!0,p(),function(){c(f),m()}}).subscribe}}(Le,()=>new Date);function Te(e){let t,s,n,a,i,l,r,o,u,d,m,v,b,w,y,j,L,C,T,S,N,M,U;return{c(){t=h("div"),s=h("ul"),n=h("li"),a=h("a"),a.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#compass"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Overview</span>',i=k(),l=h("li"),r=h("a"),r.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Actions</span>',o=k(),u=h("li"),d=h("a"),d.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Achievements</span>',m=k(),v=h("li"),b=h("a"),b.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Rewards</span>',w=k(),y=h("li"),j=h("a"),j.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#bar_chart"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Stats</span>',L=k(),C=h("li"),T=h("a"),T.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#woman_technologist"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Integration</span>',S=k(),N=h("li"),M=h("a"),M.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#gear"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Settings</span>',_(a,"href","javascript:void(0)"),H(n,"is-active","overview"===e[1]),_(r,"href","javascript:void(0)"),H(l,"is-active","actions"===e[1]),_(d,"href","javascript:void(0)"),H(u,"is-active","achievements"===e[1]),_(b,"href","javascript:void(0)"),H(v,"is-active","rewards"===e[1]),_(j,"href","javascript:void(0)"),H(y,"is-active","stats"===e[1]),_(T,"href","javascript:void(0)"),H(C,"is-active","dev"===e[1]),_(M,"href","javascript:void(0)"),H(N,"is-active","settings"===e[1]),_(t,"id","game-tabs-container"),_(t,"class","tabs svelte-ywoo4f")},m(g,h,k){f(g,t,h),p(t,s),p(s,n),p(n,a),p(s,i),p(s,l),p(l,r),p(s,o),p(s,u),p(u,d),p(s,m),p(s,v),p(v,b),p(s,w),p(s,y),p(y,j),p(s,L),p(s,C),p(C,T),p(s,S),p(s,N),p(N,M),k&&c(U),U=[$(a,"click",x(e[4])),$(r,"click",x(e[5])),$(d,"click",x(e[6])),$(b,"click",x(e[7])),$(j,"click",x(e[8])),$(T,"click",x(e[9])),$(M,"click",x(e[10]))]},p(e,t){2&t&&H(n,"is-active","overview"===e[1]),2&t&&H(l,"is-active","actions"===e[1]),2&t&&H(u,"is-active","achievements"===e[1]),2&t&&H(v,"is-active","rewards"===e[1]),2&t&&H(y,"is-active","stats"===e[1]),2&t&&H(C,"is-active","dev"===e[1]),2&t&&H(N,"is-active","settings"===e[1])},d(e){e&&g(t),c(U)}}}function He(e){let t;return{c(){t=w("Loading Game tabs...")},m(e,s){f(e,t,s)},p:i,d(e){e&&g(t)}}}function Se(e){let t;function s(e,t){return e[0]?Te:He}let n=s(e),a=n(e);return{c(){a.c(),t=y()},m(e,s){a.m(e,s),f(e,t,s)},p(e,[i]){n===(n=s(e))&&a?a.p(e,i):(a.d(1),a=n(e),a&&(a.c(),a.m(t.parentNode,t)))},i:i,o:i,d(e){a.d(e),e&&g(t)}}}function Ne(e,t,s){let{game:n}=t,{selectedTab:a="overview"}=t;const i=U();function l(e){i("message",{selectedTab:e})}return e.$set=e=>{"game"in e&&s(0,n=e.game),"selectedTab"in e&&s(1,a=e.selectedTab)},[n,a,l,i,()=>l("overview"),()=>l("actions"),()=>l("achievements"),()=>l("rewards"),()=>l("stats"),()=>l("dev"),()=>l("settings")]}class Me extends ce{constructor(e){super(),re(this,e,Ne,Se,u,{game:0,selectedTab:1})}}function Ue(e){let t,s,n,a,i,l,r,c,o=e[0].toLocaleDateString()+"",u=e[1].attributes.archived?"No":"Yes";return{c(){t=h("ul"),s=h("li"),n=w("Created : "),a=w(o),i=k(),l=h("li"),r=w("Active: "),c=w(u)},m(e,o){f(e,t,o),p(t,s),p(s,n),p(s,a),p(t,i),p(t,l),p(l,r),p(l,c)},p(e,t){1&t&&o!==(o=e[0].toLocaleDateString()+"")&&j(a,o),2&t&&u!==(u=e[1].attributes.archived?"No":"Yes")&&j(c,u)},d(e){e&&g(t)}}}function Ee(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Overview</p>',_(t,"class","has-vcentered-content")},m(e,s){f(e,t,s)},p:i,d(e){e&&g(t)}}}function Ae(e){let t;function s(e,t){return e[1]?Ue:Ee}let n=s(e),a=n(e);return{c(){a.c(),t=y()},m(e,s){a.m(e,s),f(e,t,s)},p(e,[i]){n===(n=s(e))&&a?a.p(e,i):(a.d(1),a=n(e),a&&(a.c(),a.m(t.parentNode,t)))},i:i,o:i,d(e){a.d(e),e&&g(t)}}}function Oe(e,t,s){let n,a;return m(e,je,e=>s(1,n=e)),e.$$.update=()=>{2&e.$$.dirty&&s(0,a=new Date(n.attributes.created_at))},[a,n]}class Pe extends ce{constructor(e){super(),re(this,e,Oe,Ae,u,{})}}function Ge(e,t,s){const n=e.slice();return n[18]=t[s][0],n[19]=t[s][1],n}function De(e,t,s){const n=e.slice();return n[22]=t[s],n}function Ie(e){let t,s=e[0].attributes.tags,n=[];for(let t=0;t<s.length;t+=1)n[t]=Re(De(e,s,t));return{c(){t=h("div");for(let e=0;e<n.length;e+=1)n[e].c();_(t,"class","tags")},m(e,s){f(e,t,s);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,a){if(1&a){let i;for(s=e[0].attributes.tags,i=0;i<s.length;i+=1){const l=De(e,s,i);n[i]?n[i].p(l,a):(n[i]=Re(l),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(e){e&&g(t),v(n,e)}}}function qe(e){let t;return{c(){t=w("--")},m(e,s){f(e,t,s)},p:i,d(e){e&&g(t)}}}function Re(e){let t,s,n=e[22]+"";return{c(){t=h("span"),s=w(n),_(t,"class","tag is-link")},m(e,n){f(e,t,n),p(t,s)},p(e,t){1&t&&n!==(n=e[22]+"")&&j(s,n)},d(e){e&&g(t)}}}function Be(e){let t,s,n,a;return{c(){t=h("div"),s=b("svg"),n=b("use"),_(n,"href","../images/fontawesome-sprite.svg#regular-times-circle"),_(s,"class","fa destroy svelte-jrsmli"),_(t,"class","column is-narrow")},m(i,l,r){f(i,t,l),p(t,s),p(s,n),r&&a(),a=$(s,"click",e[4])},p:i,d(e){e&&g(t),a()}}}function Ye(e){let t,s=Object.entries(e[1]),n=[];for(let t=0;t<s.length;t+=1)n[t]=Fe(Ge(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);f(e,t,s)},p(e,a){if(2&a){let i;for(s=Object.entries(e[1]),i=0;i<s.length;i+=1){const l=Ge(e,s,i);n[i]?n[i].p(l,a):(n[i]=Fe(l),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(e){v(n,e),e&&g(t)}}}function Fe(e){let t,s,n,a,i=e[18]+"",l=e[19]+"";return{c(){t=h("li"),s=w(i),n=w(" : "),a=w(l)},m(e,i){f(e,t,i),p(t,s),p(t,n),p(t,a)},p(e,t){2&t&&i!==(i=e[18]+"")&&j(s,i),2&t&&l!==(l=e[19]+"")&&j(a,l)},d(e){e&&g(t)}}}function Je(e){let t;return{c(){t=w("Update")},m(e,s){f(e,t,s)},d(e){e&&g(t)}}}function Ve(e){let t;return{c(){t=w("Create")},m(e,s){f(e,t,s)},d(e){e&&g(t)}}}function ze(e){let t,s;return{c(){t=h("button"),t.textContent="Cancel",_(t,"class","button is-primary is-light")},m(n,a,i){f(n,t,a),i&&s(),s=$(t,"click",x(e[6]))},p:i,d(e){e&&g(t),s()}}}function Ze(e){let t,s,n,a,l,r,o,u,d,m,v,y,T,S,N,M,U,E,A,O,P,G,D,I,q,B,Y,F,J,V,z,Z,K,Q,W,X,ee,te,se,ne,ae,ie,le,re,ce,oe,ue,de,me,pe,fe,ge,ve,he,be,we,ke,ye,$e,xe,_e,je,Le,Ce,Te,He,Se,Ne,Me,Ue,Ee,Ae,Oe,Pe,Ge,De,Re,Fe,Ze,We,Xe,et,tt,st,nt=e[0].attributes.name+"",at=Ke(e[0].attributes.value_type)+"",it=Qe(e[0].attributes.team_required)+"";function lt(e,t){return e[0].attributes.tags.length?Ie:qe}let rt=lt(e),ct=rt(e),ot=e[0].id&&Be(e),ut=e[1]&&Ye(e);function dt(e,t){return e[0].id?Je:Ve}let mt=dt(e),pt=mt(e),ft=e[0].id&&ze(e);return{c(){t=h("div"),s=h("div"),n=h("div"),a=h("div"),l=h("h1"),r=h("span"),o=w(nt),u=k(),d=b("svg"),m=b("use"),v=k(),y=h("table"),T=h("tbody"),S=h("tr"),N=h("td"),N.textContent="Value Type :",M=k(),U=h("td"),E=w(at),A=k(),O=h("tr"),P=h("td"),P.textContent="Team Id field :",G=k(),D=h("td"),I=w(it),q=k(),B=h("tr"),Y=h("td"),Y.textContent="Tags :",F=k(),J=h("td"),ct.c(),V=k(),z=h("tr"),z.innerHTML='<td class="svelte-jrsmli"></td> \n          <td class="svelte-jrsmli"><p class="help">\n              Need help? See \n              <a href="https://doc/place2be.io/actions" target="_blank"><span>Doc</span> \n                <svg class="fa fill-primary no-hover svelte-jrsmli"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p></td>',Z=k(),K=h("div"),Q=h("form"),W=h("div"),X=h("div"),ee=h("h1"),te=h("input"),se=k(),ot&&ot.c(),ne=k(),ae=h("div"),ie=h("button"),le=k(),re=h("h1"),re.textContent="Unable to Update Action :",ce=k(),oe=h("ul"),ut&&ut.c(),ue=k(),de=h("table"),me=h("tbody"),pe=h("tr"),fe=h("td"),fe.textContent="Value Type :",ge=k(),ve=h("td"),he=h("div"),be=h("select"),we=h("option"),we.textContent="Boolean (Yes | No)",ke=h("option"),ke.textContent="Integer",ye=h("option"),ye.textContent="Float",$e=h("option"),$e.textContent="String",xe=h("option"),xe.textContent="Date",_e=k(),je=h("tr"),Le=h("td"),Le.textContent="Team Id field :",Ce=k(),Te=h("td"),He=h("div"),Se=h("select"),Ne=h("option"),Ne.textContent="No, optional",Me=h("option"),Me.textContent="Yes, required",Ue=k(),Ee=h("tr"),Ae=h("td"),Ae.textContent="Tags :",Oe=k(),Pe=h("td"),Ge=h("input"),De=k(),Re=h("tr"),Fe=h("td"),Fe.innerHTML='<p class="help">\n                  Need help? See \n                  <a href="https://doc/place2be.io/actions" target="_blank"><span>Doc</span> \n                    <svg class="fa fill-primary no-hover svelte-jrsmli"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',Ze=k(),We=h("td"),Xe=h("button"),pt.c(),et=k(),ft&&ft.c(),H(r,"is-hidden",e[2]),_(m,"href","../images/fontawesome-sprite.svg#regular-edit"),_(d,"class","fa name-edit fill-primary no-hover svelte-jrsmli"),H(d,"is-hidden",e[2]),_(l,"id","action-name"),_(l,"class","title is-5 has-vcentered-text svelte-jrsmli"),_(a,"class","column"),_(n,"class","columns is-mobile"),_(N,"class","right svelte-jrsmli"),_(U,"class","is-value svelte-jrsmli"),_(P,"class","right svelte-jrsmli"),_(D,"class","is-value svelte-jrsmli"),_(Y,"class","right svelte-jrsmli"),_(J,"class","is-value svelte-jrsmli"),_(y,"class","table"),H(s,"is-hidden",e[2]||!e[0].id),_(te,"class","input reasonable-width"),_(te,"type","text"),_(te,"name","act[name]"),_(te,"placeholder","Action name"),_(ee,"id","reward-name"),_(ee,"class","title is-5 has-vcentered-text"),_(X,"class","column"),_(W,"class","columns is-mobile"),_(ie,"class","delete"),_(re,"class","title is-5"),_(ae,"class","notification is-danger"),H(ae,"is-hidden",!e[1]),_(fe,"class","right svelte-jrsmli"),we.__value="boolean",we.value=we.__value,ke.__value="int",ke.value=ke.__value,ye.__value="float",ye.value=ye.__value,$e.__value="string",$e.value=$e.__value,xe.__value="date",xe.value=xe.__value,_(be,"name","act[value_type]"),void 0===e[0].attributes.value_type&&R(()=>e[15].call(be)),_(he,"class","select"),_(ve,"class","svelte-jrsmli"),_(Le,"class","right svelte-jrsmli"),Ne.__value="false",Ne.value=Ne.__value,Me.__value="true",Me.value=Me.__value,_(Se,"name","act[team_required]"),void 0===e[0].attributes.team_required&&R(()=>e[16].call(Se)),_(He,"class","select"),_(Te,"class","svelte-jrsmli"),_(Ae,"class","right svelte-jrsmli"),_(Ge,"class","input"),_(Ge,"type","text"),_(Ge,"name","act[tags]"),_(Ge,"placeholder","comma separated, max. 5"),_(Pe,"class","svelte-jrsmli"),_(Fe,"class","svelte-jrsmli"),_(Xe,"class","button is-primary"),_(We,"class","svelte-jrsmli"),_(de,"class","table"),_(Q,"id",tt=(e[0].id||"new")+"-action-form"),_(Q,"class","svelte-jrsmli"),H(K,"is-hidden",!e[2]&&e[0].id),_(t,"class","item-box")},m(i,g,h){f(i,t,g),p(t,s),p(s,n),p(n,a),p(a,l),p(l,r),p(r,o),p(l,u),p(l,d),p(d,m),p(s,v),p(s,y),p(y,T),p(T,S),p(S,N),p(S,M),p(S,U),p(U,E),p(T,A),p(T,O),p(O,P),p(O,G),p(O,D),p(D,I),p(T,q),p(T,B),p(B,Y),p(B,F),p(B,J),ct.m(J,null),p(T,V),p(T,z),p(t,Z),p(t,K),p(K,Q),p(Q,W),p(W,X),p(X,ee),p(ee,te),L(te,e[0].attributes.name),p(W,se),ot&&ot.m(W,null),p(Q,ne),p(Q,ae),p(ae,ie),p(ae,le),p(ae,re),p(ae,ce),p(ae,oe),ut&&ut.m(oe,null),p(Q,ue),p(Q,de),p(de,me),p(me,pe),p(pe,fe),p(pe,ge),p(pe,ve),p(ve,he),p(he,be),p(be,we),p(be,ke),p(be,ye),p(be,$e),p(be,xe),C(be,e[0].attributes.value_type),p(me,_e),p(me,je),p(je,Le),p(je,Ce),p(je,Te),p(Te,He),p(He,Se),p(Se,Ne),p(Se,Me),C(Se,e[0].attributes.team_required),p(me,Ue),p(me,Ee),p(Ee,Ae),p(Ee,Oe),p(Ee,Pe),p(Pe,Ge),L(Ge,e[0].attributes.tags),p(me,De),p(me,Re),p(Re,Fe),p(Re,Ze),p(Re,We),p(We,Xe),pt.m(Xe,null),p(We,et),ft&&ft.m(We,null),h&&c(st),st=[$(d,"click",e[5]),$(te,"input",e[13]),$(ie,"click",x(e[14])),$(be,"change",e[15]),$(Se,"change",e[16]),$(Ge,"input",e[17]),$(Q,"submit",x(e[3]))]},p(e,[t]){1&t&&nt!==(nt=e[0].attributes.name+"")&&j(o,nt),4&t&&H(r,"is-hidden",e[2]),4&t&&H(d,"is-hidden",e[2]),1&t&&at!==(at=Ke(e[0].attributes.value_type)+"")&&j(E,at),1&t&&it!==(it=Qe(e[0].attributes.team_required)+"")&&j(I,it),rt===(rt=lt(e))&&ct?ct.p(e,t):(ct.d(1),ct=rt(e),ct&&(ct.c(),ct.m(J,null))),5&t&&H(s,"is-hidden",e[2]||!e[0].id),1&t&&te.value!==e[0].attributes.name&&L(te,e[0].attributes.name),e[0].id?ot?ot.p(e,t):(ot=Be(e),ot.c(),ot.m(W,null)):ot&&(ot.d(1),ot=null),e[1]?ut?ut.p(e,t):(ut=Ye(e),ut.c(),ut.m(oe,null)):ut&&(ut.d(1),ut=null),2&t&&H(ae,"is-hidden",!e[1]),1&t&&C(be,e[0].attributes.value_type),1&t&&C(Se,e[0].attributes.team_required),1&t&&Ge.value!==e[0].attributes.tags&&L(Ge,e[0].attributes.tags),mt!==(mt=dt(e))&&(pt.d(1),pt=mt(e),pt&&(pt.c(),pt.m(Xe,null))),e[0].id?ft?ft.p(e,t):(ft=ze(e),ft.c(),ft.m(We,null)):ft&&(ft.d(1),ft=null),1&t&&tt!==(tt=(e[0].id||"new")+"-action-form")&&_(Q,"id",tt),5&t&&H(K,"is-hidden",!e[2]&&e[0].id)},i:i,o:i,d(e){e&&g(t),ct.d(),ot&&ot.d(),ut&&ut.d(),pt.d(),ft&&ft.d(),c(st)}}}function Ke(e){let t="Unknown";switch(e){case"boolean":t="Boolean (Yes | No)";break;case"int":t="Integer";break;case"float":t="Float";break;case"string":t="String";break;case"date":t="Date"}return t}function Qe(e){let t="Unknown";switch(e){case!1:t="No, optional";break;case!0:t="Yes, required"}return t}function We(e,s,n){let i;m(e,je,e=>n(8,i=e));let{action:l={attributes:{name:"",value_type:"boolean",tags:""}}}=s;const r=U(),c=A("apiProtocol"),o=A("apiHost"),u=A("userId");let d=null,p=!1;function f(){n(2,p=!1)}function g(){n(1,d=null)}return e.$set=e=>{"action"in e&&n(0,l=e.action)},[l,d,p,async function(){let e,s;Le.set("saving"),l.id?(e=["users",u,"games",i.id,"actions",l.id],s="PUT"):(e=["users",u,"games",i.id,"actions"],s="POST");const m=t(c,o,...e),p=new FormData(document.getElementById((l.id||"new")+"-action-form")),g=await a(m,p,s);if(g.ok)if(Le.set("saved"),l.id){const e=await g.json();n(0,l=e.data),f()}else{const e=await g.json();r("message",{actions:e.data})}else{const e=await g.text();n(1,d=JSON.parse(e)),Le.set("failed")}},async function(){if(!confirm("Are you sure?     Once you delete an Action, there is no going back. Please be certain!"))return;Le.set("saving");const e=["users",u,"games",i.id,"actions",l.id],s=t(c,o,...e),m=await a(s,{},"DELETE");if(m.ok){Le.set("saved");const e=await m.json();r("message",{actions:e.data})}else{const e=await m.text();n(1,d=JSON.parse(e)),Le.set("failed")}},function(){n(2,p=!p)},f,g,i,r,c,o,u,function(){l.attributes.name=this.value,n(0,l)},()=>g(),function(){l.attributes.value_type=T(this),n(0,l)},function(){l.attributes.team_required=T(this),n(0,l)},function(){l.attributes.tags=this.value,n(0,l)}]}class Xe extends ce{constructor(e){super(),re(this,e,We,Ze,u,{action:0})}}function et(e,t,s){const n=e.slice();return n[4]=t[s],n}function tt(e){let t,s,n,a,i,l,r,c;const o=[at,nt],u=[];function d(e,t){return e[0].length?0:1}t=d(e),s=u[t]=o[t](e);const m=new Xe({});return m.$on("message",e[2]),{c(){s.c(),n=k(),a=h("hr"),i=k(),l=h("h1"),l.textContent="Create new Action :",r=k(),ne(m.$$.fragment),_(l,"class","title is-4")},m(e,s){u[t].m(e,s),f(e,n,s),f(e,a,s),f(e,i,s),f(e,l,s),f(e,r,s),ae(m,e,s),c=!0},p(e,a){let i=t;t=d(e),t===i?u[t].p(e,a):(Z(),W(u[i],1,1,()=>{u[i]=null}),K(),s=u[t],s||(s=u[t]=o[t](e),s.c()),Q(s,1),s.m(n.parentNode,n))},i(e){c||(Q(s),Q(m.$$.fragment,e),c=!0)},o(e){W(s),W(m.$$.fragment,e),c=!1},d(e){u[t].d(e),e&&g(n),e&&g(a),e&&g(i),e&&g(l),e&&g(r),ie(m,e)}}}function st(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Actions</p>',_(t,"class","has-vcentered-content")},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}function nt(e){let t;return{c(){t=h("p"),t.textContent="You don't have Actions  yet! Start by creating one below ↓"},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}function at(e){let t,s,n=[],a=new Map,i=e[0];const l=e=>e[4].id;for(let t=0;t<i.length;t+=1){let s=et(e,i,t),r=l(s);a.set(r,n[t]=it(r,s))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,a){for(let t=0;t<n.length;t+=1)n[t].m(e,a);f(e,t,a),s=!0},p(e,s){if(5&s){const i=e[0];Z(),n=se(n,s,l,1,e,i,a,t.parentNode,te,it,t,et),K()}},i(e){if(!s){for(let e=0;e<i.length;e+=1)Q(n[e]);s=!0}},o(e){for(let e=0;e<n.length;e+=1)W(n[e]);s=!1},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&g(t)}}}function it(e,t){let s,n;const a=new Xe({props:{action:t[4]}});return a.$on("message",t[2]),{key:e,first:null,c(){s=y(),ne(a.$$.fragment),this.first=s},m(e,t){f(e,s,t),ae(a,e,t),n=!0},p(e,t){const s={};1&t&&(s.action=e[4]),a.$set(s)},i(e){n||(Q(a.$$.fragment,e),n=!0)},o(e){W(a.$$.fragment,e),n=!1},d(e){e&&g(s),ie(a,e)}}}function lt(e){let t,s,n,a;const i=[st,tt],l=[];function r(e,t){return e[1]?1:0}return t=r(e),s=l[t]=i[t](e),{c(){s.c(),n=y()},m(e,s){l[t].m(e,s),f(e,n,s),a=!0},p(e,[a]){let c=t;t=r(e),t===c?l[t].p(e,a):(Z(),W(l[c],1,1,()=>{l[c]=null}),K(),s=l[t],s||(s=l[t]=i[t](e),s.c()),Q(s,1),s.m(n.parentNode,n))},i(e){a||(Q(s),a=!0)},o(e){W(s),a=!1},d(e){l[t].d(e),e&&g(n)}}}function rt(e,t,s){let a;m(e,je,e=>s(1,a=e));let i=[];return e.$$.update=()=>{2&e.$$.dirty&&a&&async function(e){const t=e.relationships.actions.links.related,a=await n(t);if(a.ok){const e=await a.json();s(0,i=e.data)}else error="Could not fetch Actions for this game"}(a)},[i,a,function(e){s(0,i=e.detail.actions)}]}class ct extends ce{constructor(e){super(),re(this,e,rt,lt,u,{})}}function ot(e){let t;return{c(){t=h("p"),t.textContent="Achievement Tab!"},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}class ut extends ce{constructor(e){super(),re(this,e,null,ot,u,{})}}function dt(e,t,s){const n=e.slice();return n[32]=t[s],n}function mt(e,t,s){const n=e.slice();return n[28]=t[s].namespaces,n[29]=t[s].value,n[30]=t,n[31]=s,n}function pt(e,t,s){const n=e.slice();return n[24]=t[s].key,n[25]=t[s].tuples,n[26]=t,n[27]=s,n}function ft(e,t,s){const n=e.slice();return n[24]=t[s][0],n[35]=t[s][1],n}function gt(e,t,s){const n=e.slice();return n[32]=t[s],n}function vt(e,t,s){const n=e.slice();return n[28]=t[s].namespaces,n[29]=t[s].value,n}function ht(e,t,s){const n=e.slice();return n[24]=t[s].key,n[25]=t[s].tuples,n}function bt(e){let t;return{c(){t=h("h1"),t.textContent="Assets :",_(t,"class","title is-6")},m(e,s){f(e,t,s)},d(e){e&&g(t)}}}function wt(e){let t,s=e[28],n=[];for(let t=0;t<s.length;t+=1)n[t]=yt(gt(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);f(e,t,s)},p(e,a){if(1&a[0]){let i;for(s=e[28],i=0;i<s.length;i+=1){const l=gt(e,s,i);n[i]?n[i].p(l,a):(n[i]=yt(l),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(e){v(n,e),e&&g(t)}}}function kt(e){let t,s,n,a=e[28].length>1&&$t(e);return{c(){t=h("p"),t.innerHTML='<span class="tag is-link">\n                    default\n                  </span>',s=k(),a&&a.c(),n=y(),_(t,"class","svelte-1kdutk7")},m(e,i){f(e,t,i),f(e,s,i),a&&a.m(e,i),f(e,n,i)},p(e,t){e[28].length>1?a?a.p(e,t):(a=$t(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){e&&g(t),e&&g(s),a&&a.d(e),e&&g(n)}}}function yt(e){let t,s,n,a,i=e[32]+"";return{c(){t=h("p"),s=h("span"),n=w(i),a=k(),_(s,"class","tag is-link"),_(t,"class","svelte-1kdutk7")},m(e,i){f(e,t,i),p(t,s),p(s,n),p(t,a)},p(e,t){1&t[0]&&i!==(i=e[32]+"")&&j(n,i)},d(e){e&&g(t)}}}function $t(e){let t,s,n,a,i,l,r=e[28].length-1+"",c=e[28].length-1==1?"other":"others";return{c(){t=h("p"),s=h("span"),n=w("+ "),a=w(r),i=k(),l=w(c),_(s,"class","tag is-link"),_(t,"class","svelte-1kdutk7")},m(e,r){f(e,t,r),p(t,s),p(s,n),p(s,a),p(s,i),p(s,l)},p(e,t){1&t[0]&&r!==(r=e[28].length-1+"")&&j(a,r),1&t[0]&&c!==(c=e[28].length-1==1?"other":"others")&&j(l,c)},d(e){e&&g(t)}}}function xt(e){let t,s,n,a,i,l,r=e[29]+"";function c(e,t){return(null==n||1&t[0])&&(n=!!e[28].includes("default")),n?kt:wt}let o=c(e,[-1]),u=o(e);return{c(){t=h("div"),s=h("div"),u.c(),a=k(),i=h("div"),l=w(r),_(s,"class","column is-4 right namespace-container svelte-1kdutk7"),_(i,"class","column asset-value is-family-monospace svelte-1kdutk7"),_(t,"class","columns is-vcentered svelte-1kdutk7")},m(e,n){f(e,t,n),p(t,s),u.m(s,null),p(t,a),p(t,i),p(i,l)},p(e,t){o===(o=c(e,t))&&u?u.p(e,t):(u.d(1),u=o(e),u&&(u.c(),u.m(s,null))),1&t[0]&&r!==(r=e[29]+"")&&j(l,r)},d(e){e&&g(t),u.d()}}}function _t(e){let t,s,n,a,i,l,r,c,o,u=e[24]+"",d=e[25],m=[];for(let t=0;t<d.length;t+=1)m[t]=xt(vt(e,d,t));return{c(){t=h("div"),s=h("div"),n=h("div"),n.innerHTML="<strong>key :</strong>",a=k(),i=h("div"),l=w(u),r=k(),c=h("div"),c.innerHTML='<div class="column is-4 right svelte-1kdutk7"><strong>values :</strong></div>',o=k();for(let e=0;e<m.length;e+=1)m[e].c();_(n,"class","column is-4 right svelte-1kdutk7"),_(i,"class","column asset-value is-family-monospace svelte-1kdutk7"),_(s,"class","columns is-vcentered svelte-1kdutk7"),_(c,"class","columns svelte-1kdutk7"),_(t,"class","asset-wrapper svelte-1kdutk7")},m(e,u){f(e,t,u),p(t,s),p(s,n),p(s,a),p(s,i),p(i,l),p(t,r),p(t,c),p(t,o);for(let e=0;e<m.length;e+=1)m[e].m(t,null)},p(e,s){if(1&s[0]&&u!==(u=e[24]+"")&&j(l,u),1&s[0]){let n;for(d=e[25],n=0;n<d.length;n+=1){const a=vt(e,d,n);m[n]?m[n].p(a,s):(m[n]=xt(a),m[n].c(),m[n].m(t,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}},d(e){e&&g(t),v(m,e)}}}function jt(e){let t,s,n,a;return{c(){t=h("div"),s=b("svg"),n=b("use"),_(n,"href","../images/fontawesome-sprite.svg#regular-times-circle"),_(s,"class","fa destroy svelte-1kdutk7"),_(t,"class","column is-narrow")},m(i,l,r){f(i,t,l),p(t,s),p(s,n),r&&a(),a=$(s,"click",e[4])},p:i,d(e){e&&g(t),a()}}}function Lt(e){let t,s=Object.entries(e[1]),n=[];for(let t=0;t<s.length;t+=1)n[t]=Ct(ft(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);f(e,t,s)},p(e,a){if(2&a[0]){let i;for(s=Object.entries(e[1]),i=0;i<s.length;i+=1){const l=ft(e,s,i);n[i]?n[i].p(l,a):(n[i]=Ct(l),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(e){v(n,e),e&&g(t)}}}function Ct(e){let t,s,n,a,i=e[24]+"",l=e[35]+"";return{c(){t=h("li"),s=w(i),n=w(" : "),a=w(l)},m(e,i){f(e,t,i),p(t,s),p(t,n),p(t,a)},p(e,t){2&t[0]&&i!==(i=e[24]+"")&&j(s,i),2&t[0]&&l!==(l=e[35]+"")&&j(a,l)},d(e){e&&g(t)}}}function Tt(e){let t,s;function n(e,s){return(null==t||1&s[0])&&(t=!!e[28].includes("default")),t?St:Ht}let a=n(e,[-1]),i=a(e);return{c(){i.c(),s=y()},m(e,t){i.m(e,t),f(e,s,t)},p(e,t){a===(a=n(e,t))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(s.parentNode,s)))},d(e){i.d(e),e&&g(s)}}}function Ht(e){let t,s;return{c(){t=h("button"),_(t,"class","delete is-small")},m(n,a,i){f(n,t,a),i&&s(),s=$(t,"click",x((function(){o(e[6](e[27],e[32]))&&e[6](e[27],e[32]).apply(this,arguments)})))},p(t,s){e=t},d(e){e&&g(t),s()}}}function St(e){let t,s;return{c(){t=h("button"),_(t,"class","delete is-small")},m(n,a,i){f(n,t,a),i&&s(),s=$(t,"click",x((function(){o(e[5](e[27],e[32]))&&e[5](e[27],e[32]).apply(this,arguments)})))},p(t,s){e=t},d(e){e&&g(t),s()}}}function Nt(e){let t,s,n,a,i,l,r,c,o,u=e[32]+"",d="default"!==e[32]&&Tt(e);return{c(){t=h("p"),s=h("span"),n=w(u),a=k(),i=h("input"),c=k(),d&&d.c(),o=k(),_(i,"class","input"),_(i,"type","hidden"),_(i,"name",l="reward[assets]["+e[27]+"][tuples]["+e[31]+"][namespaces][]"),i.value=r=e[32],_(s,"class","tag is-link"),_(t,"class","svelte-1kdutk7")},m(e,l){f(e,t,l),p(t,s),p(s,n),p(s,a),p(s,i),p(s,c),d&&d.m(s,null),p(t,o)},p(e,t){1&t[0]&&u!==(u=e[32]+"")&&j(n,u),1&t[0]&&r!==(r=e[32])&&(i.value=r),"default"!==e[32]?d?d.p(e,t):(d=Tt(e),d.c(),d.m(s,null)):d&&(d.d(1),d=null)},d(e){e&&g(t),d&&d.d()}}}function Mt(e){let t,s,n,a,i,l,r,c=e[28],o=[];for(let t=0;t<c.length;t+=1)o[t]=Nt(dt(e,c,t));function u(){e[21].call(i,e[29],e[30],e[31])}return{c(){t=h("div"),s=h("div");for(let e=0;e<o.length;e+=1)o[e].c();n=k(),a=h("div"),i=h("textarea"),_(s,"class","column is-4 right namespace-container svelte-1kdutk7"),_(i,"class","input is-family-monospace"),_(i,"name",l="reward[assets]["+e[27]+"][tuples]["+e[31]+"][value]"),_(i,"placeholder","asset value"),_(a,"class","column asset-value is-family-monospace svelte-1kdutk7"),_(t,"class","columns is-vcentered svelte-1kdutk7")},m(l,c,d){f(l,t,c),p(t,s);for(let e=0;e<o.length;e+=1)o[e].m(s,null);p(t,n),p(t,a),p(a,i),L(i,e[29]),d&&r(),r=$(i,"input",u)},p(t,n){if(e=t,97&n[0]){let t;for(c=e[28],t=0;t<c.length;t+=1){const a=dt(e,c,t);o[t]?o[t].p(a,n):(o[t]=Nt(a),o[t].c(),o[t].m(s,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=c.length}1&n[0]&&L(i,e[29])},d(e){e&&g(t),v(o,e),r()}}}function Ut(e){let t,s,n,a,i,l,r,o,u,d,m,b,w,y,x,j;function C(){e[20].call(l,e[24],e[26],e[27])}let T=e[25],H=[];for(let t=0;t<T.length;t+=1)H[t]=Mt(mt(e,T,t));function S(...t){return e[22](e[27],...t)}return{c(){t=h("div"),s=h("div"),n=h("div"),n.innerHTML="<strong>key :</strong>",a=k(),i=h("div"),l=h("input"),o=k(),u=h("div"),u.innerHTML='<div class="column is-4 right svelte-1kdutk7"><strong>values :</strong></div>',d=k();for(let e=0;e<H.length;e+=1)H[e].c();m=k(),b=h("div"),w=h("div"),y=h("p"),x=h("a"),x.textContent="Remove",_(n,"class","column is-4 right svelte-1kdutk7"),_(l,"class","input is-family-monospace"),_(l,"type","text"),_(l,"name",r="reward[assets]["+e[27]+"][key]"),_(l,"placeholder","asset key"),_(i,"class","column asset-value svelte-1kdutk7"),_(s,"class","columns is-vcentered svelte-1kdutk7"),_(u,"class","columns svelte-1kdutk7"),_(x,"href","javascript:void(0)"),_(y,"class","help"),_(w,"class","column has-vcentered-content is-value svelte-1kdutk7"),_(b,"class","columns is-vcentered svelte-1kdutk7"),_(t,"class","asset-wrapper svelte-1kdutk7")},m(r,g,v){f(r,t,g),p(t,s),p(s,n),p(s,a),p(s,i),p(i,l),L(l,e[24]),p(t,o),p(t,u),p(t,d);for(let e=0;e<H.length;e+=1)H[e].m(t,null);p(t,m),p(t,b),p(b,w),p(w,y),p(y,x),v&&c(j),j=[$(l,"input",C),$(x,"click",S)]},p(s,n){if(e=s,1&n[0]&&l.value!==e[24]&&L(l,e[24]),97&n[0]){let s;for(T=e[25],s=0;s<T.length;s+=1){const a=mt(e,T,s);H[s]?H[s].p(a,n):(H[s]=Mt(a),H[s].c(),H[s].m(t,m))}for(;s<H.length;s+=1)H[s].d(1);H.length=T.length}},d(e){e&&g(t),v(H,e),c(j)}}}function Et(e){let t;return{c(){t=w("Update")},m(e,s){f(e,t,s)},d(e){e&&g(t)}}}function At(e){let t;return{c(){t=w("Create")},m(e,s){f(e,t,s)},d(e){e&&g(t)}}}function Ot(e){let t,s;return{c(){t=h("button"),t.textContent="Cancel",_(t,"class","button is-primary is-light")},m(n,a,i){f(n,t,a),i&&s(),s=$(t,"click",x(e[10]))},p:i,d(e){e&&g(t),s()}}}function Pt(e){let t,s,n,a,l,r,o,u,d,m,y,T,S,N,M,U,E,A,O,P,G,D,I,q,B,Y,F,J,V,z,Z,K,Q,W,X,ee,te,se,ne,ae,ie,le,re,ce,oe,ue,de,me,pe,fe,ge,ve,he,be,we,ke,ye,$e,xe,_e,je,Le,Ce,Te,He,Se,Ne,Me,Ue,Ee,Ae,Oe,Pe=e[0].attributes.name+"",Ge=Gt(e[0].attributes.source)+"",De=e[0].attributes.assets.length&&bt(),Ie=e[0].attributes.assets,qe=[];for(let t=0;t<Ie.length;t+=1)qe[t]=_t(ht(e,Ie,t));let Re=e[0].id&&jt(e),Be=e[1]&&Lt(e),Ye=e[0].attributes.assets,Fe=[];for(let t=0;t<Ye.length;t+=1)Fe[t]=Ut(pt(e,Ye,t));function Je(e,t){return e[0].id?Et:At}let Ve=Je(e),ze=Ve(e),Ze=e[0].id&&Ot(e);return{c(){t=h("div"),s=h("div"),n=h("div"),a=h("div"),l=h("h1"),r=h("span"),o=w(Pe),u=k(),d=b("svg"),m=b("use"),y=k(),T=h("table"),S=h("tbody"),N=h("tr"),M=h("td"),M.textContent="Source Type :",U=k(),E=h("td"),A=w(Ge),O=k(),De&&De.c(),P=k();for(let e=0;e<qe.length;e+=1)qe[e].c();G=k(),D=h("p"),D.innerHTML='\n      Need help? See \n      <a href="https://doc/place2be.io/rewards" target="_blank"><span>Doc</span> \n        <svg class="fa fill-primary no-hover svelte-1kdutk7"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a>',I=k(),q=h("div"),B=h("form"),Y=h("div"),F=h("div"),J=h("h1"),V=h("input"),z=k(),Re&&Re.c(),Z=k(),K=h("div"),Q=h("button"),W=k(),X=h("h1"),X.textContent="Unable to Update Reward :",ee=k(),te=h("ul"),Be&&Be.c(),se=k(),ne=h("table"),ae=h("tbody"),ie=h("tr"),le=h("td"),le.textContent="Source Type :",re=k(),ce=h("td"),oe=h("div"),ue=h("select"),de=h("option"),de.textContent="Virtual money",me=h("option"),me.textContent="CSV List",pe=h("option"),pe.textContent="External URI",fe=h("option"),fe.textContent="Scheme",ge=k(),ve=h("h1"),ve.textContent="Assets :",he=k(),be=h("p"),be.innerHTML='\n        Assets are key-value entries you can associate with a Reward.\n        Everytime a Reward will be involved, its associated assets will be returned as well.\n        You can have multiple assets per Reward, carrying any information you want.\n        <br>\n        See assets\n          <a href="https://doc/place2be.io/assets" target="_blank"><span>Doc</span> \n            <svg class="fa fill-primary no-hover svelte-1kdutk7"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a>\n        for common use cases and examples.\n      ',we=k(),ke=h("input"),ye=k();for(let e=0;e<Fe.length;e+=1)Fe[e].c();$e=k(),xe=h("div"),_e=h("div"),je=h("button"),je.textContent="+ New Asset",Le=k(),Ce=h("table"),Te=h("tbody"),He=h("tr"),Se=h("td"),Se.innerHTML='<p class="help">\n                Need help? See \n                <a href="https://doc/place2be.io/rewards" target="_blank"><span>Doc</span> \n                  <svg class="fa fill-primary no-hover svelte-1kdutk7"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',Ne=k(),Me=h("td"),Ue=h("button"),ze.c(),Ee=k(),Ze&&Ze.c(),H(r,"is-hidden",e[2]),_(m,"href","../images/fontawesome-sprite.svg#regular-edit"),_(d,"class","fa name-edit fill-primary no-hover svelte-1kdutk7"),H(d,"is-hidden",e[2]),_(l,"id","reward-name"),_(l,"class","title is-5 has-vcentered-text svelte-1kdutk7"),_(a,"class","column"),_(n,"class","columns is-mobile"),_(M,"class","right svelte-1kdutk7"),_(E,"class","is-value svelte-1kdutk7"),_(T,"class","table"),_(D,"class","help"),H(s,"is-hidden",e[2]||!e[0].id),_(V,"class","input reasonable-width"),_(V,"type","text"),_(V,"name","reward[name]"),_(V,"placeholder","Reward name"),_(J,"id","reward-name"),_(J,"class","title is-5 has-vcentered-text svelte-1kdutk7"),_(F,"class","column"),_(Y,"class","columns is-mobile"),_(Q,"class","delete"),_(X,"class","title is-5"),_(K,"class","notification is-danger"),H(K,"is-hidden",!e[1]),_(le,"class","right svelte-1kdutk7"),de.__value="virtual",de.value=de.__value,me.__value="list",me.value=me.__value,me.disabled="disabled",pe.__value="uri",pe.value=pe.__value,pe.disabled="disabled",fe.__value="scheme",fe.value=fe.__value,fe.disabled="disabled",_(ue,"name","reward[source]"),void 0===e[0].attributes.source&&R(()=>e[19].call(ue)),_(oe,"class","select"),_(ce,"class","is-value svelte-1kdutk7"),_(ie,"class","has-vcentered-content"),_(ne,"class","table"),_(ve,"class","title is-6"),_(be,"class","help"),_(ke,"class","input"),_(ke,"type","hidden"),_(ke,"name","reward[assets][0][key]"),ke.value="",_(je,"class","button is-primary is-outlined is-small"),_(_e,"class","column right svelte-1kdutk7"),_(xe,"class","columns"),_(Ue,"class","button is-primary"),_(He,"class","has-vcentered-content"),_(Ce,"class","table"),_(B,"id",Ae=(e[0].id||"new")+"-reward-form"),_(B,"class","svelte-1kdutk7"),H(q,"is-hidden",!e[2]&&e[0].id),_(t,"class","item-box")},m(i,g,v){f(i,t,g),p(t,s),p(s,n),p(n,a),p(a,l),p(l,r),p(r,o),p(l,u),p(l,d),p(d,m),p(s,y),p(s,T),p(T,S),p(S,N),p(N,M),p(N,U),p(N,E),p(E,A),p(s,O),De&&De.m(s,null),p(s,P);for(let e=0;e<qe.length;e+=1)qe[e].m(s,null);p(s,G),p(s,D),p(t,I),p(t,q),p(q,B),p(B,Y),p(Y,F),p(F,J),p(J,V),L(V,e[0].attributes.name),p(Y,z),Re&&Re.m(Y,null),p(B,Z),p(B,K),p(K,Q),p(K,W),p(K,X),p(K,ee),p(K,te),Be&&Be.m(te,null),p(B,se),p(B,ne),p(ne,ae),p(ae,ie),p(ie,le),p(ie,re),p(ie,ce),p(ce,oe),p(oe,ue),p(ue,de),p(ue,me),p(ue,pe),p(ue,fe),C(ue,e[0].attributes.source),p(B,ge),p(B,ve),p(B,he),p(B,be),p(B,we),p(B,ke),p(B,ye);for(let e=0;e<Fe.length;e+=1)Fe[e].m(B,null);p(B,$e),p(B,xe),p(xe,_e),p(_e,je),p(B,Le),p(B,Ce),p(Ce,Te),p(Te,He),p(He,Se),p(He,Ne),p(He,Me),p(Me,Ue),ze.m(Ue,null),p(Me,Ee),Ze&&Ze.m(Me,null),v&&c(Oe),Oe=[$(d,"click",e[9]),$(V,"input",e[17]),$(Q,"click",x(e[18])),$(ue,"change",e[19]),$(je,"click",x(e[23])),$(B,"submit",x(e[3]))]},p(e,t){if(1&t[0]&&Pe!==(Pe=e[0].attributes.name+"")&&j(o,Pe),4&t[0]&&H(r,"is-hidden",e[2]),4&t[0]&&H(d,"is-hidden",e[2]),1&t[0]&&Ge!==(Ge=Gt(e[0].attributes.source)+"")&&j(A,Ge),e[0].attributes.assets.length?De||(De=bt(),De.c(),De.m(s,P)):De&&(De.d(1),De=null),1&t[0]){let n;for(Ie=e[0].attributes.assets,n=0;n<Ie.length;n+=1){const a=ht(e,Ie,n);qe[n]?qe[n].p(a,t):(qe[n]=_t(a),qe[n].c(),qe[n].m(s,G))}for(;n<qe.length;n+=1)qe[n].d(1);qe.length=Ie.length}if(5&t[0]&&H(s,"is-hidden",e[2]||!e[0].id),1&t[0]&&V.value!==e[0].attributes.name&&L(V,e[0].attributes.name),e[0].id?Re?Re.p(e,t):(Re=jt(e),Re.c(),Re.m(Y,null)):Re&&(Re.d(1),Re=null),e[1]?Be?Be.p(e,t):(Be=Lt(e),Be.c(),Be.m(te,null)):Be&&(Be.d(1),Be=null),2&t[0]&&H(K,"is-hidden",!e[1]),1&t[0]&&C(ue,e[0].attributes.source),225&t[0]){let s;for(Ye=e[0].attributes.assets,s=0;s<Ye.length;s+=1){const n=pt(e,Ye,s);Fe[s]?Fe[s].p(n,t):(Fe[s]=Ut(n),Fe[s].c(),Fe[s].m(B,$e))}for(;s<Fe.length;s+=1)Fe[s].d(1);Fe.length=Ye.length}Ve!==(Ve=Je(e))&&(ze.d(1),ze=Ve(e),ze&&(ze.c(),ze.m(Ue,null))),e[0].id?Ze?Ze.p(e,t):(Ze=Ot(e),Ze.c(),Ze.m(Me,null)):Ze&&(Ze.d(1),Ze=null),1&t[0]&&Ae!==(Ae=(e[0].id||"new")+"-reward-form")&&_(B,"id",Ae),5&t[0]&&H(q,"is-hidden",!e[2]&&e[0].id)},i:i,o:i,d(e){e&&g(t),De&&De.d(),v(qe,e),Re&&Re.d(),Be&&Be.d(),v(Fe,e),ze.d(),Ze&&Ze.d(),c(Oe)}}}function Gt(e){let t="Unknown";switch(e){case"virtual":t="Virtual money";break;case"list":t="CSV List";break;case"uri":t="External URI";break;case"scheme":t="Scheme"}return t}function Dt(e,s,n){let i;m(e,je,e=>n(12,i=e));let{reward:l={attributes:{name:"",source:"virtual",assets:[{key:"",tuples:[{namespaces:i.attributes.namespaces,value:""}]}]}}}=s;const r=U(),c=A("apiProtocol"),o=A("apiHost"),u=A("userId");let d=null,p=!1;function f(e){n(0,l.attributes.assets=l.attributes.assets.filter((t,s)=>s!==e),l)}function g(){n(0,l.attributes.assets=[...l.attributes.assets,{key:"",tuples:[{namespaces:i.attributes.namespaces,value:""}]}],l)}function v(){n(2,p=!1)}function h(){n(1,d=null)}return e.$set=e=>{"reward"in e&&n(0,l=e.reward)},[l,d,p,async function(){let e,s;Le.set("saving"),l.id?(e=["users",u,"games",i.id,"rewards",l.id],s="PUT"):(e=["users",u,"games",i.id,"rewards"],s="POST");const m=t(c,o,...e),p=new FormData(document.getElementById((l.id||"new")+"-reward-form")),f=await a(m,p,s);if(f.ok)if(Le.set("saved"),l.id){const e=await f.json();n(0,l=e.data),v()}else{const e=await f.json();r("message",{rewards:e.data})}else{const e=await f.text();n(1,d=JSON.parse(e)),Le.set("failed")}},async function(){Le.set("saving");const e=["users",u,"games",i.id,"rewards",l.id],s=t(c,o,...e),m=await a(s,{},"DELETE");if(m.ok){Le.set("saved");const e=await m.json();r("message",{rewards:e.data})}else{const e=await m.text();n(1,d=JSON.parse(e)),Le.set("failed")}},function(e,t){n(0,l.attributes.assets=l.attributes.assets.map((s,n)=>n!==e?s:{key:s.key,tuples:s.tuples.map(e=>({namespaces:e.namespaces.filter(e=>e!==t),value:e.value}))}),l),n(0,l.attributes.assets=l.attributes.assets.map((s,n)=>n!==e?s:{key:s.key,tuples:[...s.tuples,{namespaces:[t],value:""}]}),l)},function(e,t){n(0,l.attributes.assets=l.attributes.assets.map((s,n)=>n!==e?s:{key:s.key,tuples:s.tuples.filter(e=>!e.namespaces.includes(t))}),l),n(0,l.attributes.assets[0].tuples[0].namespaces=[...l.attributes.assets[0].tuples[0].namespaces,t],l)},f,g,function(){n(2,p=!p)},v,h,i,r,c,o,u,function(){l.attributes.name=this.value,n(0,l)},()=>h(),function(){l.attributes.source=T(this),n(0,l)},function(e,t,s){t[s].key=this.value,n(0,l)},function(e,t,s){t[s].value=this.value,n(0,l)},e=>f(e),()=>g()]}class It extends ce{constructor(e){super(),re(this,e,Dt,Pt,u,{reward:0},[-1,-1])}}function qt(e,t,s){const n=e.slice();return n[4]=t[s],n}function Rt(e){let t,s,n,a,i,l,r,c;const o=[Ft,Yt],u=[];function d(e,t){return e[0].length?0:1}t=d(e),s=u[t]=o[t](e);const m=new It({});return m.$on("message",e[2]),{c(){s.c(),n=k(),a=h("hr"),i=k(),l=h("h1"),l.textContent="Create new Reward :",r=k(),ne(m.$$.fragment),_(l,"class","title is-4")},m(e,s){u[t].m(e,s),f(e,n,s),f(e,a,s),f(e,i,s),f(e,l,s),f(e,r,s),ae(m,e,s),c=!0},p(e,a){let i=t;t=d(e),t===i?u[t].p(e,a):(Z(),W(u[i],1,1,()=>{u[i]=null}),K(),s=u[t],s||(s=u[t]=o[t](e),s.c()),Q(s,1),s.m(n.parentNode,n))},i(e){c||(Q(s),Q(m.$$.fragment,e),c=!0)},o(e){W(s),W(m.$$.fragment,e),c=!1},d(e){u[t].d(e),e&&g(n),e&&g(a),e&&g(i),e&&g(l),e&&g(r),ie(m,e)}}}function Bt(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Rewards</p>',_(t,"class","has-vcentered-content")},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}function Yt(e){let t;return{c(){t=h("p"),t.textContent="You don't have Rewards yet! Start by creating one below ↓"},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}function Ft(e){let t,s,n=[],a=new Map,i=e[0];const l=e=>e[4].id;for(let t=0;t<i.length;t+=1){let s=qt(e,i,t),r=l(s);a.set(r,n[t]=Jt(r,s))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,a){for(let t=0;t<n.length;t+=1)n[t].m(e,a);f(e,t,a),s=!0},p(e,s){if(5&s){const i=e[0];Z(),n=se(n,s,l,1,e,i,a,t.parentNode,te,Jt,t,qt),K()}},i(e){if(!s){for(let e=0;e<i.length;e+=1)Q(n[e]);s=!0}},o(e){for(let e=0;e<n.length;e+=1)W(n[e]);s=!1},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&g(t)}}}function Jt(e,t){let s,n;const a=new It({props:{reward:t[4]}});return a.$on("message",t[2]),{key:e,first:null,c(){s=y(),ne(a.$$.fragment),this.first=s},m(e,t){f(e,s,t),ae(a,e,t),n=!0},p(e,t){const s={};1&t&&(s.reward=e[4]),a.$set(s)},i(e){n||(Q(a.$$.fragment,e),n=!0)},o(e){W(a.$$.fragment,e),n=!1},d(e){e&&g(s),ie(a,e)}}}function Vt(e){let t,s,n,a;const i=[Bt,Rt],l=[];function r(e,t){return e[1]?1:0}return t=r(e),s=l[t]=i[t](e),{c(){s.c(),n=y()},m(e,s){l[t].m(e,s),f(e,n,s),a=!0},p(e,[a]){let c=t;t=r(e),t===c?l[t].p(e,a):(Z(),W(l[c],1,1,()=>{l[c]=null}),K(),s=l[t],s||(s=l[t]=i[t](e),s.c()),Q(s,1),s.m(n.parentNode,n))},i(e){a||(Q(s),a=!0)},o(e){W(s),a=!1},d(e){l[t].d(e),e&&g(n)}}}function zt(e,t,s){let a;m(e,je,e=>s(1,a=e));let i=[];return e.$$.update=()=>{2&e.$$.dirty&&a&&async function(e){const t=e.relationships.rewards.links.related,a=await n(t);if(a.ok){const e=await a.json();s(0,i=e.data)}else error="Could not fetch Rewards for this game"}(a)},[i,a,function(e){s(0,i=e.detail.rewards)}]}class Zt extends ce{constructor(e){super(),re(this,e,zt,Vt,u,{})}}function Kt(e){let t;return{c(){t=h("p"),t.textContent="Stats Tab!"},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}class Qt extends ce{constructor(e){super(),re(this,e,null,Kt,u,{})}}function Wt(e){let t;return{c(){t=h("p"),t.textContent="Dev Tab!"},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}class Xt extends ce{constructor(e){super(),re(this,e,null,Wt,u,{})}}function es(e,t,s){const n=e.slice();return n[13]=t[s],n[15]=s,n}function ts(e,t,s){const n=e.slice();return n[16]=t[s][0],n[17]=t[s][1],n}function ss(e){let t,s,n,a,i,l,r,o,u,d,m,v,b,w,y,j,L,C,T,S,N,M,U,E,A,O,P,G,D,I,q,R,B,Y,F,J,V,z,Z,K,Q,W,X,te,ne,ae,ie,le,re,ce,oe,ue,de,me,pe,fe=[],ge=new Map,ve=e[0]&&as(e),he=e[1].attributes.namespaces;const be=e=>e[15];for(let t=0;t<he.length;t+=1){let s=es(e,he,t),n=be(s);ge.set(n,fe[t]=cs(n,s))}return{c(){t=h("form"),s=h("div"),n=h("button"),a=k(),i=h("h1"),i.textContent="Unable to Update Game :",l=k(),r=h("ul"),ve&&ve.c(),o=k(),u=h("div"),d=h("label"),d.textContent="Game Name",m=k(),v=h("div"),b=h("input"),y=k(),j=h("div"),L=h("label"),L.textContent="Description",C=k(),T=h("div"),S=h("input"),M=k(),U=h("p"),U.textContent="Game and description won't be visible to your players.",E=k(),A=h("div"),O=h("label"),O.textContent="Namespaces",P=k(),G=h("div");for(let e=0;e<fe.length;e+=1)fe[e].c();D=k(),I=h("input"),q=k(),R=h("button"),R.textContent="Add",B=k(),Y=h("button"),Y.textContent="Update Settings",F=k(),J=h("hr"),V=k(),z=h("h1"),z.textContent="Danger Zone :",Z=k(),K=h("form"),Q=h("div"),W=h("input"),te=k(),ne=h("button"),ne.textContent="Archive this Game",ae=k(),ie=h("button"),ie.textContent="Reactivate this Game",le=k(),re=h("p"),re.textContent="Once you archive a game, no player will be able to access it anymore. Please be certain!",ce=k(),oe=h("div"),ue=h("button"),ue.textContent="Delete this Game",de=k(),me=h("p"),me.textContent="Once you delete a game, there is no going back. Please be certain!",_(n,"class","delete"),_(i,"class","title is-5"),_(s,"class","notification is-danger"),H(s,"is-hidden",!e[0]),_(d,"class","label"),_(b,"name","game[name]"),_(b,"class","input reasonable-width"),_(b,"type","text"),b.value=w=e[1].attributes.name,_(v,"class","control svelte-1lhevj4"),_(u,"class","field"),_(L,"class","label"),_(S,"name","game[description]"),_(S,"class","input"),_(S,"type","text"),S.value=N=e[1].attributes.description,_(T,"class","control svelte-1lhevj4"),_(U,"class","help"),_(j,"class","field"),_(O,"class","label"),_(I,"id","new-namespace"),_(I,"class","input is-small svelte-1lhevj4"),_(I,"type","text"),_(I,"placeholder","New"),_(R,"class","button is-primary is-outlined is-small"),_(G,"class","field is-grouped is-grouped-multiline has-vcentered-content"),_(A,"class","field"),_(Y,"class","button is-link save svelte-1lhevj4"),_(t,"id","settings-form"),_(z,"class","title is-4"),_(W,"name","game[archived]"),_(W,"class","input"),_(W,"type","hidden"),W.value=X=!e[1].attributes.archived,_(ne,"class","button is-danger is-outlined svelte-1lhevj4"),H(ne,"is-hidden",e[1].attributes.archived),_(ie,"class","button is-danger is-outlined svelte-1lhevj4"),H(ie,"is-hidden",!e[1].attributes.archived),_(re,"class","help"),_(Q,"class","field"),_(K,"id","danger-form"),_(ue,"class","button is-danger is-outlined svelte-1lhevj4"),_(me,"class","help"),_(oe,"class","field")},m(g,h,w){f(g,t,h),p(t,s),p(s,n),p(s,a),p(s,i),p(s,l),p(s,r),ve&&ve.m(r,null),p(t,o),p(t,u),p(u,d),p(u,m),p(u,v),p(v,b),p(t,y),p(t,j),p(j,L),p(j,C),p(j,T),p(T,S),p(j,M),p(j,U),p(t,E),p(t,A),p(A,O),p(A,P),p(A,G);for(let e=0;e<fe.length;e+=1)fe[e].m(G,null);p(G,D),p(G,I),p(G,q),p(G,R),p(t,B),p(t,Y),f(g,F,h),f(g,J,h),f(g,V,h),f(g,z,h),f(g,Z,h),f(g,K,h),p(K,Q),p(Q,W),p(Q,te),p(Q,ne),p(Q,ae),p(Q,ie),p(Q,le),p(Q,re),f(g,ce,h),f(g,oe,h),p(oe,ue),p(oe,de),p(oe,me),w&&c(pe),pe=[$(n,"click",x(e[12])),$(R,"click",x(e[5])),$(t,"submit",x(e[2])),$(K,"submit",x(e[3])),$(ue,"click",x(e[4]))]},p(e,t){if(e[0]?ve?ve.p(e,t):(ve=as(e),ve.c(),ve.m(r,null)):ve&&(ve.d(1),ve=null),1&t&&H(s,"is-hidden",!e[0]),2&t&&w!==(w=e[1].attributes.name)&&b.value!==w&&(b.value=w),2&t&&N!==(N=e[1].attributes.description)&&S.value!==N&&(S.value=N),2&t){const s=e[1].attributes.namespaces;fe=se(fe,t,be,1,e,s,ge,G,ee,cs,D,es)}2&t&&X!==(X=!e[1].attributes.archived)&&(W.value=X),2&t&&H(ne,"is-hidden",e[1].attributes.archived),2&t&&H(ie,"is-hidden",!e[1].attributes.archived)},d(e){e&&g(t),ve&&ve.d();for(let e=0;e<fe.length;e+=1)fe[e].d();e&&g(F),e&&g(J),e&&g(V),e&&g(z),e&&g(Z),e&&g(K),e&&g(ce),e&&g(oe),c(pe)}}}function ns(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game Settings</p>',_(t,"class","has-vcentered-content")},m(e,s){f(e,t,s)},p:i,d(e){e&&g(t)}}}function as(e){let t,s=Object.entries(e[0]),n=[];for(let t=0;t<s.length;t+=1)n[t]=is(ts(e,s,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=y()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);f(e,t,s)},p(e,a){if(1&a){let i;for(s=Object.entries(e[0]),i=0;i<s.length;i+=1){const l=ts(e,s,i);n[i]?n[i].p(l,a):(n[i]=is(l),n[i].c(),n[i].m(t.parentNode,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}},d(e){v(n,e),e&&g(t)}}}function is(e){let t,s,n,a,i=e[16]+"",l=e[17]+"";return{c(){t=h("li"),s=w(i),n=w(" : "),a=w(l)},m(e,i){f(e,t,i),p(t,s),p(t,n),p(t,a)},p(e,t){1&t&&i!==(i=e[16]+"")&&j(s,i),1&t&&l!==(l=e[17]+"")&&j(a,l)},d(e){e&&g(t)}}}function ls(e){let t,s,n,a,i,l=e[13]+"";return{c(){t=h("span"),s=w(l),n=k(),a=h("span"),_(t,"class","tag is-info"),_(a,"class","tag is-delete svelte-1lhevj4")},m(l,r,c){f(l,t,r),p(t,s),f(l,n,r),f(l,a,r),c&&i(),i=$(a,"click",(function(){o(us(e[13]))&&us(e[13]).apply(this,arguments)}))},p(t,n){e=t,2&n&&l!==(l=e[13]+"")&&j(s,l)},d(e){e&&g(t),e&&g(n),e&&g(a),i()}}}function rs(e){let t,s,n=e[13]+"";return{c(){t=h("span"),s=w(n),_(t,"class","tag is-light")},m(e,n){f(e,t,n),p(t,s)},p(e,t){2&t&&n!==(n=e[13]+"")&&j(s,n)},d(e){e&&g(t)}}}function cs(e,t){let s,n,a,i,l;function r(e,t){return"default"==e[13]?rs:ls}let c=r(t),o=c(t);return{key:e,first:null,c(){s=h("div"),n=h("input"),i=k(),l=h("div"),o.c(),_(n,"name","game[namespaces][]"),_(n,"class","input"),_(n,"type","hidden"),n.value=a=t[13],_(l,"class","tags has-addons"),_(s,"class","control svelte-1lhevj4"),this.first=s},m(e,t){f(e,s,t),p(s,n),p(s,i),p(s,l),o.m(l,null)},p(e,t){2&t&&a!==(a=e[13])&&(n.value=a),c===(c=r(e))&&o?o.p(e,t):(o.d(1),o=c(e),o&&(o.c(),o.m(l,null)))},d(e){e&&g(s),o.d()}}}function os(e){let t;function s(e,t){return e[1]?ss:ns}let n=s(e),a=n(e);return{c(){a.c(),t=y()},m(e,s){a.m(e,s),f(e,t,s)},p(e,[i]){n===(n=s(e))&&a?a.p(e,i):(a.d(1),a=n(e),a&&(a.c(),a.m(t.parentNode,t)))},i:i,o:i,d(e){a.d(e),e&&g(t)}}}function us(e){je.update(t=>({...t,attributes:{...t.attributes,namespaces:t.attributes.namespaces.filter(t=>t!==e)}}))}function ds(e,s,n){let i;m(e,je,e=>n(1,i=e));let l=null;const r=U(),c=A("apiProtocol"),o=A("apiHost"),u=A("userId");async function d(e,s){const i=t(c,o,...e),u=new FormData(document.getElementById(s));Le.set("saving");const d=await a(i,u,"PUT");if(d.ok){Le.set("saved");const e=await d.json();je.set(e.data),r("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await d.text();n(0,l=JSON.parse(e)),Le.set("failed")}}function p(){n(0,l=null)}return[l,i,function(){d(["users",u,"games",i.id],"settings-form")},function(){confirm("Are you sure?")&&d(["users",u,"games",i.id],"danger-form")},async function(){if(!confirm("Are you sure?     Once you delete a game, there is no going back. Please be certain!"))return;const e=["users",u,"games",i.id],s=t(c,o,...e),d=await a(s,{},"DELETE");if(d.ok)je.set(null),r("message",{gameUrl:void 0,updateGameList:!0});else{const e=await d.text();n(0,l=JSON.parse(e))}},function(){const e=document.getElementById("new-namespace");i.attributes.namespaces.includes(e.value)||je.update(t=>({...t,attributes:{...t.attributes,namespaces:[...t.attributes.namespaces,e.value]}})),e.value=""},p,r,c,o,u,d,()=>p()]}class ms extends ce{constructor(e){super(),re(this,e,ds,os,u,{})}}function ps(e){let t;return{c(){t=h("div"),t.innerHTML="<p>Could not load the game you are looking for...</p>",_(t,"class","notification is-warning"),H(t,"is-hidden",!e[0])},m(e,s){f(e,t,s)},p(e,s){1&s&&H(t,"is-hidden",!e[0])},i:i,o:i,d(e){e&&g(t)}}}function fs(e){let t,s,n,a;function i(e,t){return e[2]?gs:vs}let l=i(e),r=l(e);const c=new Me({props:{game:e[2],selectedTab:e[1]}});c.$on("message",e[6]);var o=e[5][e[1]];if(o){var u=new o({});u.$on("message",e[9])}return{c(){r.c(),t=k(),ne(c.$$.fragment),s=k(),u&&ne(u.$$.fragment),n=y()},m(e,i){r.m(e,i),f(e,t,i),ae(c,e,i),f(e,s,i),u&&ae(u,e,i),f(e,n,i),a=!0},p(e,s){l===(l=i(e))&&r?r.p(e,s):(r.d(1),r=l(e),r&&(r.c(),r.m(t.parentNode,t)));const a={};if(4&s&&(a.game=e[2]),2&s&&(a.selectedTab=e[1]),c.$set(a),o!==(o=e[5][e[1]])){if(u){Z();const e=u;W(e.$$.fragment,1,0,()=>{ie(e,1)}),K()}o?((u=new o({})).$on("message",e[9]),ne(u.$$.fragment),Q(u.$$.fragment,1),ae(u,n.parentNode,n)):u=null}},i(e){a||(Q(c.$$.fragment,e),u&&Q(u.$$.fragment,e),a=!0)},o(e){W(c.$$.fragment,e),u&&W(u.$$.fragment,e),a=!1},d(e){r.d(e),e&&g(t),ie(c,e),e&&g(s),e&&g(n),u&&ie(u,e)}}}function gs(e){let t,s,n,a,i,l,r,c,o,u,d,m,v,y,$,x,L,C=e[2].attributes.name+"",T=e[2].attributes.description+"";return{c(){t=h("h1"),s=h("span"),n=h("abbr"),a=b("svg"),i=b("use"),l=k(),r=b("svg"),c=b("use"),o=k(),u=b("svg"),d=b("use"),v=k(),y=w(C),$=k(),x=h("h1"),L=w(T),_(i,"href","../images/fontawesome-sprite.svg#solid-check-circle"),_(a,"class","fa saved svelte-10d2pmv"),H(a,"is-hidden","saved"!=e[4]),_(c,"href","../images/fontawesome-sprite.svg#solid-spinner-third"),_(r,"class","fa saving rotating svelte-10d2pmv"),H(r,"is-hidden","saving"!=e[4]),_(d,"href","../images/fontawesome-sprite.svg#solid-times-circle"),_(u,"class","fa failed svelte-10d2pmv"),H(u,"is-hidden","failed"!=e[4]),_(n,"title",m="Last save : "+e[3].toLocaleString()),_(s,"id","saving-status"),_(s,"class","svelte-10d2pmv"),_(t,"class","title is-4 has-vcentered-content"),_(x,"id","game-description"),_(x,"class","subtitle is-6 svelte-10d2pmv")},m(e,m){f(e,t,m),p(t,s),p(s,n),p(n,a),p(a,i),p(n,l),p(n,r),p(r,c),p(n,o),p(n,u),p(u,d),p(t,v),p(t,y),f(e,$,m),f(e,x,m),p(x,L)},p(e,t){16&t&&H(a,"is-hidden","saved"!=e[4]),16&t&&H(r,"is-hidden","saving"!=e[4]),16&t&&H(u,"is-hidden","failed"!=e[4]),8&t&&m!==(m="Last save : "+e[3].toLocaleString())&&_(n,"title",m),4&t&&C!==(C=e[2].attributes.name+"")&&j(y,C),4&t&&T!==(T=e[2].attributes.description+"")&&j(L,T)},d(e){e&&g(t),e&&g($),e&&g(x)}}}function vs(e){let t;return{c(){t=h("h1"),t.textContent="Loading Game...",_(t,"class","title is-4 has-vcentered-content")},m(e,s){f(e,t,s)},p:i,d(e){e&&g(t)}}}function hs(e){let t,s,n,a;const i=[fs,ps],l=[];function r(e,t){return e[0]?1:0}return t=r(e),s=l[t]=i[t](e),{c(){s.c(),n=y()},m(e,s){l[t].m(e,s),f(e,n,s),a=!0},p(e,[a]){let c=t;t=r(e),t===c?l[t].p(e,a):(Z(),W(l[c],1,1,()=>{l[c]=null}),K(),s=l[t],s||(s=l[t]=i[t](e),s.c()),Q(s,1),s.m(n.parentNode,n))},i(e){a||(Q(s),a=!0)},o(e){W(s),a=!1},d(e){l[t].d(e),e&&g(n)}}}function bs(e,t,s){let a,i,l;m(e,je,e=>s(2,a=e)),m(e,Ce,e=>s(3,i=e)),m(e,Le,e=>s(4,l=e));let{gameUrl:r}=t,c=null,o="actions";const u={overview:Pe,actions:ct,achievements:ut,rewards:Zt,stats:Qt,dev:Xt,settings:ms};async function d(e){const t=await n(e);if(t.ok){const e=await t.json();je.set(e.data)}else s(0,c="Could not find the game you are looking for...")}return e.$set=e=>{"gameUrl"in e&&s(7,r=e.gameUrl)},e.$$.update=()=>{128&e.$$.dirty&&d(r)},[c,o,a,i,l,u,function(e){s(1,o=e.detail.selectedTab)},r,d,function(t){!function(e,t){const s=e.$$.callbacks[t.type];s&&s.slice().forEach(e=>e(t))}(e,t)}]}class ws extends ce{constructor(e){super(),re(this,e,bs,hs,u,{gameUrl:7})}}function ks(e){let t;const s=new ws({props:{gameUrl:e[1]}});return s.$on("message",e[2]),{c(){ne(s.$$.fragment)},m(e,n){ae(s,e,n),t=!0},p(e,t){const n={};2&t&&(n.gameUrl=e[1]),s.$set(n)},i(e){t||(Q(s.$$.fragment,e),t=!0)},o(e){W(s.$$.fragment,e),t=!1},d(e){ie(s,e)}}}function ys(e){let t;const s=new $e({});return s.$on("message",e[2]),{c(){ne(s.$$.fragment)},m(e,n){ae(s,e,n),t=!0},p:i,i(e){t||(Q(s.$$.fragment,e),t=!0)},o(e){W(s.$$.fragment,e),t=!1},d(e){ie(s,e)}}}function $s(e){let t;return{c(){t=h("p"),t.innerHTML='<span class="is-hidden-touch">←</span><span class="is-hidden-desktop">↑</span> Start by hitting the &#39;New Game&#39; button !\n          <svg class="twemoji"><use href="../images/twemoji-sprite.svg#party_popper"></use></svg>'},m(e,s){f(e,t,s)},p:i,i:i,o:i,d(e){e&&g(t)}}}function xs(e){let t,s,n,a,i,l,r,c;const o=new ve({props:{gameList:e[0],gameUrl:e[1]}});o.$on("message",e[2]);const u=[$s,ys,ks],d=[];function m(e,t){return e[1]?"new"===e[1]?1:2:0}return l=m(e),r=d[l]=u[l](e),{c(){t=h("div"),s=h("div"),ne(o.$$.fragment),n=k(),a=h("div"),i=h("div"),r.c(),_(s,"class","column is-2"),_(i,"id","game-content"),_(i,"class","box svelte-18ayl8q"),_(a,"class","column"),_(t,"class","columns")},m(e,r){f(e,t,r),p(t,s),ae(o,s,null),p(t,n),p(t,a),p(a,i),d[l].m(i,null),c=!0},p(e,[t]){const s={};1&t&&(s.gameList=e[0]),2&t&&(s.gameUrl=e[1]),o.$set(s);let n=l;l=m(e),l===n?d[l].p(e,t):(Z(),W(d[n],1,1,()=>{d[n]=null}),K(),r=d[l],r||(r=d[l]=u[l](e),r.c()),Q(r,1),r.m(i,null))},i(e){c||(Q(o.$$.fragment,e),Q(r),c=!0)},o(e){W(o.$$.fragment,e),W(r),c=!1},d(e){e&&g(t),ie(o),d[l].d()}}}function _s(e,s,a){let i,l,{apiProtocol:r}=s,{apiHost:c}=s,{userId:o}=s;async function u(e){const s=t(r,c,"users",e,"games"),a=await n(s);return(await a.json()).data}return e.$set=e=>{"apiProtocol"in e&&a(3,r=e.apiProtocol),"apiHost"in e&&a(4,c=e.apiHost),"userId"in e&&a(5,o=e.userId)},e.$$.update=()=>{32&e.$$.dirty&&a(0,i=u(o)),8&e.$$.dirty&&E("apiProtocol",r),16&e.$$.dirty&&E("apiHost",c),32&e.$$.dirty&&E("userId",o)},[i,l,async function(e){e.detail.updateGameList&&a(0,i=await u(o)),a(1,l=e.detail.gameUrl)},r,c,o]}class js extends ce{constructor(e){super(),re(this,e,_s,xs,u,{apiProtocol:3,apiHost:4,userId:5})}}function Ls(e){let t,s,n,a,l,r,c,o,u;return{c(){t=h("div"),s=h("a"),s.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-in"></use></svg></span> \n    <span>\n      Sign In\n    </span>',n=k(),a=h("a"),a.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-cog"></use></svg></span> \n    <span>\n      Settings\n    </span>',l=k(),r=h("button"),r.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-out"></use></svg></span> \n    <span>\n      Sign Out\n    </span>',c=k(),o=h("a"),o.innerHTML='<span class="icon is-small"><svg class="fa fill-secondary"><use href="../images/fontawesome-sprite.svg#solid-sign-in-alt"></use></svg></span> \n    <span>\n      Sign Up\n    </span>',_(s,"href","/credentials.html"),_(s,"class","button is-link is-outlined fill-primary"),H(s,"is-hidden",e[0]),_(a,"href","/settings.html"),_(a,"class","button is-link is-outlined fill-primary"),H(a,"is-hidden",!e[0]),_(r,"id","sign-out"),_(r,"class","button is-link fill-secondary"),H(r,"is-hidden",!e[0]),_(o,"href","/credentials.html?signup=true"),_(o,"class","button is-link fill-primary"),H(o,"is-hidden",e[0]),_(t,"class","buttons")},m(i,d,m){f(i,t,d),p(t,s),p(t,n),p(t,a),p(t,l),p(t,r),p(t,c),p(t,o),m&&u(),u=$(r,"click",e[1])},p(e,[t]){1&t&&H(s,"is-hidden",e[0]),1&t&&H(a,"is-hidden",!e[0]),1&t&&H(r,"is-hidden",!e[0]),1&t&&H(o,"is-hidden",e[0])},i:i,o:i,d(e){e&&g(t),u()}}}function Cs(e,n,i){let{apiProtocol:l}=n,{apiHost:r}=n,c=!1;var o;return o=async()=>{i(0,c=s(document.cookie,"user_id"))},M().$$.on_mount.push(o),e.$set=e=>{"apiProtocol"in e&&i(2,l=e.apiProtocol),"apiHost"in e&&i(3,r=e.apiHost)},[c,async function(){const e=t(l,r,"signout");await a(e,void 0),window.location.replace(t(window.location.protocol,window.location.host,"index.html"))},l,r]}class Ts extends ce{constructor(e){super(),re(this,e,Cs,Ls,u,{apiProtocol:2,apiHost:3})}}return document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".navbar-burger"),t=document.querySelector(".navbar-menu");e.addEventListener("click",()=>{e.classList.contains("is-active")?(e.classList.remove("is-active"),t.classList.remove("is-active")):(e.classList.add("is-active"),t.classList.add("is-active"))})}),(async()=>{const t=new URLSearchParams(window.location.search),n=t.has("user_id")?t.get("user_id"):s(document.cookie,"user_id");new Ts({target:document.getElementById("credentials-buttons"),props:{apiProtocol:e.protocol,apiHost:e.host}}),new js({target:document.getElementById("main"),props:{apiProtocol:e.protocol,apiHost:e.host,userId:n}})})()}();
//# sourceMappingURL=dashboard.js.map
