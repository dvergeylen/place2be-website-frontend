var app=function(){"use strict";var e={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(e,t,...n){return`${e}//${t}/${(Array.isArray(n)?n:[n]).map(e=>e.replace(/^\/+|\/+$/,"")).join("/")}`}function n(e,t){const n=e.split(";").map(e=>e.split("=")).find(([e])=>e.trim()===t);return n?n[1]:void 0}function s(e){const t=n(document.cookie,"csrf_token");return fetch(e,{method:"GET",credentials:"include",headers:{Accept:"application/json",...t&&{"x-csrf-token":t}}})}function i(e,t,s){const i=n(document.cookie,"csrf_token");return fetch(e,{method:s||"POST",credentials:"include",headers:{Accept:"application/json",...i&&{"x-csrf-token":i}},body:t})}function a(){}function o(e){return e()}function c(){return Object.create(null)}function l(e){e.forEach(o)}function r(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e,...t){if(null==e)return a;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function f(e,t,n){e.$$.on_destroy.push(d(t,n))}function p(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function y(){return w(" ")}function $(){return w("")}function k(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function x(e){return function(t){return t.preventDefault(),e.call(this,t)}}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t){(null!=t||e.value)&&(e.value=t)}function C(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function H(e,t,n){e.classList[n?"add":"remove"](t)}let N;function S(e){N=e}function M(){if(!N)throw new Error("Function called outside component initialization");return N}function U(){const e=M();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);s.slice().forEach(t=>{t.call(e,i)})}}}function E(e,t){M().$$.context.set(e,t)}function G(e){return M().$$.context.get(e)}const A=[],P=[],O=[],I=[],D=Promise.resolve();let q=!1;function B(e){O.push(e)}let Y=!1;const F=new Set;function J(){if(!Y){Y=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];S(t),R(t.$$)}for(A.length=0;P.length;)P.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];F.has(t)||(F.add(t),t())}O.length=0}while(A.length);for(;I.length;)I.pop()();q=!1,Y=!1,F.clear()}}function R(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const z=new Set;let V;function Z(){V={r:0,c:[],p:V}}function K(){V.r||l(V.c),V=V.p}function Q(e,t){e&&e.i&&(z.delete(e),e.i(t))}function W(e,t,n,s){if(e&&e.o){if(z.has(e))return;z.add(e),V.c.push(()=>{z.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}function X(e,t){const n=t.token={};function s(e,s,i,a){if(t.token!==n)return;t.resolved=a;let o=t.ctx;void 0!==i&&(o=o.slice(),o[i]=a);const c=e&&(t.current=e)(o);let l=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==s&&e&&(Z(),W(e,1,1,()=>{t.blocks[n]=null}),K())}):t.block.d(1),c.c(),Q(c,1),c.m(t.mount(),t.anchor),l=!0),t.block=c,t.blocks&&(t.blocks[s]=c),l&&J()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=M();if(e.then(e=>{S(n),s(t.then,1,t.value,e),S(null)},e=>{S(n),s(t.catch,2,t.error,e),S(null)}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}var i}function ee(e,t){W(e,1,1,()=>{t.delete(e.key)})}function te(e){e&&e.c()}function ne(e,t,n){const{fragment:s,on_mount:i,on_destroy:a,after_update:c}=e.$$;s&&s.m(t,n),B(()=>{const t=i.map(o).filter(r);a?a.push(...t):l(t),e.$$.on_mount=[]}),c.forEach(B)}function se(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t){-1===e.$$.dirty[0]&&(A.push(e),q||(q=!0,D.then(J)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ae(e,t,n,s,i,o,r=[-1]){const u=N;S(e);const d=t.props||{},f=e.$$={fragment:null,ctx:null,props:o,update:a,not_equal:i,bound:c(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:c(),dirty:r};let p=!1;if(f.ctx=n?n(e,d,(t,n,...s)=>{const a=s.length?s[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=a)&&(f.bound[t]&&f.bound[t](a),p&&ie(e,t)),n}):[],f.update(),p=!0,l(f.before_update),f.fragment=!!s&&s(f.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);f.fragment&&f.fragment.l(e),e.forEach(g)}else f.fragment&&f.fragment.c();t.intro&&Q(e.$$.fragment),ne(e,t.target,t.anchor),J()}S(u)}class oe{$destroy(){se(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function ce(e,t,n){const s=e.slice();return s[8]=t[n],s}function le(e){let t,n,s=e[7].message+"";return{c(){t=h("p"),n=w(s),_(t,"class","error")},m(e,s){m(e,t,s),p(t,n)},p(e,t){1&t&&s!==(s=e[7].message+"")&&j(n,s)},d(e){e&&g(t)}}}function re(e){let t,n,s,i,a,o,c=e[6],l=[];for(let t=0;t<c.length;t+=1)l[t]=ue(ce(e,c,t));return{c(){t=h("article"),n=h("p"),n.textContent="Your Games :",s=y(),i=h("a"),i.innerHTML='<span class="panel-icon"><svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#rocket"></use></svg></span> \n        <span>\n          New Game\n        </span>',a=y();for(let e=0;e<l.length;e+=1)l[e].c();_(n,"class","panel-heading"),_(i,"href","javascript:void(0)"),_(i,"class","panel-block fill-primary"),_(t,"class","panel is-primary")},m(c,r,u){m(c,t,r),p(t,n),p(t,s),p(t,i),p(t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u&&o(),o=k(i,"click",x(e[4]))},p(e,n){if(7&n){let s;for(c=e[6],s=0;s<c.length;s+=1){const i=ce(e,c,s);l[s]?l[s].p(i,n):(l[s]=ue(i),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=c.length}},d(e){e&&g(t),v(l,e),o()}}}function ue(e){let t,n,s,i,a,o,c,l=e[8].attributes.name+"";function r(...t){return e[5](e[8],...t)}return{c(){t=h("a"),n=h("span"),n.innerHTML='<svg class="twemoji svelte-16cgjld"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>',s=y(),i=w(l),a=y(),_(n,"class","panel-icon"),H(n,"fill-primary",e[1]===e[8].links.self),_(t,"href",o=e[8].links.self),_(t,"class","panel-block")},m(e,o,l){m(e,t,o),p(t,n),p(t,s),p(t,i),p(t,a),l&&c(),c=k(t,"click",x(r))},p(s,a){e=s,3&a&&H(n,"fill-primary",e[1]===e[8].links.self),1&a&&l!==(l=e[8].attributes.name+"")&&j(i,l),1&a&&o!==(o=e[8].links.self)&&_(t,"href",o)},d(e){e&&g(t),c()}}}function de(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game List</p>',_(t,"class","has-vcentered-content")},m(e,n){m(e,t,n)},p:a,d(e){e&&g(t)}}}function fe(e){let t,n,s={ctx:e,current:null,token:null,pending:de,then:re,catch:le,value:6,error:7};return X(n=e[0],s),{c(){t=h("div"),s.block.c(),_(t,"class","content")},m(e,n){m(e,t,n),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null},p(t,[i]){if(e=t,s.ctx=e,1&i&&n!==(n=e[0])&&X(n,s));else{const t=e.slice();t[6]=s.resolved,s.block.p(t,i)}},i:a,o:a,d(e){e&&g(t),s.block.d(),s.token=null,s=null}}}function pe(e,t,n){let{gameList:s}=t,{gameUrl:i}=t;const a=U();function o(e){a("message",{gameUrl:e})}return e.$set=e=>{"gameList"in e&&n(0,s=e.gameList),"gameUrl"in e&&n(1,i=e.gameUrl)},[s,i,o,a,async()=>o("new"),e=>o(e.links.self)]}class me extends oe{constructor(e){super(),ae(this,e,pe,fe,u,{gameList:0,gameUrl:1})}}function ge(e,t,n){const s=e.slice();return s[10]=t[n][0],s[11]=t[n][1],s}function ve(e){let t,n=Object.entries(e[0]),s=[];for(let t=0;t<n.length;t+=1)s[t]=he(ge(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);m(e,t,n)},p(e,i){if(1&i){let a;for(n=Object.entries(e[0]),a=0;a<n.length;a+=1){const o=ge(e,n,a);s[a]?s[a].p(o,i):(s[a]=he(o),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function he(e){let t,n,s,i,a=e[10]+"",o=e[11]+"";return{c(){t=h("li"),n=w(a),s=w(" : "),i=w(o)},m(e,a){m(e,t,a),p(t,n),p(t,s),p(t,i)},p(e,t){1&t&&a!==(a=e[10]+"")&&j(n,a),1&t&&o!==(o=e[11]+"")&&j(i,o)},d(e){e&&g(t)}}}function be(e){let t,n,s,i,o,c,r,u,d,f,v,b,w,$,j,L,C,T,N,S,M,U,E,G,A,P=e[0]&&ve(e);return{c(){t=h("div"),n=h("h1"),n.textContent="Create new Game :",s=y(),i=h("p"),i.innerHTML='A Game contains all Actions\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg>,\n    Achievements\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg>,\n    Rewards\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg>\n    and Assets\n    <svg class="twemoji"><use href="../images/twemoji-sprite.svg#package"></use></svg>\n    your players can interact with.',o=y(),c=h("hr"),r=y(),u=h("form"),d=h("div"),f=h("button"),v=y(),b=h("h1"),b.textContent="Unable to Create new Game :",w=y(),$=h("ul"),P&&P.c(),j=y(),L=h("div"),L.innerHTML='<label class="label">\n        Game Name\n        <span class="mandatory svelte-178zv2a">*</span></label> \n      <div class="control"><input name="game[name]" class="input reasonable-width" type="text"></div>',C=y(),T=h("div"),T.innerHTML='<label class="label">\n        Description\n        <span class="note svelte-178zv2a">(optional)</span></label> \n      <div class="control"><input name="game[description]" class="input" type="text"></div> \n      <p class="help">Game and description won&#39;t be visible to your players.</p>',N=y(),S=h("div"),M=h("div"),M.innerHTML='<button class="button is-link">Create</button>',U=y(),E=h("div"),G=h("button"),G.textContent="Cancel",_(n,"class","title is-4"),_(f,"class","delete"),_(b,"class","title is-5"),_(d,"class","notification is-danger"),H(d,"is-hidden",!e[0]),_(L,"class","field"),_(T,"class","field"),_(M,"class","control"),_(G,"class","button is-link is-light"),_(E,"class","control"),_(S,"class","field is-grouped"),_(u,"id","new-game-form"),_(t,"id","new-game"),_(t,"class","svelte-178zv2a")},m(a,g,h){m(a,t,g),p(t,n),p(t,s),p(t,i),p(t,o),p(t,c),p(t,r),p(t,u),p(u,d),p(d,f),p(d,v),p(d,b),p(d,w),p(d,$),P&&P.m($,null),p(u,j),p(u,L),p(u,C),p(u,T),p(u,N),p(u,S),p(S,M),p(S,U),p(S,E),p(E,G),h&&l(A),A=[k(f,"click",x(e[8])),k(G,"click",x(e[9])),k(u,"submit",x(e[1]))]},p(e,[t]){e[0]?P?P.p(e,t):(P=ve(e),P.c(),P.m($,null)):P&&(P.d(1),P=null),1&t&&H(d,"is-hidden",!e[0])},i:a,o:a,d(e){e&&g(t),P&&P.d(),l(A)}}}function we(e,n,s){const a=U(),o=G("apiProtocol"),c=G("apiHost"),l=G("userId");let r=null;function u(){a("message",{gameUrl:void 0})}function d(){s(0,r=null)}return[r,async function(){const e=t(o,c,"users",l,"games"),n=new FormData(document.getElementById("new-game-form")),u=await i(e,n);if(u.ok){const e=await u.json();a("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await u.text();s(0,r=JSON.parse(e))}},u,d,a,o,c,l,()=>d(),()=>u()]}class ye extends oe{constructor(e){super(),ae(this,e,we,be,u,{})}}const $e=[];function ke(e,t=a){let n;const s=[];function i(t){if(u(e,t)&&(e=t,n)){const t=!$e.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),$e.push(n,e)}if(t){for(let e=0;e<$e.length;e+=2)$e[e][0]($e[e+1]);$e.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,c=a){const l=[o,c];return s.push(l),1===s.length&&(n=t(i)||a),o(e),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(n(),n=null)}}}}const xe=ke(null),_e=ke("saved"),je=function(e,t,n){const s=!Array.isArray(e),i=s?[e]:e,o=t.length<2;return{subscribe:ke(n,e=>{let n=!1;const c=[];let u=0,f=a;const p=()=>{if(u)return;f();const n=t(s?c[0]:c,e);o?e(n):f=r(n)?n:a},m=i.map((e,t)=>d(e,e=>{c[t]=e,u&=~(1<<t),n&&p()},()=>{u|=1<<t}));return n=!0,p(),function(){l(m),f()}}).subscribe}}(_e,()=>new Date);function Le(e){let t,n,s,i,a,o,c,r,u,d,f,v,b,w,$,j,L,C,T,N,S,M,U;return{c(){t=h("div"),n=h("ul"),s=h("li"),i=h("a"),i.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#compass"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Overview</span>',a=y(),o=h("li"),c=h("a"),c.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#high_voltage_sign"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Actions</span>',r=y(),u=h("li"),d=h("a"),d.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#trophy"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Achievements</span>',f=y(),v=h("li"),b=h("a"),b.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#wrapped_present"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Rewards</span>',w=y(),$=h("li"),j=h("a"),j.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#bar_chart"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Stats</span>',L=y(),C=h("li"),T=h("a"),T.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#woman_technologist"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Integration</span>',N=y(),S=h("li"),M=h("a"),M.innerHTML='<svg class="twemoji"><use href="../images/twemoji-sprite.svg#gear"></use></svg> \n          <span class="left-spaced svelte-ywoo4f">Settings</span>',_(i,"href","javascript:void(0)"),H(s,"is-active","overview"===e[1]),_(c,"href","javascript:void(0)"),H(o,"is-active","actions"===e[1]),_(d,"href","javascript:void(0)"),H(u,"is-active","achievements"===e[1]),_(b,"href","javascript:void(0)"),H(v,"is-active","rewards"===e[1]),_(j,"href","javascript:void(0)"),H($,"is-active","stats"===e[1]),_(T,"href","javascript:void(0)"),H(C,"is-active","dev"===e[1]),_(M,"href","javascript:void(0)"),H(S,"is-active","settings"===e[1]),_(t,"id","game-tabs-container"),_(t,"class","tabs svelte-ywoo4f")},m(g,h,y){m(g,t,h),p(t,n),p(n,s),p(s,i),p(n,a),p(n,o),p(o,c),p(n,r),p(n,u),p(u,d),p(n,f),p(n,v),p(v,b),p(n,w),p(n,$),p($,j),p(n,L),p(n,C),p(C,T),p(n,N),p(n,S),p(S,M),y&&l(U),U=[k(i,"click",x(e[4])),k(c,"click",x(e[5])),k(d,"click",x(e[6])),k(b,"click",x(e[7])),k(j,"click",x(e[8])),k(T,"click",x(e[9])),k(M,"click",x(e[10]))]},p(e,t){2&t&&H(s,"is-active","overview"===e[1]),2&t&&H(o,"is-active","actions"===e[1]),2&t&&H(u,"is-active","achievements"===e[1]),2&t&&H(v,"is-active","rewards"===e[1]),2&t&&H($,"is-active","stats"===e[1]),2&t&&H(C,"is-active","dev"===e[1]),2&t&&H(S,"is-active","settings"===e[1])},d(e){e&&g(t),l(U)}}}function Ce(e){let t;return{c(){t=w("Loading Game tabs...")},m(e,n){m(e,t,n)},p:a,d(e){e&&g(t)}}}function Te(e){let t;function n(e,t){return e[0]?Le:Ce}let s=n(e),i=s(e);return{c(){i.c(),t=$()},m(e,n){i.m(e,n),m(e,t,n)},p(e,[a]){s===(s=n(e))&&i?i.p(e,a):(i.d(1),i=s(e),i&&(i.c(),i.m(t.parentNode,t)))},i:a,o:a,d(e){i.d(e),e&&g(t)}}}function He(e,t,n){let{game:s}=t,{selectedTab:i="overview"}=t;const a=U();function o(e){a("message",{selectedTab:e})}return e.$set=e=>{"game"in e&&n(0,s=e.game),"selectedTab"in e&&n(1,i=e.selectedTab)},[s,i,o,a,()=>o("overview"),()=>o("actions"),()=>o("achievements"),()=>o("rewards"),()=>o("stats"),()=>o("dev"),()=>o("settings")]}class Ne extends oe{constructor(e){super(),ae(this,e,He,Te,u,{game:0,selectedTab:1})}}function Se(e){let t,n,s,i,a,o,c,l,r=e[0].toLocaleDateString()+"",u=e[1].attributes.archived?"No":"Yes";return{c(){t=h("ul"),n=h("li"),s=w("Created : "),i=w(r),a=y(),o=h("li"),c=w("Active: "),l=w(u)},m(e,r){m(e,t,r),p(t,n),p(n,s),p(n,i),p(t,a),p(t,o),p(o,c),p(o,l)},p(e,t){1&t&&r!==(r=e[0].toLocaleDateString()+"")&&j(i,r),2&t&&u!==(u=e[1].attributes.archived?"No":"Yes")&&j(l,u)},d(e){e&&g(t)}}}function Me(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Overview</p>',_(t,"class","has-vcentered-content")},m(e,n){m(e,t,n)},p:a,d(e){e&&g(t)}}}function Ue(e){let t;function n(e,t){return e[1]?Se:Me}let s=n(e),i=s(e);return{c(){i.c(),t=$()},m(e,n){i.m(e,n),m(e,t,n)},p(e,[a]){s===(s=n(e))&&i?i.p(e,a):(i.d(1),i=s(e),i&&(i.c(),i.m(t.parentNode,t)))},i:a,o:a,d(e){i.d(e),e&&g(t)}}}function Ee(e,t,n){let s,i;return f(e,xe,e=>n(1,s=e)),e.$$.update=()=>{2&e.$$.dirty&&n(0,i=new Date(s.attributes.created_at))},[i,s]}class Ge extends oe{constructor(e){super(),ae(this,e,Ee,Ue,u,{})}}function Ae(e,t,n){const s=e.slice();return s[19]=t[n][0],s[20]=t[n][1],s}function Pe(e){let t,n,s,i,a,o,c,r,u,d,f,v,$,x,C,T,N,S,M=e[0].attributes.name+"";return{c(){t=h("div"),n=h("div"),s=h("h1"),i=h("span"),a=w(M),o=y(),c=h("input"),r=y(),u=b("svg"),d=b("use"),f=y(),v=b("svg"),$=b("use"),x=y(),C=h("div"),T=b("svg"),N=b("use"),H(i,"is-hidden",e[3]),_(c,"class","input reasonable-width"),_(c,"type","text"),_(c,"name","act[name]"),H(c,"is-hidden",!e[3]),_(d,"href","../images/fontawesome-sprite.svg#regular-edit"),_(u,"class","fa name-edit fill-primary svelte-1jr5y39"),H(u,"is-hidden",e[3]),_($,"href","../images/fontawesome-sprite.svg#regular-check-circle"),_(v,"class","fa name-edit fill-primary svelte-1jr5y39"),H(v,"is-hidden",!e[3]),_(s,"id","action-name"),_(s,"class","title is-5 has-vcentered-text svelte-1jr5y39"),_(n,"class","column"),_(N,"href","../images/fontawesome-sprite.svg#regular-times-circle"),_(T,"class","fa svelte-1jr5y39"),_(C,"class","column is-1"),_(t,"class","columns is-mobile")},m(g,h,b){m(g,t,h),p(t,n),p(n,s),p(s,i),p(i,a),p(s,o),p(s,c),L(c,e[0].attributes.name),p(s,r),p(s,u),p(u,d),p(s,f),p(s,v),p(v,$),p(t,x),p(t,C),p(C,T),p(T,N),b&&l(S),S=[k(c,"input",e[14]),k(u,"click",e[7]),k(v,"click",e[7]),k(T,"click",e[5])]},p(e,t){1&t&&M!==(M=e[0].attributes.name+"")&&j(a,M),8&t&&H(i,"is-hidden",e[3]),1&t&&c.value!==e[0].attributes.name&&L(c,e[0].attributes.name),8&t&&H(c,"is-hidden",!e[3]),8&t&&H(u,"is-hidden",e[3]),8&t&&H(v,"is-hidden",!e[3])},d(e){e&&g(t),l(S)}}}function Oe(e){let t,n=Object.entries(e[1]),s=[];for(let t=0;t<n.length;t+=1)s[t]=Ie(Ae(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);m(e,t,n)},p(e,i){if(2&i){let a;for(n=Object.entries(e[1]),a=0;a<n.length;a+=1){const o=Ae(e,n,a);s[a]?s[a].p(o,i):(s[a]=Ie(o),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function Ie(e){let t,n,s,i,a=e[19]+"",o=e[20]+"";return{c(){t=h("li"),n=w(a),s=w(" : "),i=w(o)},m(e,a){m(e,t,a),p(t,n),p(t,s),p(t,i)},p(e,t){2&t&&a!==(a=e[19]+"")&&j(n,a),2&t&&o!==(o=e[20]+"")&&j(i,o)},d(e){e&&g(t)}}}function De(e){let t;return{c(){t=h("tr"),t.innerHTML='<td class="right svelte-1jr5y39">\n              Name :\n            </td> \n            <td class="svelte-1jr5y39"><input class="input" type="text" name="act[name]"></td>'},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function qe(e){let t;return{c(){t=h("button"),t.textContent="Create",_(t,"class","button is-primary")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Be(e){let t,n,s,i,o,c,r,u,d,f,v,b,w,$,j,T,N,S,M,U,E,G,A,P,O,I,D,q,Y,F,J,R,z,V,Z,K,Q,W,X,ee,te,ne,se,ie,ae,oe,ce=e[0].id&&Pe(e),le=e[1]&&Oe(e),re=!e[0].id&&De(),ue=!e[0].id&&qe();return{c(){t=h("form"),n=h("div"),ce&&ce.c(),s=y(),i=h("div"),o=h("button"),c=y(),r=h("h1"),r.textContent="Unable to Update Action :",u=y(),d=h("ul"),le&&le.c(),f=y(),v=h("table"),b=h("tbody"),re&&re.c(),w=y(),$=h("tr"),j=h("td"),j.textContent="Value Type :",T=y(),N=h("td"),S=h("div"),M=h("select"),U=h("option"),U.textContent="Boolean (Yes | No)",E=h("option"),E.textContent="Integer",G=h("option"),G.textContent="Float",A=h("option"),A.textContent="String",P=h("option"),P.textContent="Date",O=y(),I=h("tr"),D=h("td"),D.textContent="Team Id field :",q=y(),Y=h("td"),F=h("div"),J=h("select"),R=h("option"),R.textContent="No, optional",z=h("option"),z.textContent="Yes, required",V=y(),Z=h("tr"),K=h("td"),K.textContent="Tags :",Q=y(),W=h("td"),X=h("input"),ee=y(),te=h("tr"),ne=h("td"),ne.innerHTML='<p class="help">\n              Need help? See \n              <a href="https://doc.place2be.io" target="_blank"><span>Doc</span> \n                <svg class="fa fill-primary no-hover svelte-1jr5y39"><use href="../images/fontawesome-sprite.svg#regular-external-link-square"></use></svg></a></p>',se=y(),ie=h("td"),ue&&ue.c(),_(o,"class","delete"),_(r,"class","title is-5"),_(i,"class","notification is-danger"),H(i,"is-hidden",!e[1]),_(j,"class","right svelte-1jr5y39"),U.__value="boolean",U.value=U.__value,E.__value="int",E.value=E.__value,G.__value="float",G.value=G.__value,A.__value="string",A.value=A.__value,P.__value="date",P.value=P.__value,_(M,"name","act[value_type]"),void 0===e[0].attributes.value_type&&B(()=>e[16].call(M)),_(S,"class","select"),_(N,"class","svelte-1jr5y39"),_(D,"class","right svelte-1jr5y39"),R.__value="false",R.value=R.__value,z.__value="true",z.value=z.__value,_(J,"name","act[team_required]"),void 0===e[0].attributes.team_required&&B(()=>e[17].call(J)),_(F,"class","select"),_(Y,"class","svelte-1jr5y39"),_(K,"class","right svelte-1jr5y39"),_(X,"class","input"),_(X,"type","text"),_(X,"name","act[tags]"),_(W,"class","svelte-1jr5y39"),_(ne,"class","svelte-1jr5y39"),_(ie,"class","svelte-1jr5y39"),_(v,"class","table"),_(n,"class","item-box"),_(t,"id",ae=(e[0].id||"new")+"-action-form"),_(t,"class","svelte-1jr5y39")},m(a,g,h){m(a,t,g),p(t,n),ce&&ce.m(n,null),p(n,s),p(n,i),p(i,o),p(i,c),p(i,r),p(i,u),p(i,d),le&&le.m(d,null),p(n,f),p(n,v),p(v,b),re&&re.m(b,null),p(b,w),p(b,$),p($,j),p($,T),p($,N),p(N,S),p(S,M),p(M,U),p(M,E),p(M,G),p(M,A),p(M,P),C(M,e[0].attributes.value_type),p(b,O),p(b,I),p(I,D),p(I,q),p(I,Y),p(Y,F),p(F,J),p(J,R),p(J,z),C(J,e[0].attributes.team_required),p(b,V),p(b,Z),p(Z,K),p(Z,Q),p(Z,W),p(W,X),L(X,e[2]),p(b,ee),p(b,te),p(te,ne),p(te,se),p(te,ie),ue&&ue.m(ie,null),h&&l(oe),oe=[k(o,"click",x(e[15])),k(M,"change",e[16]),k(J,"change",e[17]),k(X,"input",e[18]),k(t,"change",e[6]),k(t,"submit",x(e[4]))]},p(e,[a]){e[0].id?ce?ce.p(e,a):(ce=Pe(e),ce.c(),ce.m(n,s)):ce&&(ce.d(1),ce=null),e[1]?le?le.p(e,a):(le=Oe(e),le.c(),le.m(d,null)):le&&(le.d(1),le=null),2&a&&H(i,"is-hidden",!e[1]),e[0].id?re&&(re.d(1),re=null):re||(re=De(),re.c(),re.m(b,w)),1&a&&C(M,e[0].attributes.value_type),1&a&&C(J,e[0].attributes.team_required),4&a&&X.value!==e[2]&&L(X,e[2]),e[0].id?ue&&(ue.d(1),ue=null):ue||(ue=qe(),ue.c(),ue.m(ie,null)),1&a&&ae!==(ae=(e[0].id||"new")+"-action-form")&&_(t,"id",ae)},i:a,o:a,d(e){e&&g(t),ce&&ce.d(),le&&le.d(),re&&re.d(),ue&&ue.d(),l(oe)}}}function Ye(e,n,s){let a;f(e,xe,e=>s(9,a=e));let{action:o={attributes:{name:"",value_type:"boolean",tags:""}}}=n;const c=U(),l=G("apiProtocol"),r=G("apiHost"),u=G("userId");let d,p=null,m=!1;async function g(){let e,n;_e.set("saving"),o.id?(e=["users",u,"games",a.id,"actions",o.id],n="PUT"):(e=["users",u,"games",a.id,"actions"],n="POST");const d=t(l,r,...e),f=new FormData(document.getElementById((o.id||"new")+"-action-form")),m=await i(d,f,n);if(m.ok)if(_e.set("saved"),o.id){const e=await m.json();s(0,o=e.data)}else{const e=await m.json();c("message",{actions:e.data})}else{const e=await m.text();s(1,p=JSON.parse(e)),_e.set("failed")}}function v(){s(1,p=null)}return e.$set=e=>{"action"in e&&s(0,o=e.action)},[o,p,d,m,g,async function(){_e.set("saving");const e=["users",u,"games",a.id,"actions",o.id],n=t(l,r,...e),d=await i(n,{},"DELETE");if(d.ok){_e.set("saved");const e=await d.json();c("message",{actions:e.data})}else{const e=await d.text();s(1,p=JSON.parse(e)),_e.set("failed")}},function(){o.id&&g()},function(){s(3,m=!m)},v,a,c,l,r,u,function(){o.attributes.name=this.value,s(0,o)},()=>v(),function(){o.attributes.value_type=T(this),s(0,o)},function(){o.attributes.team_required=T(this),s(0,o)},function(){d=this.value,s(2,d)}]}class Fe extends oe{constructor(e){super(),ae(this,e,Ye,Be,u,{action:0})}}function Je(e,t,n){const s=e.slice();return s[4]=t[n],s}function Re(e){let t,n,s,i,a,o,c,l;const r=[Ze,Ve],u=[];function d(e,t){return e[0].length?0:1}t=d(e),n=u[t]=r[t](e);const f=new Fe({});return f.$on("message",e[2]),{c(){n.c(),s=y(),i=h("hr"),a=y(),o=h("h1"),o.textContent="Create new Action :",c=y(),te(f.$$.fragment),_(o,"class","title is-4")},m(e,n){u[t].m(e,n),m(e,s,n),m(e,i,n),m(e,a,n),m(e,o,n),m(e,c,n),ne(f,e,n),l=!0},p(e,i){let a=t;t=d(e),t===a?u[t].p(e,i):(Z(),W(u[a],1,1,()=>{u[a]=null}),K(),n=u[t],n||(n=u[t]=r[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){l||(Q(n),Q(f.$$.fragment,e),l=!0)},o(e){W(n),W(f.$$.fragment,e),l=!1},d(e){u[t].d(e),e&&g(s),e&&g(i),e&&g(a),e&&g(o),e&&g(c),se(f,e)}}}function ze(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n    <p class="left-spaced">Loading Game Actions</p>',_(t,"class","has-vcentered-content")},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}function Ve(e){let t;return{c(){t=h("p"),t.textContent="You don't have Actions  yet! Start by creating one below ↓"},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}function Ze(e){let t,n,s=[],i=new Map,a=e[0];const o=e=>e[4].id;for(let t=0;t<a.length;t+=1){let n=Je(e,a,t),c=o(n);i.set(c,s[t]=Ke(c,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,i){for(let t=0;t<s.length;t+=1)s[t].m(e,i);m(e,t,i),n=!0},p(e,n){if(5&n){const a=e[0];Z(),s=function(e,t,n,s,i,a,o,c,l,r,u,d){let f=e.length,p=a.length,m=f;const g={};for(;m--;)g[e[m].key]=m;const v=[],h=new Map,b=new Map;for(m=p;m--;){const e=d(i,a,m),c=n(e);let l=o.get(c);l?s&&l.p(e,t):(l=r(c,e),l.c()),h.set(c,v[m]=l),c in g&&b.set(c,Math.abs(m-g[c]))}const w=new Set,y=new Set;function $(e){Q(e,1),e.m(c,u,o.has(e.key)),o.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=v[p-1],n=e[f-1],s=t.key,i=n.key;t===n?(u=t.first,f--,p--):h.has(i)?!o.has(s)||w.has(s)?$(t):y.has(i)?f--:b.get(s)>b.get(i)?(y.add(s),$(t)):(w.add(i),f--):(l(n,o),f--)}for(;f--;){const t=e[f];h.has(t.key)||l(t,o)}for(;p;)$(v[p-1]);return v}(s,n,o,1,e,a,i,t.parentNode,ee,Ke,t,Je),K()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)Q(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)W(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&g(t)}}}function Ke(e,t){let n,s;const i=new Fe({props:{action:t[4]}});return i.$on("message",t[2]),{key:e,first:null,c(){n=$(),te(i.$$.fragment),this.first=n},m(e,t){m(e,n,t),ne(i,e,t),s=!0},p(e,t){const n={};1&t&&(n.action=e[4]),i.$set(n)},i(e){s||(Q(i.$$.fragment,e),s=!0)},o(e){W(i.$$.fragment,e),s=!1},d(e){e&&g(n),se(i,e)}}}function Qe(e){let t,n,s,i;const a=[ze,Re],o=[];function c(e,t){return e[1]?1:0}return t=c(e),n=o[t]=a[t](e),{c(){n.c(),s=$()},m(e,n){o[t].m(e,n),m(e,s,n),i=!0},p(e,[i]){let l=t;t=c(e),t===l?o[t].p(e,i):(Z(),W(o[l],1,1,()=>{o[l]=null}),K(),n=o[t],n||(n=o[t]=a[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){i||(Q(n),i=!0)},o(e){W(n),i=!1},d(e){o[t].d(e),e&&g(s)}}}function We(e,t,n){let i;f(e,xe,e=>n(1,i=e));let a=[];return e.$$.update=()=>{2&e.$$.dirty&&i&&async function(e){const t=e.relationships.actions.links.related,i=await s(t);if(i.ok){const e=await i.json();n(0,a=e.data)}else error="Could not fetch Actions for this game"}(i)},[a,i,function(e){n(0,a=e.detail.actions)}]}class Xe extends oe{constructor(e){super(),ae(this,e,We,Qe,u,{})}}function et(e){let t;return{c(){t=h("p"),t.textContent="Achievement Tab!"},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}class tt extends oe{constructor(e){super(),ae(this,e,null,et,u,{})}}function nt(e){let t;return{c(){t=h("p"),t.textContent="Rewards Tab!"},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}class st extends oe{constructor(e){super(),ae(this,e,null,nt,u,{})}}function it(e){let t;return{c(){t=h("p"),t.textContent="Stats Tab!"},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}class at extends oe{constructor(e){super(),ae(this,e,null,it,u,{})}}function ot(e){let t;return{c(){t=h("p"),t.textContent="Dev Tab!"},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}class ct extends oe{constructor(e){super(),ae(this,e,null,ot,u,{})}}function lt(e,t,n){const s=e.slice();return s[12]=t[n][0],s[13]=t[n][1],s}function rt(e){let t,n,s,i,a,o,c,r,u,d,f,v,b,w,$,j,L,C,T,N,S,M,U,E,G,A,P,O,I,D,q,B,Y,F,J,R,z,V,Z,K,Q,W,X,ee,te,ne,se=e[0]&&dt(e);return{c(){t=h("form"),n=h("div"),s=h("button"),i=y(),a=h("h1"),a.textContent="Unable to Update Game :",o=y(),c=h("ul"),se&&se.c(),r=y(),u=h("div"),d=h("label"),d.textContent="Game Name",f=y(),v=h("div"),b=h("input"),$=y(),j=h("div"),L=h("label"),L.textContent="Description",C=y(),T=h("div"),N=h("input"),M=y(),U=h("p"),U.textContent="Game and description won't be visible to your players.",E=y(),G=h("button"),G.textContent="Update Settings",A=y(),P=h("hr"),O=y(),I=h("h1"),I.textContent="Danger Zone :",D=y(),q=h("form"),B=h("div"),Y=h("input"),J=y(),R=h("button"),R.textContent="Archive this Game",z=y(),V=h("button"),V.textContent="Reactivate this Game",Z=y(),K=h("p"),K.textContent="Once you archive a game, no player will be able to access it anymore. Please be certain!",Q=y(),W=h("div"),X=h("button"),X.textContent="Delete this Game",ee=y(),te=h("p"),te.textContent="Once you delete a game, there is no going back. Please be certain!",_(s,"class","delete"),_(a,"class","title is-5"),_(n,"class","notification is-danger"),H(n,"is-hidden",!e[0]),_(d,"class","label"),_(b,"name","game[name]"),_(b,"class","input reasonable-width"),_(b,"type","text"),b.value=w=e[1].attributes.name,_(v,"class","control"),_(u,"class","field"),_(L,"class","label"),_(N,"name","game[description]"),_(N,"class","input"),_(N,"type","text"),N.value=S=e[1].attributes.description,_(T,"class","control"),_(U,"class","help"),_(j,"class","field"),_(G,"class","button is-link"),_(t,"id","settings-form"),_(I,"class","title is-4"),_(Y,"name","game[archived]"),_(Y,"class","input"),_(Y,"type","hidden"),Y.value=F=!e[1].attributes.archived,_(R,"class","button is-danger is-outlined svelte-1xcb6g0"),H(R,"is-hidden",e[1].attributes.archived),_(V,"class","button is-danger is-outlined svelte-1xcb6g0"),H(V,"is-hidden",!e[1].attributes.archived),_(K,"class","help"),_(B,"class","field"),_(q,"id","danger-form"),_(X,"class","button is-danger is-outlined svelte-1xcb6g0"),_(te,"class","help"),_(W,"class","field")},m(g,h,w){m(g,t,h),p(t,n),p(n,s),p(n,i),p(n,a),p(n,o),p(n,c),se&&se.m(c,null),p(t,r),p(t,u),p(u,d),p(u,f),p(u,v),p(v,b),p(t,$),p(t,j),p(j,L),p(j,C),p(j,T),p(T,N),p(j,M),p(j,U),p(t,E),p(t,G),m(g,A,h),m(g,P,h),m(g,O,h),m(g,I,h),m(g,D,h),m(g,q,h),p(q,B),p(B,Y),p(B,J),p(B,R),p(B,z),p(B,V),p(B,Z),p(B,K),m(g,Q,h),m(g,W,h),p(W,X),p(W,ee),p(W,te),w&&l(ne),ne=[k(s,"click",x(e[11])),k(t,"submit",x(e[2])),k(q,"submit",x(e[3])),k(X,"click",x(e[4]))]},p(e,t){e[0]?se?se.p(e,t):(se=dt(e),se.c(),se.m(c,null)):se&&(se.d(1),se=null),1&t&&H(n,"is-hidden",!e[0]),2&t&&w!==(w=e[1].attributes.name)&&b.value!==w&&(b.value=w),2&t&&S!==(S=e[1].attributes.description)&&N.value!==S&&(N.value=S),2&t&&F!==(F=!e[1].attributes.archived)&&(Y.value=F),2&t&&H(R,"is-hidden",e[1].attributes.archived),2&t&&H(V,"is-hidden",!e[1].attributes.archived)},d(e){e&&g(t),se&&se.d(),e&&g(A),e&&g(P),e&&g(O),e&&g(I),e&&g(D),e&&g(q),e&&g(Q),e&&g(W),l(ne)}}}function ut(e){let t;return{c(){t=h("div"),t.innerHTML='<svg class="fa rotating"><use href="../images/fontawesome-sprite.svg#regular-sync-alt"></use></svg> \n      <p class="left-spaced">Loading Game Settings</p>',_(t,"class","has-vcentered-content")},m(e,n){m(e,t,n)},p:a,d(e){e&&g(t)}}}function dt(e){let t,n=Object.entries(e[0]),s=[];for(let t=0;t<n.length;t+=1)s[t]=ft(lt(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=$()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);m(e,t,n)},p(e,i){if(1&i){let a;for(n=Object.entries(e[0]),a=0;a<n.length;a+=1){const o=lt(e,n,a);s[a]?s[a].p(o,i):(s[a]=ft(o),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){v(s,e),e&&g(t)}}}function ft(e){let t,n,s,i,a=e[12]+"",o=e[13]+"";return{c(){t=h("li"),n=w(a),s=w(" : "),i=w(o)},m(e,a){m(e,t,a),p(t,n),p(t,s),p(t,i)},p(e,t){1&t&&a!==(a=e[12]+"")&&j(n,a),1&t&&o!==(o=e[13]+"")&&j(i,o)},d(e){e&&g(t)}}}function pt(e){let t;function n(e,t){return e[1]?rt:ut}let s=n(e),i=s(e);return{c(){i.c(),t=$()},m(e,n){i.m(e,n),m(e,t,n)},p(e,[a]){s===(s=n(e))&&i?i.p(e,a):(i.d(1),i=s(e),i&&(i.c(),i.m(t.parentNode,t)))},i:a,o:a,d(e){i.d(e),e&&g(t)}}}function mt(e,n,s){let a;f(e,xe,e=>s(1,a=e));let o=null;const c=U(),l=G("apiProtocol"),r=G("apiHost"),u=G("userId");async function d(e,n){const a=t(l,r,...e),u=new FormData(document.getElementById(n));_e.set("saving");const d=await i(a,u,"PUT");if(d.ok){_e.set("saved");const e=await d.json();xe.set(e.data),c("message",{gameUrl:e.data.links.self,updateGameList:!0})}else{const e=await d.text();s(0,o=JSON.parse(e)),_e.set("failed")}}function p(){s(0,o=null)}return[o,a,function(){d(["users",u,"games",a.id],"settings-form")},function(){d(["users",u,"games",a.id],"danger-form")},async function(){const e=["users",u,"games",a.id],n=t(l,r,...e),d=await i(n,{},"DELETE");if(d.ok)xe.set(null),c("message",{gameUrl:void 0,updateGameList:!0});else{const e=await d.text();s(0,o=JSON.parse(e))}},p,c,l,r,u,d,()=>p()]}class gt extends oe{constructor(e){super(),ae(this,e,mt,pt,u,{})}}function vt(e){let t;return{c(){t=h("div"),t.innerHTML="<p>Could not load the game you are looking for...</p>",_(t,"class","notification is-warning"),H(t,"is-hidden",!e[0])},m(e,n){m(e,t,n)},p(e,n){1&n&&H(t,"is-hidden",!e[0])},i:a,o:a,d(e){e&&g(t)}}}function ht(e){let t,n,s,i;function a(e,t){return e[2]?bt:wt}let o=a(e),c=o(e);const l=new Ne({props:{game:e[2],selectedTab:e[1]}});l.$on("message",e[6]);var r=e[5][e[1]];if(r){var u=new r({});u.$on("message",e[9])}return{c(){c.c(),t=y(),te(l.$$.fragment),n=y(),u&&te(u.$$.fragment),s=$()},m(e,a){c.m(e,a),m(e,t,a),ne(l,e,a),m(e,n,a),u&&ne(u,e,a),m(e,s,a),i=!0},p(e,n){o===(o=a(e))&&c?c.p(e,n):(c.d(1),c=o(e),c&&(c.c(),c.m(t.parentNode,t)));const i={};if(4&n&&(i.game=e[2]),2&n&&(i.selectedTab=e[1]),l.$set(i),r!==(r=e[5][e[1]])){if(u){Z();const e=u;W(e.$$.fragment,1,0,()=>{se(e,1)}),K()}r?((u=new r({})).$on("message",e[9]),te(u.$$.fragment),Q(u.$$.fragment,1),ne(u,s.parentNode,s)):u=null}},i(e){i||(Q(l.$$.fragment,e),u&&Q(u.$$.fragment,e),i=!0)},o(e){W(l.$$.fragment,e),u&&W(u.$$.fragment,e),i=!1},d(e){c.d(e),e&&g(t),se(l,e),e&&g(n),e&&g(s),u&&se(u,e)}}}function bt(e){let t,n,s,i,a,o,c,l,r,u,d,f,v,$,k,x,L,C=e[2].attributes.name+"",T=e[2].attributes.description+"";return{c(){t=h("h1"),n=h("span"),s=h("abbr"),i=b("svg"),a=b("use"),o=y(),c=b("svg"),l=b("use"),r=y(),u=b("svg"),d=b("use"),v=y(),$=w(C),k=y(),x=h("h1"),L=w(T),_(a,"href","../images/fontawesome-sprite.svg#solid-check-circle"),_(i,"class","fa saved svelte-10d2pmv"),H(i,"is-hidden","saved"!=e[4]),_(l,"href","../images/fontawesome-sprite.svg#solid-spinner-third"),_(c,"class","fa saving rotating svelte-10d2pmv"),H(c,"is-hidden","saving"!=e[4]),_(d,"href","../images/fontawesome-sprite.svg#solid-times-circle"),_(u,"class","fa failed svelte-10d2pmv"),H(u,"is-hidden","failed"!=e[4]),_(s,"title",f="Last save : "+e[3].toLocaleString()),_(n,"id","saving-status"),_(n,"class","svelte-10d2pmv"),_(t,"class","title is-4 has-vcentered-content"),_(x,"id","game-description"),_(x,"class","subtitle is-6 svelte-10d2pmv")},m(e,f){m(e,t,f),p(t,n),p(n,s),p(s,i),p(i,a),p(s,o),p(s,c),p(c,l),p(s,r),p(s,u),p(u,d),p(t,v),p(t,$),m(e,k,f),m(e,x,f),p(x,L)},p(e,t){16&t&&H(i,"is-hidden","saved"!=e[4]),16&t&&H(c,"is-hidden","saving"!=e[4]),16&t&&H(u,"is-hidden","failed"!=e[4]),8&t&&f!==(f="Last save : "+e[3].toLocaleString())&&_(s,"title",f),4&t&&C!==(C=e[2].attributes.name+"")&&j($,C),4&t&&T!==(T=e[2].attributes.description+"")&&j(L,T)},d(e){e&&g(t),e&&g(k),e&&g(x)}}}function wt(e){let t;return{c(){t=h("h1"),t.textContent="Loading Game...",_(t,"class","title is-4 has-vcentered-content")},m(e,n){m(e,t,n)},p:a,d(e){e&&g(t)}}}function yt(e){let t,n,s,i;const a=[ht,vt],o=[];function c(e,t){return e[0]?1:0}return t=c(e),n=o[t]=a[t](e),{c(){n.c(),s=$()},m(e,n){o[t].m(e,n),m(e,s,n),i=!0},p(e,[i]){let l=t;t=c(e),t===l?o[t].p(e,i):(Z(),W(o[l],1,1,()=>{o[l]=null}),K(),n=o[t],n||(n=o[t]=a[t](e),n.c()),Q(n,1),n.m(s.parentNode,s))},i(e){i||(Q(n),i=!0)},o(e){W(n),i=!1},d(e){o[t].d(e),e&&g(s)}}}function $t(e,t,n){let i,a,o;f(e,xe,e=>n(2,i=e)),f(e,je,e=>n(3,a=e)),f(e,_e,e=>n(4,o=e));let{gameUrl:c}=t,l=null,r="actions";const u={overview:Ge,actions:Xe,achievements:tt,rewards:st,stats:at,dev:ct,settings:gt};async function d(e){const t=await s(e);if(t.ok){const e=await t.json();xe.set(e.data)}else n(0,l="Could not find the game you are looking for...")}return e.$set=e=>{"gameUrl"in e&&n(7,c=e.gameUrl)},e.$$.update=()=>{128&e.$$.dirty&&d(c)},[l,r,i,a,o,u,function(e){n(1,r=e.detail.selectedTab)},c,d,function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)}]}class kt extends oe{constructor(e){super(),ae(this,e,$t,yt,u,{gameUrl:7})}}function xt(e){let t;const n=new kt({props:{gameUrl:e[1]}});return n.$on("message",e[2]),{c(){te(n.$$.fragment)},m(e,s){ne(n,e,s),t=!0},p(e,t){const s={};2&t&&(s.gameUrl=e[1]),n.$set(s)},i(e){t||(Q(n.$$.fragment,e),t=!0)},o(e){W(n.$$.fragment,e),t=!1},d(e){se(n,e)}}}function _t(e){let t;const n=new ye({});return n.$on("message",e[2]),{c(){te(n.$$.fragment)},m(e,s){ne(n,e,s),t=!0},p:a,i(e){t||(Q(n.$$.fragment,e),t=!0)},o(e){W(n.$$.fragment,e),t=!1},d(e){se(n,e)}}}function jt(e){let t;return{c(){t=h("p"),t.innerHTML='← Start by hitting the &#39;New Game&#39; button !\n          <svg class="twemoji"><use href="../images/twemoji-sprite.svg#party_popper"></use></svg>'},m(e,n){m(e,t,n)},p:a,i:a,o:a,d(e){e&&g(t)}}}function Lt(e){let t,n,s,i,a,o,c,l;const r=new me({props:{gameList:e[0],gameUrl:e[1]}});r.$on("message",e[2]);const u=[jt,_t,xt],d=[];function f(e,t){return e[1]?"new"===e[1]?1:2:0}return o=f(e),c=d[o]=u[o](e),{c(){t=h("div"),n=h("div"),te(r.$$.fragment),s=y(),i=h("div"),a=h("div"),c.c(),_(n,"class","column is-2"),_(a,"id","game-content"),_(a,"class","box svelte-18ayl8q"),_(i,"class","column"),_(t,"class","columns")},m(e,c){m(e,t,c),p(t,n),ne(r,n,null),p(t,s),p(t,i),p(i,a),d[o].m(a,null),l=!0},p(e,[t]){const n={};1&t&&(n.gameList=e[0]),2&t&&(n.gameUrl=e[1]),r.$set(n);let s=o;o=f(e),o===s?d[o].p(e,t):(Z(),W(d[s],1,1,()=>{d[s]=null}),K(),c=d[o],c||(c=d[o]=u[o](e),c.c()),Q(c,1),c.m(a,null))},i(e){l||(Q(r.$$.fragment,e),Q(c),l=!0)},o(e){W(r.$$.fragment,e),W(c),l=!1},d(e){e&&g(t),se(r),d[o].d()}}}function Ct(e,n,i){let a,o,{apiProtocol:c}=n,{apiHost:l}=n,{userId:r}=n;async function u(e){const n=t(c,l,"users",e,"games"),i=await s(n);return(await i.json()).data}return e.$set=e=>{"apiProtocol"in e&&i(3,c=e.apiProtocol),"apiHost"in e&&i(4,l=e.apiHost),"userId"in e&&i(5,r=e.userId)},e.$$.update=()=>{32&e.$$.dirty&&i(0,a=u(r)),8&e.$$.dirty&&E("apiProtocol",c),16&e.$$.dirty&&E("apiHost",l),32&e.$$.dirty&&E("userId",r)},[a,o,async function(e){e.detail.updateGameList&&i(0,a=await u(r)),i(1,o=e.detail.gameUrl)},c,l,r]}class Tt extends oe{constructor(e){super(),ae(this,e,Ct,Lt,u,{apiProtocol:3,apiHost:4,userId:5})}}function Ht(e){let t,n,s,i,o,c,l,r,u;return{c(){t=h("div"),n=h("a"),n.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-in"></use></svg></span> \n    <span>\n      Sign In\n    </span>',s=y(),i=h("a"),i.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-cog"></use></svg></span> \n    <span>\n      Settings\n    </span>',o=y(),c=h("button"),c.innerHTML='<span class="icon is-small"><svg class="fa"><use href="../images/fontawesome-sprite.svg#solid-sign-out"></use></svg></span> \n    <span>\n      Sign Out\n    </span>',l=y(),r=h("a"),r.innerHTML='<span class="icon is-small"><svg class="fa fill-secondary"><use href="../images/fontawesome-sprite.svg#solid-sign-in-alt"></use></svg></span> \n    <span>\n      Sign Up\n    </span>',_(n,"href","/credentials.html"),_(n,"class","button is-link is-outlined fill-primary"),H(n,"is-hidden",e[0]),_(i,"href","/settings.html"),_(i,"class","button is-link is-outlined fill-primary"),H(i,"is-hidden",!e[0]),_(c,"id","sign-out"),_(c,"class","button is-link fill-secondary"),H(c,"is-hidden",!e[0]),_(r,"href","/credentials.html?signup=true"),_(r,"class","button is-link fill-primary"),H(r,"is-hidden",e[0]),_(t,"class","buttons")},m(a,d,f){m(a,t,d),p(t,n),p(t,s),p(t,i),p(t,o),p(t,c),p(t,l),p(t,r),f&&u(),u=k(c,"click",e[1])},p(e,[t]){1&t&&H(n,"is-hidden",e[0]),1&t&&H(i,"is-hidden",!e[0]),1&t&&H(c,"is-hidden",!e[0]),1&t&&H(r,"is-hidden",e[0])},i:a,o:a,d(e){e&&g(t),u()}}}function Nt(e,s,a){let{apiProtocol:o}=s,{apiHost:c}=s,l=!1;var r;return r=async()=>{a(0,l=n(document.cookie,"user_id"))},M().$$.on_mount.push(r),e.$set=e=>{"apiProtocol"in e&&a(2,o=e.apiProtocol),"apiHost"in e&&a(3,c=e.apiHost)},[l,async function(){const e=t(o,c,"signout");await i(e,void 0),window.location.replace(t(window.location.protocol,window.location.host,"index.html"))},o,c]}class St extends oe{constructor(e){super(),ae(this,e,Nt,Ht,u,{apiProtocol:2,apiHost:3})}}return(async()=>{const t=new URLSearchParams(window.location.search),s=t.has("user_id")?t.get("user_id"):n(document.cookie,"user_id");new St({target:document.getElementById("credentials-buttons"),props:{apiProtocol:e.protocol,apiHost:e.host}}),new Tt({target:document.getElementById("main"),props:{apiProtocol:e.protocol,apiHost:e.host,userId:s}})})()}();
//# sourceMappingURL=dashboard.js.map
