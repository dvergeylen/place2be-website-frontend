var app=function(){"use strict";var n={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(){}function e(n){return n()}function i(){return Object.create(null)}function s(n){n.forEach(e)}function o(n){return"function"==typeof n}function l(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function a(n,t){n.appendChild(t)}function c(n,t,e){n.insertBefore(t,e||null)}function r(n){n.parentNode.removeChild(n)}function u(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function d(n){return document.createElement(n)}function f(n){return document.createTextNode(n)}function p(){return f(" ")}function m(){return f("")}function g(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function h(n){return function(t){return t.preventDefault(),n.call(this,t)}}function b(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function v(n,t){t=""+t,n.data!==t&&(n.data=t)}function y(n,t,e){n.classList[e?"add":"remove"](t)}let w;function $(n){w=n}const x=[],k=[],_=[],H=[],L=Promise.resolve();let S=!1;function j(n){_.push(n)}let T=!1;const C=new Set;function E(){if(!T){T=!0;do{for(let n=0;n<x.length;n+=1){const t=x[n];$(t),M(t.$$)}for(x.length=0;k.length;)k.pop()();for(let n=0;n<_.length;n+=1){const t=_[n];C.has(t)||(C.add(t),t())}_.length=0}while(x.length);for(;H.length;)H.pop()();S=!1,T=!1,C.clear()}}function M(n){if(null!==n.fragment){n.update(),s(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(j)}}const P=new Set;function O(n,t){-1===n.$$.dirty[0]&&(x.push(n),S||(S=!0,L.then(E)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function A(n,l,a,c,u,d,f=[-1]){const p=w;$(n);const m=l.props||{},g=n.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:i(),dirty:f};let h=!1;if(g.ctx=a?a(n,m,(t,e,...i)=>{const s=i.length?i[0]:e;return g.ctx&&u(g.ctx[t],g.ctx[t]=s)&&(g.bound[t]&&g.bound[t](s),h&&O(n,t)),e}):[],g.update(),h=!0,s(g.before_update),g.fragment=!!c&&c(g.ctx),l.target){if(l.hydrate){const n=function(n){return Array.from(n.childNodes)}(l.target);g.fragment&&g.fragment.l(n),n.forEach(r)}else g.fragment&&g.fragment.c();l.intro&&((b=n.$$.fragment)&&b.i&&(P.delete(b),b.i(v))),function(n,t,i){const{fragment:l,on_mount:a,on_destroy:c,after_update:r}=n.$$;l&&l.m(t,i),j(()=>{const t=a.map(e).filter(o);c?c.push(...t):s(t),n.$$.on_mount=[]}),r.forEach(j)}(n,l.target,l.anchor),E()}var b,v;$(p)}function N(n,t,...e){return`${n}//${t}/${(Array.isArray(e)?e:[e]).map(n=>n.replace(/^\/+|\/+$/,"")).join("/")}`}function U(n,t,e){const i=n.slice();return i[12]=t[e][0],i[13]=t[e][1],i}function I(n,t,e){const i=n.slice();return i[12]=t[e][0],i[13]=t[e][1],i}function B(n){let t,e=Object.entries(n[1].signin),i=[];for(let t=0;t<e.length;t+=1)i[t]=z(I(n,e,t));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=m()},m(n,e){for(let t=0;t<i.length;t+=1)i[t].m(n,e);c(n,t,e)},p(n,s){if(2&s){let o;for(e=Object.entries(n[1].signin),o=0;o<e.length;o+=1){const l=I(n,e,o);i[o]?i[o].p(l,s):(i[o]=z(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){u(i,n),n&&r(t)}}}function z(n){let t,e,i,s,o=n[12]+"",l=n[13]+"";return{c(){t=d("li"),e=f(o),i=f(" : "),s=f(l)},m(n,o){c(n,t,o),a(t,e),a(t,i),a(t,s)},p(n,t){2&t&&o!==(o=n[12]+"")&&v(e,o),2&t&&l!==(l=n[13]+"")&&v(s,l)},d(n){n&&r(t)}}}function D(n){let t,e=Object.entries(n[1].signup),i=[];for(let t=0;t<e.length;t+=1)i[t]=q(U(n,e,t));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=m()},m(n,e){for(let t=0;t<i.length;t+=1)i[t].m(n,e);c(n,t,e)},p(n,s){if(2&s){let o;for(e=Object.entries(n[1].signup),o=0;o<e.length;o+=1){const l=U(n,e,o);i[o]?i[o].p(l,s):(i[o]=q(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){u(i,n),n&&r(t)}}}function q(n){let t,e,i,s,o=n[12]+"",l=n[13].join(", ")+"";return{c(){t=d("li"),e=f(o),i=f(" : "),s=f(l)},m(n,o){c(n,t,o),a(t,e),a(t,i),a(t,s)},p(n,t){2&t&&o!==(o=n[12]+"")&&v(e,o),2&t&&l!==(l=n[13].join(", ")+"")&&v(s,l)},d(n){n&&r(t)}}}function F(n){let e,i,o,l,u,f,m,v,w,$,x,k,_,H,L,S,j,T,C,E,M,P,O,A,N,U,I,z,q,F,J,R,G,K,Q,V,W,X,Y,Z,nn,tn,en,sn,on,ln,an,cn,rn,un,dn,fn,pn=n[1].signin&&B(n),mn=n[1].signup&&D(n);return{c(){e=d("div"),i=d("div"),o=d("h1"),o.textContent="Sign in :",l=p(),u=d("form"),f=d("div"),m=d("button"),v=p(),w=d("h1"),w.textContent="Unable to Sign in",$=p(),x=d("ul"),pn&&pn.c(),k=p(),_=d("div"),_.innerHTML='<label class="label">\n          Email :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[email]" class="input reasonable-width" type="text"></div>',H=p(),L=d("div"),L.innerHTML='<label class="label">\n          Password :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[password]" class="input reasonable-width" type="password"></div>',S=p(),j=d("div"),T=d("div"),T.innerHTML='<button class="button is-link">Sign In</button>',C=p(),E=d("div"),M=d("a"),M.textContent="Sign Up",P=p(),O=d("div"),O.innerHTML='<a href="/index.html" class="button is-link is-light">Cancel</a>',A=p(),N=d("div"),U=d("div"),I=d("h1"),I.textContent="Sign up :",z=p(),q=d("form"),F=d("div"),J=d("button"),R=p(),G=d("h1"),G.textContent="Unable to Sign up",K=p(),Q=d("ul"),mn&&mn.c(),V=p(),W=d("div"),W.innerHTML='<label class="label">\n          Name :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[name]" class="input reasonable-width" type="text"></div>',X=p(),Y=d("div"),Y.innerHTML='<label class="label">\n          Email :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[email]" class="input reasonable-width" type="text"></div>',Z=p(),nn=d("div"),nn.innerHTML='<label class="label">\n          Password :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[password]" class="input reasonable-width" type="password"></div>',tn=p(),en=d("div"),en.innerHTML='<label class="label">\n          Password Confirmation:\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[password_confirmation]" class="input reasonable-width" type="password"></div>',sn=p(),on=d("div"),ln=d("div"),ln.innerHTML='<button class="button is-link">Sign Up</button>',an=p(),cn=d("div"),rn=d("a"),rn.textContent="Sign In",un=p(),dn=d("div"),dn.innerHTML='<a href="/index.html" class="button is-link is-light">Cancel</a>',b(o,"class","title is-4"),b(m,"class","delete"),b(w,"class","title is-5"),b(f,"class","notification is-warning"),y(f,"is-hidden",!n[1].signin),b(_,"class","field"),b(L,"class","field"),b(T,"class","control"),b(M,"href","javascript:void(0)"),b(M,"class","button is-link is-outlined"),b(E,"class","control"),b(O,"class","control"),b(j,"class","field is-grouped"),b(u,"id","signin-form"),b(i,"class","item-box svelte-1i0zbm6"),b(e,"id","signin"),y(e,"is-hidden",!n[0]),b(I,"class","title is-4"),b(J,"class","delete"),b(G,"class","title is-5"),b(F,"class","notification is-danger"),y(F,"is-hidden",!n[1].signup),b(W,"class","field"),b(Y,"class","field"),b(nn,"class","field"),b(en,"class","field"),b(ln,"class","control"),b(rn,"href","javascript:void(0)"),b(rn,"class","button is-link is-outlined"),b(cn,"class","control"),b(dn,"class","control"),b(on,"class","field is-grouped"),b(q,"id","signup-form"),b(U,"class","item-box svelte-1i0zbm6"),b(N,"id","signup"),y(N,"is-hidden",n[0])},m(t,r,d){c(t,e,r),a(e,i),a(i,o),a(i,l),a(i,u),a(u,f),a(f,m),a(f,v),a(f,w),a(f,$),a(f,x),pn&&pn.m(x,null),a(u,k),a(u,_),a(u,H),a(u,L),a(u,S),a(u,j),a(j,T),a(j,C),a(j,E),a(E,M),a(j,P),a(j,O),c(t,A,r),c(t,N,r),a(N,U),a(U,I),a(U,z),a(U,q),a(q,F),a(F,J),a(F,R),a(F,G),a(F,K),a(F,Q),mn&&mn.m(Q,null),a(q,V),a(q,W),a(q,X),a(q,Y),a(q,Z),a(q,nn),a(q,tn),a(q,en),a(q,sn),a(q,on),a(on,ln),a(on,an),a(on,cn),a(cn,rn),a(on,un),a(on,dn),d&&s(fn),fn=[g(m,"click",h(n[10])),g(M,"click",n[4]),g(u,"submit",h(n[2])),g(J,"click",h(n[11])),g(rn,"click",n[4]),g(q,"submit",h(n[3]))]},p(n,[t]){n[1].signin?pn?pn.p(n,t):(pn=B(n),pn.c(),pn.m(x,null)):pn&&(pn.d(1),pn=null),2&t&&y(f,"is-hidden",!n[1].signin),1&t&&y(e,"is-hidden",!n[0]),n[1].signup?mn?mn.p(n,t):(mn=D(n),mn.c(),mn.m(Q,null)):mn&&(mn.d(1),mn=null),2&t&&y(F,"is-hidden",!n[1].signup),1&t&&y(N,"is-hidden",n[0])},i:t,o:t,d(n){n&&r(e),pn&&pn.d(),n&&r(A),n&&r(N),mn&&mn.d(),s(fn)}}}function J(n,t,e){let{apiProtocol:i}=t,{apiHost:s}=t;const o=new URLSearchParams(window.location.search);let l=!o.has("signup"),a={signin:null,signup:null};async function c(n,t){const o=N(i,s,n),l=new FormData(document.getElementById(t)),c=await function(n,t,e){const i=function(n,t){const e=n.split(";").map(n=>n.split("=")).find(([n])=>n.trim()===t);return e?e[1]:void 0}(document.cookie,"csrf_token");return fetch(n,{method:e||"POST",credentials:"include",headers:{Accept:"application/json",...i&&{"x-csrf-token":i}},body:t})}(o,l);if(c.ok){const n=N(window.location.protocol,window.location.host,"dashboard.html");window.location.replace(n)}else{const t=await c.text();e(1,a[n]=JSON.parse(t),a)}}function r(n){e(1,a[n]=null,a)}return n.$set=n=>{"apiProtocol"in n&&e(6,i=n.apiProtocol),"apiHost"in n&&e(7,s=n.apiHost)},[l,a,function(){c("signin","signin-form")},function(){c("signup","signup-form")},function(){e(0,l=!l)},r,i,s,o,c,()=>r("signin"),()=>r("signup")]}class R extends class{$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}{constructor(n){super(),A(this,n,J,F,l,{apiProtocol:6,apiHost:7})}}return(async()=>{new R({target:document.getElementById("credentials"),props:{apiProtocol:n.protocol,apiHost:n.host}})})()}();
//# sourceMappingURL=credentials.js.map
