var app=function(){"use strict";var n={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(){}function e(n){return n()}function i(){return Object.create(null)}function s(n){n.forEach(e)}function o(n){return"function"==typeof n}function l(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function a(n,t){n.appendChild(t)}function r(n,t,e){n.insertBefore(t,e||null)}function c(n){n.parentNode.removeChild(n)}function u(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function d(n){return document.createElement(n)}function f(n){return document.createTextNode(n)}function p(){return f(" ")}function g(){return f("")}function m(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function h(n){return function(t){return t.preventDefault(),n.call(this,t)}}function b(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function v(n,t){t=""+t,n.data!==t&&(n.data=t)}function y(n,t,e){n.classList[e?"add":"remove"](t)}let w;function $(n){w=n}const x=[],k=[],_=[],H=[],L=Promise.resolve();let S=!1;function j(n){_.push(n)}let T=!1;const C=new Set;function E(){if(!T){T=!0;do{for(let n=0;n<x.length;n+=1){const t=x[n];$(t),M(t.$$)}for(x.length=0;k.length;)k.pop()();for(let n=0;n<_.length;n+=1){const t=_[n];C.has(t)||(C.add(t),t())}_.length=0}while(x.length);for(;H.length;)H.pop()();S=!1,T=!1,C.clear()}}function M(n){if(null!==n.fragment){n.update(),s(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(j)}}const P=new Set;function O(n,t){-1===n.$$.dirty[0]&&(x.push(n),S||(S=!0,L.then(E)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function A(n,l,a,r,u,d,f=[-1]){const p=w;$(n);const g=l.props||{},m=n.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:i(),dirty:f};let h=!1;if(m.ctx=a?a(n,g,(t,e,...i)=>{const s=i.length?i[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=s)&&(m.bound[t]&&m.bound[t](s),h&&O(n,t)),e}):[],m.update(),h=!0,s(m.before_update),m.fragment=!!r&&r(m.ctx),l.target){if(l.hydrate){const n=function(n){return Array.from(n.childNodes)}(l.target);m.fragment&&m.fragment.l(n),n.forEach(c)}else m.fragment&&m.fragment.c();l.intro&&((b=n.$$.fragment)&&b.i&&(P.delete(b),b.i(v))),function(n,t,i){const{fragment:l,on_mount:a,on_destroy:r,after_update:c}=n.$$;l&&l.m(t,i),j(()=>{const t=a.map(e).filter(o);r?r.push(...t):s(t),n.$$.on_mount=[]}),c.forEach(j)}(n,l.target,l.anchor),E()}var b,v;$(p)}function N(n,t,...e){return`${n}//${t}/${(Array.isArray(e)?e:[e]).map(n=>n.replace(/^\/+|\/+$/,"")).join("/")}`}function U(n,t,e){const i=n.slice();return i[12]=t[e][0],i[13]=t[e][1],i}function I(n,t,e){const i=n.slice();return i[12]=t[e][0],i[13]=t[e][1],i}function B(n){let t,e=Object.entries(n[1].signin),i=[];for(let t=0;t<e.length;t+=1)i[t]=D(I(n,e,t));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=g()},m(n,e){for(let t=0;t<i.length;t+=1)i[t].m(n,e);r(n,t,e)},p(n,s){if(2&s){let o;for(e=Object.entries(n[1].signin),o=0;o<e.length;o+=1){const l=I(n,e,o);i[o]?i[o].p(l,s):(i[o]=D(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){u(i,n),n&&c(t)}}}function D(n){let t,e,i,s,o=n[12]+"",l=n[13]+"";return{c(){t=d("li"),e=f(o),i=f(" : "),s=f(l)},m(n,o){r(n,t,o),a(t,e),a(t,i),a(t,s)},p(n,t){2&t&&o!==(o=n[12]+"")&&v(e,o),2&t&&l!==(l=n[13]+"")&&v(s,l)},d(n){n&&c(t)}}}function q(n){let t,e=Object.entries(n[1].signup),i=[];for(let t=0;t<e.length;t+=1)i[t]=F(U(n,e,t));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=g()},m(n,e){for(let t=0;t<i.length;t+=1)i[t].m(n,e);r(n,t,e)},p(n,s){if(2&s){let o;for(e=Object.entries(n[1].signup),o=0;o<e.length;o+=1){const l=U(n,e,o);i[o]?i[o].p(l,s):(i[o]=F(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){u(i,n),n&&c(t)}}}function F(n){let t,e,i,s,o=n[12]+"",l=n[13].join(", ")+"";return{c(){t=d("li"),e=f(o),i=f(" : "),s=f(l)},m(n,o){r(n,t,o),a(t,e),a(t,i),a(t,s)},p(n,t){2&t&&o!==(o=n[12]+"")&&v(e,o),2&t&&l!==(l=n[13].join(", ")+"")&&v(s,l)},d(n){n&&c(t)}}}function J(n){let e,i,o,l,u,f,g,v,w,$,x,k,_,H,L,S,j,T,C,E,M,P,O,A,N,U,I,D,F,J,R,z,G,K,Q,V,W,X,Y,Z,nn,tn,en,sn,on,ln,an,rn,cn,un,dn=n[1].signin&&B(n),fn=n[1].signup&&q(n);return{c(){e=d("div"),i=d("h1"),i.textContent="Sign in :",o=p(),l=d("form"),u=d("div"),f=d("button"),g=p(),v=d("h1"),v.textContent="Unable to Sign in",w=p(),$=d("ul"),dn&&dn.c(),x=p(),k=d("div"),k.innerHTML='<label class="label">\n        Email :\n        <span class="mandatory">*</span></label> \n      <div class="control"><input name="user[email]" class="input reasonable-width" type="text"></div>',_=p(),H=d("div"),H.innerHTML='<label class="label">\n        Password :\n        <span class="mandatory">*</span></label> \n      <div class="control"><input name="user[password]" class="input reasonable-width" type="password"></div>',L=p(),S=d("div"),j=d("div"),j.innerHTML='<button class="button is-link">Sign In</button>',T=p(),C=d("div"),E=d("a"),E.textContent="Sign Up",M=p(),P=d("div"),P.innerHTML='<a href="/index.html" class="button is-link is-light">Cancel</a>',O=p(),A=d("div"),N=d("h1"),N.textContent="Sign up :",U=p(),I=d("form"),D=d("div"),F=d("button"),J=p(),R=d("h1"),R.textContent="Unable to Sign up",z=p(),G=d("ul"),fn&&fn.c(),K=p(),Q=d("div"),Q.innerHTML='<label class="label">\n        Name :\n        <span class="mandatory">*</span></label> \n      <div class="control"><input name="user[name]" class="input reasonable-width" type="text"></div>',V=p(),W=d("div"),W.innerHTML='<label class="label">\n        Email :\n        <span class="mandatory">*</span></label> \n      <div class="control"><input name="user[email]" class="input reasonable-width" type="text"></div>',X=p(),Y=d("div"),Y.innerHTML='<label class="label">\n        Password :\n        <span class="mandatory">*</span></label> \n      <div class="control"><input name="user[password]" class="input reasonable-width" type="password"></div>',Z=p(),nn=d("div"),nn.innerHTML='<label class="label">\n        Password Confirmation:\n        <span class="mandatory">*</span></label> \n      <div class="control"><input name="user[password_confirmation]" class="input reasonable-width" type="password"></div>',tn=p(),en=d("div"),sn=d("div"),sn.innerHTML='<button class="button is-link">Sign Up</button>',on=p(),ln=d("div"),an=d("a"),an.textContent="Sign In",rn=p(),cn=d("div"),cn.innerHTML='<a href="/index.html" class="button is-link is-light">Cancel</a>',b(i,"class","title is-4"),b(f,"class","delete"),b(v,"class","title is-5"),b(u,"class","notification is-warning"),y(u,"is-hidden",!n[1].signin),b(k,"class","field"),b(H,"class","field"),b(j,"class","control"),b(E,"href","javascript:void(0)"),b(E,"class","button is-link is-outlined"),b(C,"class","control"),b(P,"class","control"),b(S,"class","field is-grouped"),b(l,"id","signin-form"),b(e,"id","signin"),y(e,"is-hidden",!n[0]),b(N,"class","title is-4"),b(F,"class","delete"),b(R,"class","title is-5"),b(D,"class","notification is-danger"),y(D,"is-hidden",!n[1].signup),b(Q,"class","field"),b(W,"class","field"),b(Y,"class","field"),b(nn,"class","field"),b(sn,"class","control"),b(an,"href","javascript:void(0)"),b(an,"class","button is-link is-outlined"),b(ln,"class","control"),b(cn,"class","control"),b(en,"class","field is-grouped"),b(I,"id","signup-form"),b(A,"id","signup"),y(A,"is-hidden",n[0])},m(t,c,d){r(t,e,c),a(e,i),a(e,o),a(e,l),a(l,u),a(u,f),a(u,g),a(u,v),a(u,w),a(u,$),dn&&dn.m($,null),a(l,x),a(l,k),a(l,_),a(l,H),a(l,L),a(l,S),a(S,j),a(S,T),a(S,C),a(C,E),a(S,M),a(S,P),r(t,O,c),r(t,A,c),a(A,N),a(A,U),a(A,I),a(I,D),a(D,F),a(D,J),a(D,R),a(D,z),a(D,G),fn&&fn.m(G,null),a(I,K),a(I,Q),a(I,V),a(I,W),a(I,X),a(I,Y),a(I,Z),a(I,nn),a(I,tn),a(I,en),a(en,sn),a(en,on),a(en,ln),a(ln,an),a(en,rn),a(en,cn),d&&s(un),un=[m(f,"click",h(n[10])),m(E,"click",n[4]),m(l,"submit",h(n[2])),m(F,"click",h(n[11])),m(an,"click",n[4]),m(I,"submit",h(n[3]))]},p(n,[t]){n[1].signin?dn?dn.p(n,t):(dn=B(n),dn.c(),dn.m($,null)):dn&&(dn.d(1),dn=null),2&t&&y(u,"is-hidden",!n[1].signin),1&t&&y(e,"is-hidden",!n[0]),n[1].signup?fn?fn.p(n,t):(fn=q(n),fn.c(),fn.m(G,null)):fn&&(fn.d(1),fn=null),2&t&&y(D,"is-hidden",!n[1].signup),1&t&&y(A,"is-hidden",n[0])},i:t,o:t,d(n){n&&c(e),dn&&dn.d(),n&&c(O),n&&c(A),fn&&fn.d(),s(un)}}}function R(n,t,e){let{apiProtocol:i}=t,{apiHost:s}=t;const o=new URLSearchParams(window.location.search);let l=!o.has("signup"),a={signin:null,signup:null};async function r(n,t){const o=N(i,s,n),l=new FormData(document.getElementById(t)),r=await function(n,t,e){const i=function(n,t){const e=n.split(";").map(n=>n.split("=")).find(([n])=>n.trim()===t);return e?e[1]:void 0}(document.cookie,"csrf_token");return fetch(n,{method:e||"POST",credentials:"include",headers:{Accept:"application/json",...i&&{"x-csrf-token":i}},body:t})}(o,l);if(r.ok){const n=N(window.location.protocol,window.location.host,"dashboard.html");window.location.replace(n)}else{const t=await r.text();e(1,a[n]=JSON.parse(t),a)}}function c(n){e(1,a[n]=null,a)}return n.$set=n=>{"apiProtocol"in n&&e(6,i=n.apiProtocol),"apiHost"in n&&e(7,s=n.apiHost)},[l,a,function(){r("signin","signin-form")},function(){r("signup","signup-form")},function(){e(0,l=!l)},c,i,s,o,r,()=>c("signin"),()=>c("signup")]}class z extends class{$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}{constructor(n){super(),A(this,n,R,J,l,{apiProtocol:6,apiHost:7})}}return(async()=>{new z({target:document.getElementById("credentials"),props:{apiProtocol:n.protocol,apiHost:n.host}})})()}();
//# sourceMappingURL=credentials.js.map
