var app=function(){"use strict";var n={protocol:"https:",host:"frontend.place2be.io/api/v1"};function t(n,t,...e){return`${n}//${t}/${(Array.isArray(e)?e:[e]).map(n=>n.replace(/^\/+|\/+$/,"")).join("/")}`}function e(){}function i(n){return n()}function s(){return Object.create(null)}function o(n){n.forEach(i)}function l(n){return"function"==typeof n}function a(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function c(n,t){n.appendChild(t)}function r(n,t,e){n.insertBefore(t,e||null)}function d(n){n.parentNode.removeChild(n)}function u(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function f(n){return document.createElement(n)}function p(n){return document.createTextNode(n)}function m(){return p(" ")}function g(){return p("")}function h(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function b(n){return function(t){return t.preventDefault(),n.call(this,t)}}function v(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function y(n,t){t=""+t,n.data!==t&&(n.data=t)}function w(n,t,e){n.classList[e?"add":"remove"](t)}let $;function x(n){$=n}const L=[],k=[],_=[],H=[],S=Promise.resolve();let E=!1;function j(n){_.push(n)}let C=!1;const M=new Set;function T(){if(!C){C=!0;do{for(let n=0;n<L.length;n+=1){const t=L[n];x(t),P(t.$$)}for(L.length=0;k.length;)k.pop()();for(let n=0;n<_.length;n+=1){const t=_[n];M.has(t)||(M.add(t),t())}_.length=0}while(L.length);for(;H.length;)H.pop()();E=!1,C=!1,M.clear()}}function P(n){if(null!==n.fragment){n.update(),o(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(j)}}const O=new Set;function A(n,t){-1===n.$$.dirty[0]&&(L.push(n),E||(E=!0,S.then(T)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function N(n,t,a,c,r,u,f=[-1]){const p=$;x(n);const m=t.props||{},g=n.$$={fragment:null,ctx:null,props:u,update:e,not_equal:r,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:s(),dirty:f};let h=!1;if(g.ctx=a?a(n,m,(t,e,...i)=>{const s=i.length?i[0]:e;return g.ctx&&r(g.ctx[t],g.ctx[t]=s)&&(g.bound[t]&&g.bound[t](s),h&&A(n,t)),e}):[],g.update(),h=!0,o(g.before_update),g.fragment=!!c&&c(g.ctx),t.target){if(t.hydrate){const n=function(n){return Array.from(n.childNodes)}(t.target);g.fragment&&g.fragment.l(n),n.forEach(d)}else g.fragment&&g.fragment.c();t.intro&&((b=n.$$.fragment)&&b.i&&(O.delete(b),b.i(v))),function(n,t,e){const{fragment:s,on_mount:a,on_destroy:c,after_update:r}=n.$$;s&&s.m(t,e),j(()=>{const t=a.map(i).filter(l);c?c.push(...t):o(t),n.$$.on_mount=[]}),r.forEach(j)}(n,t.target,t.anchor),T()}var b,v;x(p)}function U(n,t,e){const i=n.slice();return i[12]=t[e][0],i[13]=t[e][1],i}function I(n,t,e){const i=n.slice();return i[12]=t[e][0],i[13]=t[e][1],i}function q(n){let t,e=Object.entries(n[1].signin),i=[];for(let t=0;t<e.length;t+=1)i[t]=B(I(n,e,t));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=g()},m(n,e){for(let t=0;t<i.length;t+=1)i[t].m(n,e);r(n,t,e)},p(n,s){if(2&s){let o;for(e=Object.entries(n[1].signin),o=0;o<e.length;o+=1){const l=I(n,e,o);i[o]?i[o].p(l,s):(i[o]=B(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){u(i,n),n&&d(t)}}}function B(n){let t,e,i,s,o=n[12]+"",l=n[13]+"";return{c(){t=f("li"),e=p(o),i=p(" : "),s=p(l)},m(n,o){r(n,t,o),c(t,e),c(t,i),c(t,s)},p(n,t){2&t&&o!==(o=n[12]+"")&&y(e,o),2&t&&l!==(l=n[13]+"")&&y(s,l)},d(n){n&&d(t)}}}function D(n){let t,e=Object.entries(n[1].signup),i=[];for(let t=0;t<e.length;t+=1)i[t]=z(U(n,e,t));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=g()},m(n,e){for(let t=0;t<i.length;t+=1)i[t].m(n,e);r(n,t,e)},p(n,s){if(2&s){let o;for(e=Object.entries(n[1].signup),o=0;o<e.length;o+=1){const l=U(n,e,o);i[o]?i[o].p(l,s):(i[o]=z(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){u(i,n),n&&d(t)}}}function z(n){let t,e,i,s,o=n[12]+"",l=n[13].join(", ")+"";return{c(){t=f("li"),e=p(o),i=p(" : "),s=p(l)},m(n,o){r(n,t,o),c(t,e),c(t,i),c(t,s)},p(n,t){2&t&&o!==(o=n[12]+"")&&y(e,o),2&t&&l!==(l=n[13].join(", ")+"")&&y(s,l)},d(n){n&&d(t)}}}function F(n){let t,i,s,l,a,u,p,g,y,$,x,L,k,_,H,S,E,j,C,M,T,P,O,A,N,U,I,B,z,F,J,R,G,K,Q,V,W,X,Y,Z,nn,tn,en,sn,on,ln,an,cn,rn,dn,un,fn,pn=n[1].signin&&q(n),mn=n[1].signup&&D(n);return{c(){t=f("div"),i=f("div"),s=f("h1"),s.textContent="Sign in :",l=m(),a=f("form"),u=f("div"),p=f("button"),g=m(),y=f("h1"),y.textContent="Unable to Sign in",$=m(),x=f("ul"),pn&&pn.c(),L=m(),k=f("div"),k.innerHTML='<label class="label">\n          Email :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[email]" class="input reasonable-width" type="text"></div>',_=m(),H=f("div"),H.innerHTML='<label class="label">\n          Password :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[password]" class="input reasonable-width" type="password"></div>',S=m(),E=f("div"),j=f("div"),j.innerHTML='<button class="button is-link">Sign In</button>',C=m(),M=f("div"),T=f("a"),T.textContent="Sign Up",P=m(),O=f("div"),O.innerHTML='<a href="/index.html" class="button is-link is-light">Cancel</a>',A=m(),N=f("div"),U=f("div"),I=f("h1"),I.textContent="Sign up :",B=m(),z=f("form"),F=f("div"),J=f("button"),R=m(),G=f("h1"),G.textContent="Unable to Sign up",K=m(),Q=f("ul"),mn&&mn.c(),V=m(),W=f("div"),W.innerHTML='<label class="label">\n          Name :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[name]" class="input reasonable-width" type="text"></div>',X=m(),Y=f("div"),Y.innerHTML='<label class="label">\n          Email :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[email]" class="input reasonable-width" type="text"></div>',Z=m(),nn=f("div"),nn.innerHTML='<label class="label">\n          Password :\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[password]" class="input reasonable-width" type="password"></div>',tn=m(),en=f("div"),en.innerHTML='<label class="label">\n          Password Confirmation:\n          <span class="mandatory">*</span></label> \n        <div class="control"><input name="user[password_confirmation]" class="input reasonable-width" type="password"></div>',sn=m(),on=f("div"),ln=f("div"),ln.innerHTML='<button class="button is-link">Sign Up</button>',an=m(),cn=f("div"),rn=f("a"),rn.textContent="Sign In",dn=m(),un=f("div"),un.innerHTML='<a href="/index.html" class="button is-link is-light">Cancel</a>',v(s,"class","title is-4"),v(p,"class","delete"),v(y,"class","title is-5"),v(u,"class","notification is-warning"),w(u,"is-hidden",!n[1].signin),v(k,"class","field"),v(H,"class","field"),v(j,"class","control"),v(T,"href","javascript:void(0)"),v(T,"class","button is-link is-outlined"),v(M,"class","control"),v(O,"class","control"),v(E,"class","field is-grouped"),v(a,"id","signin-form"),v(i,"class","item-box svelte-1i0zbm6"),v(t,"id","signin"),w(t,"is-hidden",!n[0]),v(I,"class","title is-4"),v(J,"class","delete"),v(G,"class","title is-5"),v(F,"class","notification is-danger"),w(F,"is-hidden",!n[1].signup),v(W,"class","field"),v(Y,"class","field"),v(nn,"class","field"),v(en,"class","field"),v(ln,"class","control"),v(rn,"href","javascript:void(0)"),v(rn,"class","button is-link is-outlined"),v(cn,"class","control"),v(un,"class","control"),v(on,"class","field is-grouped"),v(z,"id","signup-form"),v(U,"class","item-box svelte-1i0zbm6"),v(N,"id","signup"),w(N,"is-hidden",n[0])},m(e,d,f){r(e,t,d),c(t,i),c(i,s),c(i,l),c(i,a),c(a,u),c(u,p),c(u,g),c(u,y),c(u,$),c(u,x),pn&&pn.m(x,null),c(a,L),c(a,k),c(a,_),c(a,H),c(a,S),c(a,E),c(E,j),c(E,C),c(E,M),c(M,T),c(E,P),c(E,O),r(e,A,d),r(e,N,d),c(N,U),c(U,I),c(U,B),c(U,z),c(z,F),c(F,J),c(F,R),c(F,G),c(F,K),c(F,Q),mn&&mn.m(Q,null),c(z,V),c(z,W),c(z,X),c(z,Y),c(z,Z),c(z,nn),c(z,tn),c(z,en),c(z,sn),c(z,on),c(on,ln),c(on,an),c(on,cn),c(cn,rn),c(on,dn),c(on,un),f&&o(fn),fn=[h(p,"click",b(n[10])),h(T,"click",n[4]),h(a,"submit",b(n[2])),h(J,"click",b(n[11])),h(rn,"click",n[4]),h(z,"submit",b(n[3]))]},p(n,[e]){n[1].signin?pn?pn.p(n,e):(pn=q(n),pn.c(),pn.m(x,null)):pn&&(pn.d(1),pn=null),2&e&&w(u,"is-hidden",!n[1].signin),1&e&&w(t,"is-hidden",!n[0]),n[1].signup?mn?mn.p(n,e):(mn=D(n),mn.c(),mn.m(Q,null)):mn&&(mn.d(1),mn=null),2&e&&w(F,"is-hidden",!n[1].signup),1&e&&w(N,"is-hidden",n[0])},i:e,o:e,d(n){n&&d(t),pn&&pn.d(),n&&d(A),n&&d(N),mn&&mn.d(),o(fn)}}}function J(n,e,i){let{apiProtocol:s}=e,{apiHost:o}=e;const l=new URLSearchParams(window.location.search);let a=!l.has("signup"),c={signin:null,signup:null};async function r(n,e){const l=t(s,o,n),a=new FormData(document.getElementById(e)),r=await function(n,t,e){const i=function(n,t){const e=n.split(";").map(n=>n.split("=")).find(([n])=>n.trim()===t);return e?e[1]:void 0}(document.cookie,"csrf_token");return fetch(n,{method:e||"POST",credentials:"include",headers:{Accept:"application/json",...i&&{"x-csrf-token":i}},body:t})}(l,a);if(r.ok){const n=t(window.location.protocol,window.location.host,"dashboard.html");window.location.replace(n)}else{const t=await r.text();i(1,c[n]=JSON.parse(t),c)}}function d(n){i(1,c[n]=null,c)}return n.$set=n=>{"apiProtocol"in n&&i(6,s=n.apiProtocol),"apiHost"in n&&i(7,o=n.apiHost)},[a,c,function(){r("signin","signin-form")},function(){r("signup","signup-form")},function(){i(0,a=!a)},d,s,o,l,r,()=>d("signin"),()=>d("signup")]}class R extends class{$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=e}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}{constructor(n){super(),N(this,n,J,F,a,{apiProtocol:6,apiHost:7})}}return document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".navbar-burger"),t=document.querySelector(".navbar-menu");n.addEventListener("click",()=>{n.classList.contains("is-active")?(n.classList.remove("is-active"),t.classList.remove("is-active")):(n.classList.add("is-active"),t.classList.add("is-active"))})}),(async()=>{new R({target:document.getElementById("credentials"),props:{apiProtocol:n.protocol,apiHost:n.host}})})()}();
//# sourceMappingURL=credentials.js.map
